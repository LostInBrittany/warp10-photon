define(["exports","meta","require"],function(_exports,meta,_require2){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.hasChildNodes=hasChildNodes;_exports.supportsCssVariables=supportsCssVariables;_exports.applyPassive=applyPassive;_exports.getMatchesProperty=getMatchesProperty;_exports.getNormalizedEventCoords=getNormalizedEventCoords;_exports.supportsCssVariables$1=supportsCssVariables$2;_exports.applyPassive$1=applyPassive$1;_exports.getMatchesProperty$1=getMatchesProperty$1;_exports.getNormalizedEventCoords$1=getNormalizedEventCoords$1;_exports.flush=flush$3;_exports.list=list;_exports.push=push;_exports.pop=pop;_exports.shift=shift;_exports.get=get$1;_exports.last=last;_exports.clean=clean$1;_exports.replace=replace;_exports.mixinBehaviors=mixinBehaviors;_exports.register=register;_exports.dumpRegistrations=dumpRegistrations;_exports.calculateSplices=calculateSplices;_exports.dashToCamelCase=dashToCamelCase;_exports.camelToDashCase=camelToDashCase;_exports.deepTargetFind=deepTargetFind;_exports.addListener=addListener;_exports.removeListener=removeListener;_exports.register$1=register$1;_exports.setTouchAction=setTouchAction;_exports.prevent=prevent;_exports.resetMouseCanceller=resetMouseCanceller;_exports.isPath=isPath;_exports.root=root;_exports.isAncestor=isAncestor;_exports.isDescendant=isDescendant;_exports.translate=translate;_exports.matches=matches;_exports.normalize=normalize;_exports.split=split;_exports.get$1=get;_exports.set=set;_exports.beforeNextRender=beforeNextRender;_exports.afterNextRender=afterNextRender;_exports.flush$3=flush;_exports.resolveUrl=resolveUrl;_exports.resolveCss=resolveCss;_exports.pathFromUrl=pathFromUrl;_exports.stylesFromModules=stylesFromModules;_exports.stylesFromModule=stylesFromModule;_exports.stylesFromTemplate=stylesFromTemplate;_exports.stylesFromModuleImports=stylesFromModuleImports;_exports.cssFromModules=cssFromModules;_exports.cssFromModule=cssFromModule;_exports.cssFromTemplate=cssFromTemplate;_exports.cssFromModuleImports=cssFromModuleImports;_exports.templatize=templatize;_exports.modelForElement=modelForElement;_exports.invalidate=invalidate;_exports.invalidateTemplate=invalidateTemplate;_exports.isValid=isValid;_exports.templateIsValid=templateIsValid;_exports.isValidating=isValidating;_exports.templateIsValidating=templateIsValidating;_exports.startValidating=startValidating;_exports.startValidatingTemplate=startValidatingTemplate;_exports.elementsAreInvalid=elementsAreInvalid;_exports.updateNativeProperties=updateNativeProperties;_exports.getComputedStyleValue=getComputedStyleValue;_exports.detectMixin=detectMixin;_exports.parse=parse;_exports.stringify=stringify;_exports.removeCustomPropAssignment=removeCustomPropAssignment;_exports.$documentWaitDefault=documentWait;_exports.toCssText=toCssText;_exports.rulesForStyle=rulesForStyle;_exports.isKeyframesSelector=isKeyframesSelector;_exports.forEachRule=forEachRule;_exports.applyCss=applyCss;_exports.createScopeStyle=createScopeStyle;_exports.applyStylePlaceHolder=applyStylePlaceHolder;_exports.applyStyle=applyStyle;_exports.isTargetedBuild=isTargetedBuild;_exports.getCssBuildType=getCssBuildType;_exports.findMatchingParen=findMatchingParen;_exports.processVariableAndFallback=processVariableAndFallback;_exports.setElementClassRaw=setElementClassRaw;_exports.getIsExtends=getIsExtends;_exports.gatherStyleText=gatherStyleText;_exports.splitSelectorList=splitSelectorList;_exports.processUnscopedStyle=processUnscopedStyle;_exports.isUnscopedStyle=isUnscopedStyle;_exports.removeNodesFromTemplate=removeNodesFromTemplate;_exports.insertNodeIntoTemplate=insertNodeIntoTemplate;_exports.templateFactory$1=_exports.templateFactory=templateFactory;_exports.$mutableDataBehavior=_exports.$legacyElementMixin=_exports.$class=_exports.$domRepeat=_exports.$domModule=_exports.$domIf=_exports.$domBind=_exports.$customStyle=_exports.$arraySelector=_exports.$litElement=_exports.$updatingElement=_exports.$decorators=_exports.$photonWarpscriptExec=_exports.$photonTimeseriesTools=_exports.$photonPermalinkTools=_exports.$photonLooseJSON=_exports.$bigEsm=_exports.$photonTextfield=_exports.$photonTextfieldCss=_exports.$photonSwitch=_exports.$photonSharedStyles=_exports.$photonNodeRenderer=_exports.$photonCreateIterator=_exports.$photonHistoryHelper=_exports.util$1=_exports.$util$1=_exports.$index$10=_exports.$foundation$14=_exports.$constants$9=_exports.$adapter$9=_exports.$foundation$13=_exports.$component$4=_exports.$index$9=_exports.$index$8=_exports.$foundation$12=_exports.$constants$8=_exports.$adapter$8=_exports.$index$7=_exports.$foundation$11=_exports.$constants$7=_exports.$adapter$7=_exports.$foundation$10=_exports.$constants$6=_exports.$adapter$6=_exports.$foundation$9=_exports.$constants$5=_exports.$adapter$5=_exports.$index$6=_exports.util=_exports.$util=_exports.$index$5=_exports.$foundation$8=_exports.$constants$4=_exports.$adapter$4=_exports.$foundation$7=_exports.$constants$3=_exports.$adapter$3=_exports.$foundation$6=_exports.$component$3=_exports.$index$4=_exports.$foundation$5=_exports.$constants$2=_exports.$adapter$2=_exports.$mwcSwitchCss=_exports.$rippleDirective=_exports.$mwcRippleGlobalCss=_exports.$selectionController=_exports.$mwcRadio=_exports.$mwcRadioCss=_exports.$mwcIcon=_exports.$mwcIconHostCss=_exports.$mwcButton=_exports.$mwcButtonCss=_exports.$observer=_exports.$mdcWebComponent=_exports.$formElement=_exports.$componentElement=_exports.$baseElement=_exports.$foundation$4=_exports.$component$2=_exports.$index$3=_exports.$foundation$3=_exports.$constants$1=_exports.$adapter$1=_exports.$foundation$2=_exports.$component$1=_exports.$index$2=_exports.$foundation$1=_exports.$constants=_exports.$adapter=_exports.$foundation=_exports.$component=_exports.$index$1=_exports.$graniteJsDependenciesGrabberMixin=_exports.$pathUtils=_exports.$index=_exports.$chromeLight=_exports.$chromeDark=_exports.$createStyles=_exports.$graniteCssInjector=void 0;_exports.customElement$3=_exports.customElement$2=_exports.customElement$1=_exports.customElement=_exports.UpdatingElement$3=_exports.UpdatingElement$2=_exports.UpdatingElement$1=_exports.UpdatingElement=_exports.notEqual$3=_exports.notEqual$2=_exports.notEqual$1=_exports.notEqual=_exports.TemplateResult$4=_exports.TemplateResult$3=_exports.TemplateResult$2=_exports.TemplateResult$1=_exports.TemplateResult=_exports.$foundationDefault$4=_exports.$componentDefault$2=_exports.MDCLineRipple=_exports.MDCLineRippleFoundation=_exports.$foundationDefault$3=_exports.cssClasses$1=_exports.$adapterDefault$1=_exports.$foundationDefault$2=_exports.$componentDefault$1=_exports.MDCFloatingLabel=_exports.MDCFloatingLabelFoundation=_exports.$foundationDefault$1=_exports.cssClasses=_exports.$adapterDefault=_exports.$foundationDefault=_exports.$componentDefault=_exports.$indexDefault=_exports.shortcuts=_exports.GraniteJsDependenciesGrabberMixin=_exports.getExpandedPaths=_exports.wildcardPathsFromLevel=_exports.DEFAULT_ROOT_PATH=_exports.chromeLight=_exports.$chromeLightDefault=_exports.chromeDark=_exports.$chromeDarkDefault=_exports.createStyles=_exports.$createStylesDefault=_exports.GraniteCssInjector=_exports.$litHtml=_exports.$template=_exports.$templateResult=_exports.$templateInstance=_exports.$templateFactory=_exports.$shadyRender=_exports.$render=_exports.$parts=_exports.$part=_exports.$modifyTemplate=_exports.$dom=_exports.$directive=_exports.$defaultTemplateProcessor=_exports.$classMap=_exports.$unscopedStyleHandler=_exports.$templateMap=_exports.$styleUtil=_exports.$styleSettings=_exports.$documentWait=_exports.$customStyleInterface$1=_exports.$cssParse=_exports.$commonUtils=_exports.$commonRegex=_exports.$applyShim$1=_exports.$applyShimUtils=_exports.$polymerLegacy=_exports.$polymerElement=_exports.$templatize=_exports.$styleGather=_exports.$settings=_exports.$resolveUrl=_exports.$renderStatus=_exports.$path=_exports.$mixin=_exports.$htmlTag=_exports.$gestures=_exports.$flush=_exports.$flattenedNodesObserver=_exports.$debounce=_exports.$caseMap=_exports.$async=_exports.$arraySplice=_exports.$templateStamp=_exports.$propertyEffects=_exports.$propertyAccessors=_exports.$propertiesMixin=_exports.$propertiesChanged=_exports.$mutableData=_exports.$gestureEventListeners=_exports.$elementMixin=_exports.$dirMixin=_exports.$templatizerBehavior=_exports.$polymerDom=_exports.$polymerFn=void 0;_exports.strings$6=_exports.$adapterDefault$7=_exports.MDCTextFieldHelperText$1=_exports.MDCTextFieldHelperText=_exports.MDCTextFieldHelperTextFoundation$1=_exports.MDCTextFieldHelperTextFoundation=_exports.$foundationDefault$11=_exports.cssClasses$7=_exports.strings$5=_exports.$adapterDefault$6=_exports.MDCTextFieldFoundation=_exports.$foundationDefault$10=_exports.ALWAYS_FLOAT_TYPES=_exports.VALIDATION_ATTR_WHITELIST=_exports.numbers$2=_exports.strings$4=_exports.cssClasses$6=_exports.FoundationMapType=_exports.NativeInputType=_exports.MDCTextFieldAdapter=_exports.$foundationDefault$9=_exports.strings$3=_exports.cssClasses$5=_exports.$adapterDefault$5=_exports.MDCSelectionControl=_exports.MDCSelectionControlState=_exports.RippleCapableSurface=_exports.MDCRipple=_exports.MDCRippleFoundation=_exports.$foundationDefault$8=_exports.numbers$1=_exports.strings$2=_exports.cssClasses$4=_exports.$adapterDefault$4=_exports.$foundationDefault$7=_exports.cssClasses$3=_exports.strings$1=_exports.$adapterDefault$3=_exports.$foundationDefault$6=_exports.$componentDefault$3=_exports.MDCNotchedOutline=_exports.MDCNotchedOutlineFoundation=_exports.$foundationDefault$5=_exports.numbers=_exports.strings=_exports.cssClasses$2=_exports.$adapterDefault$2=_exports.style$4=_exports.ripple=_exports.rippleNode=_exports.style$3=_exports.SelectionController=_exports.Radio=_exports.style$2=_exports.Icon=_exports.style$1=_exports.Button=_exports.style=_exports.FormElement=_exports.ComponentElement=_exports.MDCWebComponentMixin$1=_exports.MDCWebComponentMixin=_exports.BaseElement$1=_exports.BaseElement=_exports.observer$2=_exports.observer$1=_exports.observer=_exports.classMap$2=_exports.classMap$1=_exports.classMap=_exports.LitElement$2=_exports.LitElement$1=_exports.LitElement=_exports.svg$4=_exports.svg$3=_exports.svg$2=_exports.svg$1=_exports.svg=_exports.html$8=_exports.html$7=_exports.html$3=_exports.html$2=_exports.html$1=_exports.html=_exports.eventOptions$3=_exports.eventOptions$2=_exports.eventOptions$1=_exports.eventOptions=_exports.queryAll$3=_exports.queryAll$2=_exports.queryAll$1=_exports.queryAll=_exports.query$3=_exports.query$2=_exports.query$1=_exports.query=_exports.property$3=_exports.property$2=_exports.property$1=_exports.property=void 0;_exports.ANIMATION_MATCH=_exports.VAR_CONSUMED=_exports.MIXIN_MATCH=_exports.VAR_ASSIGN=_exports.$applyShimDefault=_exports.Base=_exports.PolymerElement=_exports.TemplateInstanceBase=_exports.setPassiveTouchGestures=_exports.passiveTouchGestures=_exports.setSanitizeDOMValue=_exports.sanitizeDOMValue=_exports.setRootPath=_exports.rootPath=_exports.useNativeCustomElements=_exports.useNativeCSSProperties=_exports.useShadow=_exports.isDeep=_exports.dedupingMixin=_exports.htmlLiteral=_exports.html$6=_exports.html$5=_exports.html$4=_exports.remove=_exports.add=_exports.findOriginalTarget=_exports.recognizers=_exports.gestures=_exports.FlattenedNodesObserver=_exports.Debouncer=_exports.microTask=_exports.idlePeriod=_exports.animationFrame=_exports.timeOut=_exports.TemplateStamp=_exports.PropertyEffects=_exports.PropertyAccessors=_exports.PropertiesMixin=_exports.PropertiesChanged=_exports.OptionalMutableData=_exports.MutableData=_exports.GestureEventListeners=_exports.updateStyles=_exports.registrations=_exports.instanceCount=_exports.ElementMixin=_exports.DirMixin=_exports.Templatizer=_exports.enqueueDebouncer=_exports.addDebouncer=_exports.flush$2=_exports.flush$1=_exports.dom=_exports.DomApi=_exports.matchesSelector=_exports.Polymer$1=_exports.Polymer=_exports.OptionalMutableDataBehavior=_exports.MutableDataBehavior=_exports.LegacyElementMixin=_exports.Class=_exports.DomRepeat=_exports.DomModule=_exports.DomIf=_exports.DomBind=_exports.CustomStyle=_exports.ArraySelector=_exports.ArraySelectorMixin=_exports.$photonWarpscriptExecDefault=_exports.$photonTimeseriesToolsDefault=_exports.timeseriesTools=_exports.$photonPermalinkToolsDefault=_exports.photonPermalinkTools=_exports.$photonLooseJSONDefault=_exports.looseJSON=_exports.$bigEsmDefault=_exports.Big=_exports.Textfield=_exports.style$5=_exports.Switch=_exports.$photonSharedStylesDefault=_exports.$photonNodeRendererDefault=_exports.$photonCreateIteratorDefault=_exports.$photonHistoryHelperDefault=_exports.RippleCapableSurface$1=_exports.MDCRipple$1=_exports.MDCRippleFoundation$1=_exports.$foundationDefault$14=_exports.numbers$3=_exports.strings$7=_exports.cssClasses$8=_exports.$adapterDefault$8=_exports.$foundationDefault$13=_exports.$componentDefault$4=_exports.MDCTextField=_exports.MDCTextFieldIcon$1=_exports.MDCTextFieldIcon=_exports.MDCTextFieldIconFoundation$1=_exports.MDCTextFieldIconFoundation=_exports.$foundationDefault$12=void 0;_exports.lastAttributeNameRegex$1=_exports.lastAttributeNameRegex=_exports.createMarker$1=_exports.createMarker=_exports.isTemplatePartActive$1=_exports.isTemplatePartActive=_exports.Template$1=_exports.Template=_exports.rewritesStyleAttribute$1=_exports.rewritesStyleAttribute=_exports.markerRegex$1=_exports.markerRegex=_exports.nodeMarker$1=_exports.nodeMarker=_exports.marker$1=_exports.marker=_exports.SVGTemplateResult$1=_exports.SVGTemplateResult=_exports.TemplateInstance$1=_exports.TemplateInstance=_exports.templateCaches$1=_exports.templateCaches=_exports.render$1=_exports.render=_exports.parts=_exports.EventPart$1=_exports.EventPart=_exports.PropertyPart$1=_exports.PropertyPart=_exports.PropertyCommitter$1=_exports.PropertyCommitter=_exports.BooleanAttributePart$1=_exports.BooleanAttributePart=_exports.NodePart$1=_exports.NodePart=_exports.AttributePart$1=_exports.AttributePart=_exports.AttributeCommitter$1=_exports.AttributeCommitter=_exports.isPrimitive$1=_exports.isPrimitive=_exports.noChange$1=_exports.noChange=_exports.removeNodes$1=_exports.removeNodes=_exports.reparentNodes$1=_exports.reparentNodes=_exports.isCEPolyfill$1=_exports.isCEPolyfill=_exports.isDirective=_exports.directive=_exports.defaultTemplateProcessor$1=_exports.defaultTemplateProcessor=_exports.DefaultTemplateProcessor$1=_exports.DefaultTemplateProcessor=_exports.scopingAttribute=_exports.$templateMapDefault=_exports.nativeCssVariables=_exports.nativeShadow=_exports.CustomStyleInterfaceInterface=_exports.$customStyleInterfaceDefault=_exports.CustomStyleProvider=_exports.types=_exports.StyleNode=_exports.HOST_SUFFIX=_exports.HOST_PREFIX=_exports.BRACKETED=_exports.IS_VAR=_exports.MEDIA_MATCH=void 0;meta=babelHelpers.interopRequireWildcard(meta);_require2=babelHelpers.interopRequireWildcard(_require2);var _Mathceil=Math.ceil,_NumberMAX_VALUE=Number.MAX_VALUE,_Mathsqrt=Math.sqrt,_StringfromCharCode=String.fromCharCode,_Mathpow=Math.pow,_Mathround=Math.round,_Mathabs=Math.abs,_Mathmin=Math.min,_Mathmax=Math.max,_Stringprototype=String.prototype,_Mathfloor=Math.floor;window.JSCompiler_renameProperty=function(prop){return prop};let CSS_URL_RX=/(url\()([^)]*)(\))/g,ABS_URL=/(^\/)|(^#)|(^[\w-\d]*:)/,workingURL,resolveDoc;function resolveUrl(url,baseURI){if(url&&ABS_URL.test(url)){return url}if(workingURL===void 0){workingURL=!1;try{const u=new URL("b","http://a");u.pathname="c%20d";workingURL="http://a/c%20d"===u.href}catch(e){}}if(!baseURI){baseURI=document.baseURI||window.location.href}if(workingURL){return new URL(url,baseURI).href}if(!resolveDoc){resolveDoc=document.implementation.createHTMLDocument("temp");resolveDoc.base=resolveDoc.createElement("base");resolveDoc.head.appendChild(resolveDoc.base);resolveDoc.anchor=resolveDoc.createElement("a");resolveDoc.body.appendChild(resolveDoc.anchor)}resolveDoc.base.href=baseURI;resolveDoc.anchor.href=url;return resolveDoc.anchor.href||url}function resolveCss(cssText,baseURI){return cssText.replace(CSS_URL_RX,function(m,pre,url,post){return pre+"'"+resolveUrl(url.replace(/["']/g,""),baseURI)+"'"+post})}function pathFromUrl(url){return url.substring(0,url.lastIndexOf("/")+1)}_exports.$resolveUrl={resolveUrl:resolveUrl,resolveCss:resolveCss,pathFromUrl:pathFromUrl};const useShadow=!window.ShadyDOM;_exports.useShadow=useShadow;const useNativeCSSProperties=!!(!window.ShadyCSS||window.ShadyCSS.nativeCss);_exports.useNativeCSSProperties=useNativeCSSProperties;const useNativeCustomElements=!window.customElements.polyfillWrapFlushCallback;_exports.useNativeCustomElements=useNativeCustomElements;let rootPath=void 0||pathFromUrl(document.baseURI||window.location.href);_exports.rootPath=rootPath;const setRootPath=function(path){_exports.rootPath=rootPath=path};_exports.setRootPath=setRootPath;let sanitizeDOMValue;_exports.sanitizeDOMValue=sanitizeDOMValue;const setSanitizeDOMValue=function(newSanitizeDOMValue){_exports.sanitizeDOMValue=sanitizeDOMValue=newSanitizeDOMValue};_exports.setSanitizeDOMValue=setSanitizeDOMValue;let passiveTouchGestures=!1;_exports.passiveTouchGestures=passiveTouchGestures;const setPassiveTouchGestures=function(usePassive){_exports.passiveTouchGestures=passiveTouchGestures=usePassive};_exports.setPassiveTouchGestures=setPassiveTouchGestures;var settings={useShadow:useShadow,useNativeCSSProperties:useNativeCSSProperties,useNativeCustomElements:useNativeCustomElements,get rootPath(){return rootPath},setRootPath:setRootPath,get sanitizeDOMValue(){return sanitizeDOMValue},setSanitizeDOMValue:setSanitizeDOMValue,get passiveTouchGestures(){return passiveTouchGestures},setPassiveTouchGestures:setPassiveTouchGestures};_exports.$settings=settings;let dedupeId=0;function MixinFunction(){}MixinFunction.prototype.__mixinApplications;MixinFunction.prototype.__mixinSet;const dedupingMixin=function(mixin){let mixinApplications=mixin.__mixinApplications;if(!mixinApplications){mixinApplications=new WeakMap;mixin.__mixinApplications=mixinApplications}let mixinDedupeId=dedupeId++;function dedupingMixin(base){let baseSet=base.__mixinSet;if(baseSet&&baseSet[mixinDedupeId]){return base}let map=mixinApplications,extended=map.get(base);if(!extended){extended=mixin(base);map.set(base,extended)}let mixinSet=Object.create(extended.__mixinSet||baseSet||null);mixinSet[mixinDedupeId]=!0;extended.__mixinSet=mixinSet;return extended}return dedupingMixin};_exports.dedupingMixin=dedupingMixin;_exports.$mixin={dedupingMixin:dedupingMixin};const SHADY_UNSCOPED_ATTR="shady-unscoped";function importModule(moduleId){const PolymerDomModule=customElements.get("dom-module");if(!PolymerDomModule){return null}return PolymerDomModule.import(moduleId)}function styleForImport(importDoc){let container=importDoc.body?importDoc.body:importDoc;const importCss=resolveCss(container.textContent,importDoc.baseURI),style=document.createElement("style");style.textContent=importCss;return style}function stylesFromModules(moduleIds){const modules=moduleIds.trim().split(/\s+/),styles=[];for(let i=0;i<modules.length;i++){styles.push(...stylesFromModule(modules[i]))}return styles}function stylesFromModule(moduleId){const m=importModule(moduleId);if(!m){console.warn("Could not find style data in module named",moduleId);return[]}if(m._styles===void 0){const styles=[..._stylesFromModuleImports(m)],template=m.querySelector("template");if(template){styles.push(...stylesFromTemplate(template,m.assetpath))}m._styles=styles}return m._styles}function stylesFromTemplate(template,baseURI){if(!template._styles){const styles=[],e$=template.content.querySelectorAll("style");for(let i=0;i<e$.length;i++){let e=e$[i],include=e.getAttribute("include");if(include){styles.push(...stylesFromModules(include).filter(function(item,index,self){return self.indexOf(item)===index}))}if(baseURI){e.textContent=resolveCss(e.textContent,baseURI)}styles.push(e)}template._styles=styles}return template._styles}function stylesFromModuleImports(moduleId){let m=importModule(moduleId);return m?_stylesFromModuleImports(m):[]}function _stylesFromModuleImports(module){const styles=[],p$=module.querySelectorAll("link[rel=import][type~=css]");for(let i=0,p;i<p$.length;i++){p=p$[i];if(p.import){const importDoc=p.import,unscoped=p.hasAttribute(SHADY_UNSCOPED_ATTR);if(unscoped&&!importDoc._unscopedStyle){const style=styleForImport(importDoc);style.setAttribute(SHADY_UNSCOPED_ATTR,"");importDoc._unscopedStyle=style}else if(!importDoc._style){importDoc._style=styleForImport(importDoc)}styles.push(unscoped?importDoc._unscopedStyle:importDoc._style)}}return styles}function cssFromModules(moduleIds){let modules=moduleIds.trim().split(/\s+/),cssText="";for(let i=0;i<modules.length;i++){cssText+=cssFromModule(modules[i])}return cssText}function cssFromModule(moduleId){let m=importModule(moduleId);if(m&&m._cssText===void 0){let cssText=_cssFromModuleImports(m),t=m.querySelector("template");if(t){cssText+=cssFromTemplate(t,m.assetpath)}m._cssText=cssText||null}if(!m){console.warn("Could not find style data in module named",moduleId)}return m&&m._cssText||""}function cssFromTemplate(template,baseURI){let cssText="";const e$=stylesFromTemplate(template,baseURI);for(let i=0,e;i<e$.length;i++){e=e$[i];if(e.parentNode){e.parentNode.removeChild(e)}cssText+=e.textContent}return cssText}function cssFromModuleImports(moduleId){let m=importModule(moduleId);return m?_cssFromModuleImports(m):""}function _cssFromModuleImports(module){let cssText="",styles=_stylesFromModuleImports(module);for(let i=0;i<styles.length;i++){cssText+=styles[i].textContent}return cssText}_exports.$styleGather={stylesFromModules:stylesFromModules,stylesFromModule:stylesFromModule,stylesFromTemplate:stylesFromTemplate,stylesFromModuleImports:stylesFromModuleImports,cssFromModules:cssFromModules,cssFromModule:cssFromModule,cssFromTemplate:cssFromTemplate,cssFromModuleImports:cssFromModuleImports};let modules={},lcModules={};function findModule(id){return modules[id]||lcModules[id.toLowerCase()]}function styleOutsideTemplateCheck(inst){if(inst.querySelector("style")){console.warn("dom-module %s has style outside template",inst.id)}}class DomModule extends HTMLElement{static get observedAttributes(){return["id"]}static import(id,selector){if(id){let m=findModule(id);if(m&&selector){return m.querySelector(selector)}return m}return null}attributeChangedCallback(name,old,value){if(old!==value){this.register()}}get assetpath(){if(!this.__assetpath){const owner=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,url=resolveUrl(this.getAttribute("assetpath")||"",owner.baseURI);this.__assetpath=pathFromUrl(url)}return this.__assetpath}register(id){id=id||this.id;if(id){this.id=id;modules[id]=this;lcModules[id.toLowerCase()]=this;styleOutsideTemplateCheck(this)}}}_exports.DomModule=DomModule;DomModule.prototype.modules=modules;customElements.define("dom-module",DomModule);_exports.$domModule={DomModule:DomModule};function isPath(path){return 0<=path.indexOf(".")}function root(path){let dotIndex=path.indexOf(".");if(-1===dotIndex){return path}return path.slice(0,dotIndex)}function isAncestor(base,path){return 0===base.indexOf(path+".")}function isDescendant(base,path){return 0===path.indexOf(base+".")}function translate(base,newBase,path){return newBase+path.slice(base.length)}function matches(base,path){return base===path||isAncestor(base,path)||isDescendant(base,path)}function normalize(path){if(Array.isArray(path)){let parts=[];for(let i=0,args;i<path.length;i++){args=path[i].toString().split(".");for(let j=0;j<args.length;j++){parts.push(args[j])}}return parts.join(".")}else{return path}}function split(path){if(Array.isArray(path)){return normalize(path).split(".")}return path.toString().split(".")}function get(root,path,info){let prop=root,parts=split(path);for(let i=0;i<parts.length;i++){if(!prop){return}let part=parts[i];prop=prop[part]}if(info){info.path=parts.join(".")}return prop}function set(root,path,value){let prop=root,parts=split(path),last=parts[parts.length-1];if(1<parts.length){for(let i=0,part;i<parts.length-1;i++){part=parts[i];prop=prop[part];if(!prop){return}}prop[last]=value}else{prop[path]=value}return parts.join(".")}const isDeep=isPath;_exports.isDeep=isDeep;_exports.$path={isPath:isPath,root:root,isAncestor:isAncestor,isDescendant:isDescendant,translate:translate,matches:matches,normalize:normalize,split:split,get:get,set:set,isDeep:isDeep};const caseMap={},DASH_TO_CAMEL=/-[a-z]/g,CAMEL_TO_DASH=/([A-Z])/g;function dashToCamelCase(dash){return caseMap[dash]||(caseMap[dash]=0>dash.indexOf("-")?dash:dash.replace(DASH_TO_CAMEL,m=>m[1].toUpperCase()))}function camelToDashCase(camel){return caseMap[camel]||(caseMap[camel]=camel.replace(CAMEL_TO_DASH,"-$1").toLowerCase())}var caseMap$1={dashToCamelCase:dashToCamelCase,camelToDashCase:camelToDashCase};_exports.$caseMap=caseMap$1;let microtaskCurrHandle=0,microtaskLastHandle=0,microtaskCallbacks=[],microtaskNodeContent=0,microtaskNode=document.createTextNode("");new window.MutationObserver(function(){const len=microtaskCallbacks.length;for(let i=0,cb;i<len;i++){cb=microtaskCallbacks[i];if(cb){try{cb()}catch(e){setTimeout(()=>{throw e})}}}microtaskCallbacks.splice(0,len);microtaskLastHandle+=len}).observe(microtaskNode,{characterData:!0});const timeOut={after(delay){return{run(fn){return window.setTimeout(fn,delay)},cancel(handle){window.clearTimeout(handle)}}},run(fn,delay){return window.setTimeout(fn,delay)},cancel(handle){window.clearTimeout(handle)}};_exports.timeOut=timeOut;const animationFrame={run(fn){return window.requestAnimationFrame(fn)},cancel(handle){window.cancelAnimationFrame(handle)}};_exports.animationFrame=animationFrame;const idlePeriod={run(fn){return window.requestIdleCallback?window.requestIdleCallback(fn):window.setTimeout(fn,16)},cancel(handle){window.cancelIdleCallback?window.cancelIdleCallback(handle):window.clearTimeout(handle)}};_exports.idlePeriod=idlePeriod;const microTask={run(callback){microtaskNode.textContent=microtaskNodeContent++;microtaskCallbacks.push(callback);return microtaskCurrHandle++},cancel(handle){const idx=handle-microtaskLastHandle;if(0<=idx){if(!microtaskCallbacks[idx]){throw new Error("invalid async handle: "+handle)}microtaskCallbacks[idx]=null}}};_exports.microTask=microTask;_exports.$async={timeOut:timeOut,animationFrame:animationFrame,idlePeriod:idlePeriod,microTask:microTask};const PropertiesChanged=dedupingMixin(superClass=>{return class extends superClass{static createProperties(props){const proto=this.prototype;for(let prop in props){if(!(prop in proto)){proto._createPropertyAccessor(prop)}}}static attributeNameForProperty(property){return property.toLowerCase()}static typeForProperty(){}_createPropertyAccessor(property,readOnly){this._addPropertyToAttributeMap(property);if(!this.hasOwnProperty("__dataHasAccessor")){this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)}if(!this.__dataHasAccessor[property]){this.__dataHasAccessor[property]=!0;this._definePropertyAccessor(property,readOnly)}}_addPropertyToAttributeMap(property){if(!this.hasOwnProperty("__dataAttributes")){this.__dataAttributes=Object.assign({},this.__dataAttributes)}if(!this.__dataAttributes[property]){const attr=this.constructor.attributeNameForProperty(property);this.__dataAttributes[attr]=property}}_definePropertyAccessor(property,readOnly){Object.defineProperty(this,property,{get(){return this._getProperty(property)},set:readOnly?function(){}:function(value){this._setProperty(property,value)}})}constructor(){super();this.__dataEnabled=!1;this.__dataReady=!1;this.__dataInvalid=!1;this.__data={};this.__dataPending=null;this.__dataOld=null;this.__dataInstanceProps=null;this.__serializing=!1;this._initializeProperties()}ready(){this.__dataReady=!0;this._flushProperties()}_initializeProperties(){for(let p in this.__dataHasAccessor){if(this.hasOwnProperty(p)){this.__dataInstanceProps=this.__dataInstanceProps||{};this.__dataInstanceProps[p]=this[p];delete this[p]}}}_initializeInstanceProperties(props){Object.assign(this,props)}_setProperty(property,value){if(this._setPendingProperty(property,value)){this._invalidateProperties()}}_getProperty(property){return this.__data[property]}_setPendingProperty(property,value){let old=this.__data[property],changed=this._shouldPropertyChange(property,value,old);if(changed){if(!this.__dataPending){this.__dataPending={};this.__dataOld={}}if(this.__dataOld&&!(property in this.__dataOld)){this.__dataOld[property]=old}this.__data[property]=value;this.__dataPending[property]=value}return changed}_invalidateProperties(){if(!this.__dataInvalid&&this.__dataReady){this.__dataInvalid=!0;microTask.run(()=>{if(this.__dataInvalid){this.__dataInvalid=!1;this._flushProperties()}})}}_enableProperties(){if(!this.__dataEnabled){this.__dataEnabled=!0;if(this.__dataInstanceProps){this._initializeInstanceProperties(this.__dataInstanceProps);this.__dataInstanceProps=null}this.ready()}}_flushProperties(){const props=this.__data,changedProps=this.__dataPending,old=this.__dataOld;if(this._shouldPropertiesChange(props,changedProps,old)){this.__dataPending=null;this.__dataOld=null;this._propertiesChanged(props,changedProps,old)}}_shouldPropertiesChange(currentProps,changedProps){return!!changedProps}_propertiesChanged(){}_shouldPropertyChange(property,value,old){return old!==value&&(old===old||value===value)}attributeChangedCallback(name,old,value,namespace){if(old!==value){this._attributeToProperty(name,value)}if(super.attributeChangedCallback){super.attributeChangedCallback(name,old,value,namespace)}}_attributeToProperty(attribute,value,type){if(!this.__serializing){const map=this.__dataAttributes,property=map&&map[attribute]||attribute;this[property]=this._deserializeValue(value,type||this.constructor.typeForProperty(property))}}_propertyToAttribute(property,attribute,value){this.__serializing=!0;value=3>arguments.length?this[property]:value;this._valueToNodeAttribute(this,value,attribute||this.constructor.attributeNameForProperty(property));this.__serializing=!1}_valueToNodeAttribute(node,value,attribute){const str=this._serializeValue(value);if(str===void 0){node.removeAttribute(attribute)}else{node.setAttribute(attribute,str)}}_serializeValue(value){switch(typeof value){case"boolean":return value?"":void 0;default:return null!=value?value.toString():void 0;}}_deserializeValue(value,type){switch(type){case Boolean:return null!==value;case Number:return+value;default:return value;}}}});_exports.PropertiesChanged=PropertiesChanged;_exports.$propertiesChanged={PropertiesChanged:PropertiesChanged};let caseMap$2=caseMap$1;const nativeProperties={};let proto=HTMLElement.prototype;while(proto){let props=Object.getOwnPropertyNames(proto);for(let i=0;i<props.length;i++){nativeProperties[props[i]]=!0}proto=Object.getPrototypeOf(proto)}function saveAccessorValue(model,property){if(!nativeProperties[property]){let value=model[property];if(value!==void 0){if(model.__data){model._setPendingProperty(property,value)}else{if(!model.__dataProto){model.__dataProto={}}else if(!model.hasOwnProperty(JSCompiler_renameProperty("__dataProto",model))){model.__dataProto=Object.create(model.__dataProto)}model.__dataProto[property]=value}}}}const PropertyAccessors=dedupingMixin(superClass=>{const base=PropertiesChanged(superClass);return class extends base{static createPropertiesForAttributes(){let a$=this.observedAttributes;for(let i=0;i<a$.length;i++){this.prototype._createPropertyAccessor(caseMap$2.dashToCamelCase(a$[i]))}}static attributeNameForProperty(property){return caseMap$2.camelToDashCase(property)}_initializeProperties(){if(this.__dataProto){this._initializeProtoProperties(this.__dataProto);this.__dataProto=null}super._initializeProperties()}_initializeProtoProperties(props){for(let p in props){this._setProperty(p,props[p])}}_ensureAttribute(attribute,value){const el=this;if(!el.hasAttribute(attribute)){this._valueToNodeAttribute(el,value,attribute)}}_serializeValue(value){switch(typeof value){case"object":if(value instanceof Date){return value.toString()}else if(value){try{return JSON.stringify(value)}catch(x){return""}}default:return super._serializeValue(value);}}_deserializeValue(value,type){let outValue;switch(type){case Object:try{outValue=JSON.parse(value)}catch(x){outValue=value}break;case Array:try{outValue=JSON.parse(value)}catch(x){outValue=null;console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${value}`)}break;case Date:outValue=isNaN(value)?value+"":+value;outValue=new Date(outValue);break;default:outValue=super._deserializeValue(value,type);break;}return outValue}_definePropertyAccessor(property,readOnly){saveAccessorValue(this,property);super._definePropertyAccessor(property,readOnly)}_hasAccessor(property){return this.__dataHasAccessor&&this.__dataHasAccessor[property]}_isPropertyPending(prop){return!!(this.__dataPending&&prop in this.__dataPending)}}});_exports.PropertyAccessors=PropertyAccessors;_exports.$propertyAccessors={PropertyAccessors:PropertyAccessors};const templateExtensions={"dom-if":!0,"dom-repeat":!0};function wrapTemplateExtension(node){let is=node.getAttribute("is");if(is&&templateExtensions[is]){let t=node;t.removeAttribute("is");node=t.ownerDocument.createElement(is);t.parentNode.replaceChild(node,t);node.appendChild(t);while(t.attributes.length){node.setAttribute(t.attributes[0].name,t.attributes[0].value);t.removeAttribute(t.attributes[0].name)}}return node}function findTemplateNode(root,nodeInfo){let parent=nodeInfo.parentInfo&&findTemplateNode(root,nodeInfo.parentInfo);if(parent){for(let n=parent.firstChild,i=0;n;n=n.nextSibling){if(nodeInfo.parentIndex===i++){return n}}}else{return root}}function applyIdToMap(inst,map,node,nodeInfo){if(nodeInfo.id){map[nodeInfo.id]=node}}function applyEventListener(inst,node,nodeInfo){if(nodeInfo.events&&nodeInfo.events.length){for(let j=0,e$=nodeInfo.events,e;j<e$.length&&(e=e$[j]);j++){inst._addMethodEventListenerToNode(node,e.name,e.value,inst)}}}function applyTemplateContent(inst,node,nodeInfo){if(nodeInfo.templateInfo){node._templateInfo=nodeInfo.templateInfo}}function createNodeEventHandler(context,eventName,methodName){context=context._methodHost||context;let handler=function(e){if(context[methodName]){context[methodName](e,e.detail)}else{console.warn("listener method `"+methodName+"` not defined")}};return handler}const TemplateStamp=dedupingMixin(superClass=>{return class extends superClass{static _parseTemplate(template,outerTemplateInfo){if(!template._templateInfo){let templateInfo=template._templateInfo={};templateInfo.nodeInfoList=[];templateInfo.stripWhiteSpace=outerTemplateInfo&&outerTemplateInfo.stripWhiteSpace||template.hasAttribute("strip-whitespace");this._parseTemplateContent(template,templateInfo,{parent:null})}return template._templateInfo}static _parseTemplateContent(template,templateInfo,nodeInfo){return this._parseTemplateNode(template.content,templateInfo,nodeInfo)}static _parseTemplateNode(node,templateInfo,nodeInfo){let noted,element=node;if("template"==element.localName&&!element.hasAttribute("preserve-content")){noted=this._parseTemplateNestedTemplate(element,templateInfo,nodeInfo)||noted}else if("slot"===element.localName){templateInfo.hasInsertionPoint=!0}if(element.firstChild){noted=this._parseTemplateChildNodes(element,templateInfo,nodeInfo)||noted}if(element.hasAttributes&&element.hasAttributes()){noted=this._parseTemplateNodeAttributes(element,templateInfo,nodeInfo)||noted}return noted}static _parseTemplateChildNodes(root,templateInfo,nodeInfo){if("script"===root.localName||"style"===root.localName){return}for(let node=root.firstChild,parentIndex=0,next;node;node=next){if("template"==node.localName){node=wrapTemplateExtension(node)}next=node.nextSibling;if(node.nodeType===Node.TEXT_NODE){let n=next;while(n&&n.nodeType===Node.TEXT_NODE){node.textContent+=n.textContent;next=n.nextSibling;root.removeChild(n);n=next}if(templateInfo.stripWhiteSpace&&!node.textContent.trim()){root.removeChild(node);continue}}let childInfo={parentIndex,parentInfo:nodeInfo};if(this._parseTemplateNode(node,templateInfo,childInfo)){childInfo.infoIndex=templateInfo.nodeInfoList.push(childInfo)-1}if(node.parentNode){parentIndex++}}}static _parseTemplateNestedTemplate(node,outerTemplateInfo,nodeInfo){let templateInfo=this._parseTemplate(node,outerTemplateInfo),content=templateInfo.content=node.content.ownerDocument.createDocumentFragment();content.appendChild(node.content);nodeInfo.templateInfo=templateInfo;return!0}static _parseTemplateNodeAttributes(node,templateInfo,nodeInfo){let noted=!1,attrs=Array.from(node.attributes);for(let i=attrs.length-1,a;a=attrs[i];i--){noted=this._parseTemplateNodeAttribute(node,templateInfo,nodeInfo,a.name,a.value)||noted}return noted}static _parseTemplateNodeAttribute(node,templateInfo,nodeInfo,name,value){if("on-"===name.slice(0,3)){node.removeAttribute(name);nodeInfo.events=nodeInfo.events||[];nodeInfo.events.push({name:name.slice(3),value});return!0}else if("id"===name){nodeInfo.id=value;return!0}return!1}static _contentForTemplate(template){let templateInfo=template._templateInfo;return templateInfo&&templateInfo.content||template.content}_stampTemplate(template){if(template&&!template.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate){HTMLTemplateElement.decorate(template)}let templateInfo=this.constructor._parseTemplate(template),nodeInfo=templateInfo.nodeInfoList,content=templateInfo.content||template.content,dom=document.importNode(content,!0);dom.__noInsertionPoint=!templateInfo.hasInsertionPoint;let nodes=dom.nodeList=Array(nodeInfo.length);dom.$={};for(let i=0,l=nodeInfo.length,info,node;i<l&&(info=nodeInfo[i]);i++){node=nodes[i]=findTemplateNode(dom,info);applyIdToMap(this,dom.$,node,info);applyTemplateContent(this,node,info);applyEventListener(this,node,info)}dom=dom;return dom}_addMethodEventListenerToNode(node,eventName,methodName,context){context=context||node;let handler=createNodeEventHandler(context,eventName,methodName);this._addEventListenerToNode(node,eventName,handler);return handler}_addEventListenerToNode(node,eventName,handler){node.addEventListener(eventName,handler)}_removeEventListenerFromNode(node,eventName,handler){node.removeEventListener(eventName,handler)}}});_exports.TemplateStamp=TemplateStamp;_exports.$templateStamp={TemplateStamp:TemplateStamp};const CaseMap=caseMap$1;let dedupeId$1=0;const TYPES={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},capitalAttributeRegex=/[A-Z]/;function ensureOwnEffectMap(model,type){let effects=model[type];if(!effects){effects=model[type]={}}else if(!model.hasOwnProperty(type)){effects=model[type]=Object.create(model[type]);for(let p in effects){let protoFx=effects[p],instFx=effects[p]=Array(protoFx.length);for(let i=0;i<protoFx.length;i++){instFx[i]=protoFx[i]}}}return effects}function runEffects(inst,effects,props,oldProps,hasPaths,extraArgs){if(effects){let ran=!1,id=dedupeId$1++;for(let prop in props){if(runEffectsForProperty(inst,effects,id,prop,props,oldProps,hasPaths,extraArgs)){ran=!0}}return ran}return!1}function runEffectsForProperty(inst,effects,dedupeId,prop,props,oldProps,hasPaths,extraArgs){let ran=!1,rootProperty=hasPaths?root(prop):prop,fxs=effects[rootProperty];if(fxs){for(let i=0,l=fxs.length,fx;i<l&&(fx=fxs[i]);i++){if((!fx.info||fx.info.lastRun!==dedupeId)&&(!hasPaths||pathMatchesTrigger(prop,fx.trigger))){if(fx.info){fx.info.lastRun=dedupeId}fx.fn(inst,prop,props,oldProps,fx.info,hasPaths,extraArgs);ran=!0}}}return ran}function pathMatchesTrigger(path,trigger){if(trigger){let triggerPath=trigger.name;return triggerPath==path||trigger.structured&&isAncestor(triggerPath,path)||trigger.wildcard&&isDescendant(triggerPath,path)}else{return!0}}function runObserverEffect(inst,property,props,oldProps,info){let fn="string"===typeof info.method?inst[info.method]:info.method,changedProp=info.property;if(fn){fn.call(inst,inst.__data[changedProp],oldProps[changedProp])}else if(!info.dynamicFn){console.warn("observer method `"+info.method+"` not defined")}}function runNotifyEffects(inst,notifyProps,props,oldProps,hasPaths){let fxs=inst[TYPES.NOTIFY],notified,id=dedupeId$1++;for(let prop in notifyProps){if(notifyProps[prop]){if(fxs&&runEffectsForProperty(inst,fxs,id,prop,props,oldProps,hasPaths)){notified=!0}else if(hasPaths&&notifyPath(inst,prop,props)){notified=!0}}}let host;if(notified&&(host=inst.__dataHost)&&host._invalidateProperties){host._invalidateProperties()}}function notifyPath(inst,path,props){let rootProperty=root(path);if(rootProperty!==path){let eventName=camelToDashCase(rootProperty)+"-changed";dispatchNotifyEvent(inst,eventName,props[path],path);return!0}return!1}function dispatchNotifyEvent(inst,eventName,value,path){let detail={value:value,queueProperty:!0};if(path){detail.path=path}inst.dispatchEvent(new CustomEvent(eventName,{detail}))}function runNotifyEffect(inst,property,props,oldProps,info,hasPaths){let rootProperty=hasPaths?root(property):property,path=rootProperty!=property?property:null,value=path?get(inst,path):inst.__data[property];if(path&&value===void 0){value=props[property]}dispatchNotifyEvent(inst,info.eventName,value,path)}function handleNotification(event,inst,fromProp,toPath,negate){let value,detail=event.detail,fromPath=detail&&detail.path;if(fromPath){toPath=translate(fromProp,toPath,fromPath);value=detail&&detail.value}else{value=event.target[fromProp]}value=negate?!value:value;if(!inst[TYPES.READ_ONLY]||!inst[TYPES.READ_ONLY][toPath]){if(inst._setPendingPropertyOrPath(toPath,value,!0,!!fromPath)&&(!detail||!detail.queueProperty)){inst._invalidateProperties()}}}function runReflectEffect(inst,property,props,oldProps,info){let value=inst.__data[property];if(sanitizeDOMValue){value=sanitizeDOMValue(value,info.attrName,"attribute",inst)}inst._propertyToAttribute(property,info.attrName,value)}function runComputedEffects(inst,changedProps,oldProps,hasPaths){let computeEffects=inst[TYPES.COMPUTE];if(computeEffects){let inputProps=changedProps;while(runEffects(inst,computeEffects,inputProps,oldProps,hasPaths)){Object.assign(oldProps,inst.__dataOld);Object.assign(changedProps,inst.__dataPending);inputProps=inst.__dataPending;inst.__dataPending=null}}}function runComputedEffect(inst,property,props,oldProps,info){let result=runMethodEffect(inst,property,props,oldProps,info),computedProp=info.methodInfo;if(inst.__dataHasAccessor&&inst.__dataHasAccessor[computedProp]){inst._setPendingProperty(computedProp,result,!0)}else{inst[computedProp]=result}}function computeLinkedPaths(inst,path,value){let links=inst.__dataLinkedPaths;if(links){let link;for(let a in links){let b=links[a];if(isDescendant(a,path)){link=translate(a,b,path);inst._setPendingPropertyOrPath(link,value,!0,!0)}else if(isDescendant(b,path)){link=translate(b,a,path);inst._setPendingPropertyOrPath(link,value,!0,!0)}}}}function addBinding(constructor,templateInfo,nodeInfo,kind,target,parts,literal){nodeInfo.bindings=nodeInfo.bindings||[];let binding={kind,target,parts,literal,isCompound:1!==parts.length};nodeInfo.bindings.push(binding);if(shouldAddListener(binding)){let{event,negate}=binding.parts[0];binding.listenerEvent=event||CaseMap.camelToDashCase(target)+"-changed";binding.listenerNegate=negate}let index=templateInfo.nodeInfoList.length;for(let i=0,part;i<binding.parts.length;i++){part=binding.parts[i];part.compoundIndex=i;addEffectForBindingPart(constructor,templateInfo,binding,part,index)}}function addEffectForBindingPart(constructor,templateInfo,binding,part,index){if(!part.literal){if("attribute"===binding.kind&&"-"===binding.target[0]){console.warn("Cannot set attribute "+binding.target+" because \"-\" is not a valid attribute starting character")}else{let dependencies=part.dependencies,info={index,binding,part,evaluator:constructor};for(let j=0,trigger;j<dependencies.length;j++){trigger=dependencies[j];if("string"==typeof trigger){trigger=parseArg(trigger);trigger.wildcard=!0}constructor._addTemplatePropertyEffect(templateInfo,trigger.rootProperty,{fn:runBindingEffect,info,trigger})}}}}function runBindingEffect(inst,path,props,oldProps,info,hasPaths,nodeList){let node=nodeList[info.index],binding=info.binding,part=info.part;if(hasPaths&&part.source&&path.length>part.source.length&&"property"==binding.kind&&!binding.isCompound&&node.__isPropertyEffectsClient&&node.__dataHasAccessor&&node.__dataHasAccessor[binding.target]){let value=props[path];path=translate(part.source,binding.target,path);if(node._setPendingPropertyOrPath(path,value,!1,!0)){inst._enqueueClient(node)}}else{let value=info.evaluator._evaluateBinding(inst,part,path,props,oldProps,hasPaths);applyBindingValue(inst,node,binding,part,value)}}function applyBindingValue(inst,node,binding,part,value){value=computeBindingValue(node,value,binding,part);if(sanitizeDOMValue){value=sanitizeDOMValue(value,binding.target,binding.kind,node)}if("attribute"==binding.kind){inst._valueToNodeAttribute(node,value,binding.target)}else{let prop=binding.target;if(node.__isPropertyEffectsClient&&node.__dataHasAccessor&&node.__dataHasAccessor[prop]){if(!node[TYPES.READ_ONLY]||!node[TYPES.READ_ONLY][prop]){if(node._setPendingProperty(prop,value)){inst._enqueueClient(node)}}}else{inst._setUnmanagedPropertyToNode(node,prop,value)}}}function computeBindingValue(node,value,binding,part){if(binding.isCompound){let storage=node.__dataCompoundStorage[binding.target];storage[part.compoundIndex]=value;value=storage.join("")}if("attribute"!==binding.kind){if("textContent"===binding.target||"value"===binding.target&&("input"===node.localName||"textarea"===node.localName)){value=value==void 0?"":value}}return value}function shouldAddListener(binding){return!!binding.target&&"attribute"!=binding.kind&&"text"!=binding.kind&&!binding.isCompound&&"{"===binding.parts[0].mode}function setupBindings(inst,templateInfo){let{nodeList,nodeInfoList}=templateInfo;if(nodeInfoList.length){for(let i=0;i<nodeInfoList.length;i++){let info=nodeInfoList[i],node=nodeList[i],bindings=info.bindings;if(bindings){for(let i=0,binding;i<bindings.length;i++){binding=bindings[i];setupCompoundStorage(node,binding);addNotifyListener(node,inst,binding)}}node.__dataHost=inst}}}function setupCompoundStorage(node,binding){if(binding.isCompound){let storage=node.__dataCompoundStorage||(node.__dataCompoundStorage={}),parts=binding.parts,literals=Array(parts.length);for(let j=0;j<parts.length;j++){literals[j]=parts[j].literal}let target=binding.target;storage[target]=literals;if(binding.literal&&"property"==binding.kind){node[target]=binding.literal}}}function addNotifyListener(node,inst,binding){if(binding.listenerEvent){let part=binding.parts[0];node.addEventListener(binding.listenerEvent,function(e){handleNotification(e,inst,binding.target,part.source,part.negate)})}}function createMethodEffect(model,sig,type,effectFn,methodInfo,dynamicFn){dynamicFn=sig.static||dynamicFn&&("object"!==typeof dynamicFn||dynamicFn[sig.methodName]);let info={methodName:sig.methodName,args:sig.args,methodInfo,dynamicFn};for(let i=0,arg;i<sig.args.length&&(arg=sig.args[i]);i++){if(!arg.literal){model._addPropertyEffect(arg.rootProperty,type,{fn:effectFn,info:info,trigger:arg})}}if(dynamicFn){model._addPropertyEffect(sig.methodName,type,{fn:effectFn,info:info})}}function runMethodEffect(inst,property,props,oldProps,info){let context=inst._methodHost||inst,fn=context[info.methodName];if(fn){let args=marshalArgs(inst.__data,info.args,property,props);return fn.apply(context,args)}else if(!info.dynamicFn){console.warn("method `"+info.methodName+"` not defined")}}const emptyArray=[],IDENT="(?:"+"[a-zA-Z_$][\\w.:$\\-*]*"+")",ARGUMENT="(?:("+IDENT+"|"+("(?:"+"[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?"+")")+"|"+("(?:"+("(?:"+"'(?:[^'\\\\]|\\\\.)*'"+")")+"|"+("(?:"+"\"(?:[^\"\\\\]|\\\\.)*\""+")")+")")+")\\s*"+")",bindingRegex=new RegExp("(\\[\\[|{{)"+"\\s*"+"(?:(!)\\s*)?"+("("+IDENT+"\\s*"+("(?:"+"\\(\\s*"+"(?:"+("(?:"+ARGUMENT+"(?:,\\s*"+ARGUMENT+")*"+")")+"?"+")"+"\\)\\s*"+")")+"?"+")")+"(?:]]|}})","g");function literalFromParts(parts){let s="";for(let i=0,literal;i<parts.length;i++){literal=parts[i].literal;s+=literal||""}return s}function parseMethod(expression){let m=expression.match(/([^\s]+?)\(([\s\S]*)\)/);if(m){let methodName=m[1],sig={methodName,static:!0,args:emptyArray};if(m[2].trim()){let args=m[2].replace(/\\,/g,"&comma;").split(",");return parseArgs(args,sig)}else{return sig}}return null}function parseArgs(argList,sig){sig.args=argList.map(function(rawArg){let arg=parseArg(rawArg);if(!arg.literal){sig.static=!1}return arg},this);return sig}function parseArg(rawArg){let arg=rawArg.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),a={name:arg,value:"",literal:!1},fc=arg[0];if("-"===fc){fc=arg[1]}if("0"<=fc&&"9">=fc){fc="#"}switch(fc){case"'":case"\"":a.value=arg.slice(1,-1);a.literal=!0;break;case"#":a.value=+arg;a.literal=!0;break;}if(!a.literal){a.rootProperty=root(arg);a.structured=isPath(arg);if(a.structured){a.wildcard=".*"==arg.slice(-2);if(a.wildcard){a.name=arg.slice(0,-2)}}}return a}function marshalArgs(data,args,path,props){let values=[];for(let i=0,l=args.length;i<l;i++){let arg=args[i],name=arg.name,v;if(arg.literal){v=arg.value}else{if(arg.structured){v=get(data,name);if(v===void 0){v=props[name]}}else{v=data[name]}}if(arg.wildcard){let baseChanged=0===name.indexOf(path+"."),matches$$1=0===path.indexOf(name)&&!baseChanged;values[i]={path:matches$$1?path:name,value:matches$$1?props[path]:v,base:v}}else{values[i]=v}}return values}function notifySplices(inst,array,path,splices){let splicesPath=path+".splices";inst.notifyPath(splicesPath,{indexSplices:splices});inst.notifyPath(path+".length",array.length);inst.__data[splicesPath]={indexSplices:null}}function notifySplice(inst,array,path,index,addedCount,removed){notifySplices(inst,array,path,[{index:index,addedCount:addedCount,removed:removed,object:array,type:"splice"}])}function upper(name){return name[0].toUpperCase()+name.substring(1)}const PropertyEffects=dedupingMixin(superClass=>{const propertyEffectsBase=TemplateStamp(PropertyAccessors(superClass));class PropertyEffects extends propertyEffectsBase{constructor(){super();this.__isPropertyEffectsClient=!0;this.__dataCounter=0;this.__dataClientsReady;this.__dataPendingClients;this.__dataToNotify;this.__dataLinkedPaths;this.__dataHasPaths;this.__dataCompoundStorage;this.__dataHost;this.__dataTemp;this.__dataClientsInitialized;this.__data;this.__dataPending;this.__dataOld;this.__computeEffects;this.__reflectEffects;this.__notifyEffects;this.__propagateEffects;this.__observeEffects;this.__readOnly;this.__templateInfo}get PROPERTY_EFFECT_TYPES(){return TYPES}_initializeProperties(){super._initializeProperties();hostStack.registerHost(this);this.__dataClientsReady=!1;this.__dataPendingClients=null;this.__dataToNotify=null;this.__dataLinkedPaths=null;this.__dataHasPaths=!1;this.__dataCompoundStorage=this.__dataCompoundStorage||null;this.__dataHost=this.__dataHost||null;this.__dataTemp={};this.__dataClientsInitialized=!1}_initializeProtoProperties(props){this.__data=Object.create(props);this.__dataPending=Object.create(props);this.__dataOld={}}_initializeInstanceProperties(props){let readOnly=this[TYPES.READ_ONLY];for(let prop in props){if(!readOnly||!readOnly[prop]){this.__dataPending=this.__dataPending||{};this.__dataOld=this.__dataOld||{};this.__data[prop]=this.__dataPending[prop]=props[prop]}}}_addPropertyEffect(property,type,effect){this._createPropertyAccessor(property,type==TYPES.READ_ONLY);let effects=ensureOwnEffectMap(this,type)[property];if(!effects){effects=this[type][property]=[]}effects.push(effect)}_removePropertyEffect(property,type,effect){let effects=ensureOwnEffectMap(this,type)[property],idx=effects.indexOf(effect);if(0<=idx){effects.splice(idx,1)}}_hasPropertyEffect(property,type){let effects=this[type];return!!(effects&&effects[property])}_hasReadOnlyEffect(property){return this._hasPropertyEffect(property,TYPES.READ_ONLY)}_hasNotifyEffect(property){return this._hasPropertyEffect(property,TYPES.NOTIFY)}_hasReflectEffect(property){return this._hasPropertyEffect(property,TYPES.REFLECT)}_hasComputedEffect(property){return this._hasPropertyEffect(property,TYPES.COMPUTE)}_setPendingPropertyOrPath(path,value,shouldNotify,isPathNotification){if(isPathNotification||root(Array.isArray(path)?path[0]:path)!==path){if(!isPathNotification){let old=get(this,path);path=set(this,path,value);if(!path||!super._shouldPropertyChange(path,value,old)){return!1}}this.__dataHasPaths=!0;if(this._setPendingProperty(path,value,shouldNotify)){computeLinkedPaths(this,path,value);return!0}}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[path]){return this._setPendingProperty(path,value,shouldNotify)}else{this[path]=value}}return!1}_setUnmanagedPropertyToNode(node,prop,value){if(value!==node[prop]||"object"==typeof value){node[prop]=value}}_setPendingProperty(property,value,shouldNotify){let isPath$$1=this.__dataHasPaths&&isPath(property),prevProps=isPath$$1?this.__dataTemp:this.__data;if(this._shouldPropertyChange(property,value,prevProps[property])){if(!this.__dataPending){this.__dataPending={};this.__dataOld={}}if(!(property in this.__dataOld)){this.__dataOld[property]=this.__data[property]}if(isPath$$1){this.__dataTemp[property]=value}else{this.__data[property]=value}this.__dataPending[property]=value;if(isPath$$1||this[TYPES.NOTIFY]&&this[TYPES.NOTIFY][property]){this.__dataToNotify=this.__dataToNotify||{};this.__dataToNotify[property]=shouldNotify}return!0}return!1}_setProperty(property,value){if(this._setPendingProperty(property,value,!0)){this._invalidateProperties()}}_invalidateProperties(){if(this.__dataReady){this._flushProperties()}}_enqueueClient(client){this.__dataPendingClients=this.__dataPendingClients||[];if(client!==this){this.__dataPendingClients.push(client)}}_flushProperties(){this.__dataCounter++;super._flushProperties();this.__dataCounter--}_flushClients(){if(!this.__dataClientsReady){this.__dataClientsReady=!0;this._readyClients();this.__dataReady=!0}else{this.__enableOrFlushClients()}}__enableOrFlushClients(){let clients=this.__dataPendingClients;if(clients){this.__dataPendingClients=null;for(let i=0,client;i<clients.length;i++){client=clients[i];if(!client.__dataEnabled){client._enableProperties()}else if(client.__dataPending){client._flushProperties()}}}}_readyClients(){this.__enableOrFlushClients()}setProperties(props,setReadOnly){for(let path in props){if(setReadOnly||!this[TYPES.READ_ONLY]||!this[TYPES.READ_ONLY][path]){this._setPendingPropertyOrPath(path,props[path],!0)}}this._invalidateProperties()}ready(){this._flushProperties();if(!this.__dataClientsReady){this._flushClients()}if(this.__dataPending){this._flushProperties()}}_propertiesChanged(currentProps,changedProps,oldProps){let hasPaths=this.__dataHasPaths;this.__dataHasPaths=!1;runComputedEffects(this,changedProps,oldProps,hasPaths);let notifyProps=this.__dataToNotify;this.__dataToNotify=null;this._propagatePropertyChanges(changedProps,oldProps,hasPaths);this._flushClients();runEffects(this,this[TYPES.REFLECT],changedProps,oldProps,hasPaths);runEffects(this,this[TYPES.OBSERVE],changedProps,oldProps,hasPaths);if(notifyProps){runNotifyEffects(this,notifyProps,changedProps,oldProps,hasPaths)}if(1==this.__dataCounter){this.__dataTemp={}}}_propagatePropertyChanges(changedProps,oldProps,hasPaths){if(this[TYPES.PROPAGATE]){runEffects(this,this[TYPES.PROPAGATE],changedProps,oldProps,hasPaths)}let templateInfo=this.__templateInfo;while(templateInfo){runEffects(this,templateInfo.propertyEffects,changedProps,oldProps,hasPaths,templateInfo.nodeList);templateInfo=templateInfo.nextTemplateInfo}}linkPaths(to,from){to=normalize(to);from=normalize(from);this.__dataLinkedPaths=this.__dataLinkedPaths||{};this.__dataLinkedPaths[to]=from}unlinkPaths(path){path=normalize(path);if(this.__dataLinkedPaths){delete this.__dataLinkedPaths[path]}}notifySplices(path,splices){let info={path:""},array=get(this,path,info);notifySplices(this,array,info.path,splices)}get(path,root$$1){return get(root$$1||this,path)}set(path,value,root$$1){if(root$$1){set(root$$1,path,value)}else{if(!this[TYPES.READ_ONLY]||!this[TYPES.READ_ONLY][path]){if(this._setPendingPropertyOrPath(path,value,!0)){this._invalidateProperties()}}}}push(path,...items){let info={path:""},array=get(this,path,info),len=array.length,ret=array.push(...items);if(items.length){notifySplice(this,array,info.path,len,items.length,[])}return ret}pop(path){let info={path:""},array=get(this,path,info),hadLength=!!array.length,ret=array.pop();if(hadLength){notifySplice(this,array,info.path,array.length,0,[ret])}return ret}splice(path,start,deleteCount,...items){let info={path:""},array=get(this,path,info);if(0>start){start=array.length-_Mathfloor(-start)}else if(start){start=_Mathfloor(start)}let ret;if(2===arguments.length){ret=array.splice(start)}else{ret=array.splice(start,deleteCount,...items)}if(items.length||ret.length){notifySplice(this,array,info.path,start,items.length,ret)}return ret}shift(path){let info={path:""},array=get(this,path,info),hadLength=!!array.length,ret=array.shift();if(hadLength){notifySplice(this,array,info.path,0,0,[ret])}return ret}unshift(path,...items){let info={path:""},array=get(this,path,info),ret=array.unshift(...items);if(items.length){notifySplice(this,array,info.path,0,items.length,[])}return ret}notifyPath(path,value){let propPath;if(1==arguments.length){let info={path:""};value=get(this,path,info);propPath=info.path}else if(Array.isArray(path)){propPath=normalize(path)}else{propPath=path}if(this._setPendingPropertyOrPath(propPath,value,!0,!0)){this._invalidateProperties()}}_createReadOnlyProperty(property,protectedSetter){this._addPropertyEffect(property,TYPES.READ_ONLY);if(protectedSetter){this["_set"+upper(property)]=function(value){this._setProperty(property,value)}}}_createPropertyObserver(property,method,dynamicFn){let info={property,method,dynamicFn:!!dynamicFn};this._addPropertyEffect(property,TYPES.OBSERVE,{fn:runObserverEffect,info,trigger:{name:property}});if(dynamicFn){this._addPropertyEffect(method,TYPES.OBSERVE,{fn:runObserverEffect,info,trigger:{name:method}})}}_createMethodObserver(expression,dynamicFn){let sig=parseMethod(expression);if(!sig){throw new Error("Malformed observer expression '"+expression+"'")}createMethodEffect(this,sig,TYPES.OBSERVE,runMethodEffect,null,dynamicFn)}_createNotifyingProperty(property){this._addPropertyEffect(property,TYPES.NOTIFY,{fn:runNotifyEffect,info:{eventName:CaseMap.camelToDashCase(property)+"-changed",property:property}})}_createReflectedProperty(property){let attr=this.constructor.attributeNameForProperty(property);if("-"===attr[0]){console.warn("Property "+property+" cannot be reflected to attribute "+attr+" because \"-\" is not a valid starting attribute name. Use a lowercase first letter for the property instead.")}else{this._addPropertyEffect(property,TYPES.REFLECT,{fn:runReflectEffect,info:{attrName:attr}})}}_createComputedProperty(property,expression,dynamicFn){let sig=parseMethod(expression);if(!sig){throw new Error("Malformed computed expression '"+expression+"'")}createMethodEffect(this,sig,TYPES.COMPUTE,runComputedEffect,property,dynamicFn)}static addPropertyEffect(property,type,effect){this.prototype._addPropertyEffect(property,type,effect)}static createPropertyObserver(property,method,dynamicFn){this.prototype._createPropertyObserver(property,method,dynamicFn)}static createMethodObserver(expression,dynamicFn){this.prototype._createMethodObserver(expression,dynamicFn)}static createNotifyingProperty(property){this.prototype._createNotifyingProperty(property)}static createReadOnlyProperty(property,protectedSetter){this.prototype._createReadOnlyProperty(property,protectedSetter)}static createReflectedProperty(property){this.prototype._createReflectedProperty(property)}static createComputedProperty(property,expression,dynamicFn){this.prototype._createComputedProperty(property,expression,dynamicFn)}static bindTemplate(template){return this.prototype._bindTemplate(template)}_bindTemplate(template,instanceBinding){let templateInfo=this.constructor._parseTemplate(template),wasPreBound=this.__templateInfo==templateInfo;if(!wasPreBound){for(let prop in templateInfo.propertyEffects){this._createPropertyAccessor(prop)}}if(instanceBinding){templateInfo=Object.create(templateInfo);templateInfo.wasPreBound=wasPreBound;if(!wasPreBound&&this.__templateInfo){let last=this.__templateInfoLast||this.__templateInfo;this.__templateInfoLast=last.nextTemplateInfo=templateInfo;templateInfo.previousTemplateInfo=last;return templateInfo}}return this.__templateInfo=templateInfo}static _addTemplatePropertyEffect(templateInfo,prop,effect){let hostProps=templateInfo.hostProps=templateInfo.hostProps||{};hostProps[prop]=!0;let effects=templateInfo.propertyEffects=templateInfo.propertyEffects||{},propEffects=effects[prop]=effects[prop]||[];propEffects.push(effect)}_stampTemplate(template){hostStack.beginHosting(this);let dom=super._stampTemplate(template);hostStack.endHosting(this);let templateInfo=this._bindTemplate(template,!0);templateInfo.nodeList=dom.nodeList;if(!templateInfo.wasPreBound){let nodes=templateInfo.childNodes=[];for(let n=dom.firstChild;n;n=n.nextSibling){nodes.push(n)}}dom.templateInfo=templateInfo;setupBindings(this,templateInfo);if(this.__dataReady){runEffects(this,templateInfo.propertyEffects,this.__data,null,!1,templateInfo.nodeList)}return dom}_removeBoundDom(dom){let templateInfo=dom.templateInfo;if(templateInfo.previousTemplateInfo){templateInfo.previousTemplateInfo.nextTemplateInfo=templateInfo.nextTemplateInfo}if(templateInfo.nextTemplateInfo){templateInfo.nextTemplateInfo.previousTemplateInfo=templateInfo.previousTemplateInfo}if(this.__templateInfoLast==templateInfo){this.__templateInfoLast=templateInfo.previousTemplateInfo}templateInfo.previousTemplateInfo=templateInfo.nextTemplateInfo=null;let nodes=templateInfo.childNodes;for(let i=0,node;i<nodes.length;i++){node=nodes[i];node.parentNode.removeChild(node)}}static _parseTemplateNode(node,templateInfo,nodeInfo){let noted=super._parseTemplateNode(node,templateInfo,nodeInfo);if(node.nodeType===Node.TEXT_NODE){let parts=this._parseBindings(node.textContent,templateInfo);if(parts){node.textContent=literalFromParts(parts)||" ";addBinding(this,templateInfo,nodeInfo,"text","textContent",parts);noted=!0}}return noted}static _parseTemplateNodeAttribute(node,templateInfo,nodeInfo,name,value){let parts=this._parseBindings(value,templateInfo);if(parts){let origName=name,kind="property";if(capitalAttributeRegex.test(name)){kind="attribute"}else if("$"==name[name.length-1]){name=name.slice(0,-1);kind="attribute"}let literal=literalFromParts(parts);if(literal&&"attribute"==kind){node.setAttribute(name,literal)}if("input"===node.localName&&"value"===origName){node.setAttribute(origName,"")}node.removeAttribute(origName);if("property"===kind){name=dashToCamelCase(name)}addBinding(this,templateInfo,nodeInfo,kind,name,parts,literal);return!0}else{return super._parseTemplateNodeAttribute(node,templateInfo,nodeInfo,name,value)}}static _parseTemplateNestedTemplate(node,templateInfo,nodeInfo){let noted=super._parseTemplateNestedTemplate(node,templateInfo,nodeInfo),hostProps=nodeInfo.templateInfo.hostProps;for(let source in hostProps){addBinding(this,templateInfo,nodeInfo,"property","_host_"+source,[{mode:"{",source,dependencies:[source]}])}return noted}static _parseBindings(text,templateInfo){let parts=[],lastIndex=0,m;while(null!==(m=bindingRegex.exec(text))){if(m.index>lastIndex){parts.push({literal:text.slice(lastIndex,m.index)})}let mode=m[1][0],negate=!!m[2],source=m[3].trim(),customEvent=!1,notifyEvent="",colon=-1;if("{"==mode&&0<(colon=source.indexOf("::"))){notifyEvent=source.substring(colon+2);source=source.substring(0,colon);customEvent=!0}let signature=parseMethod(source),dependencies=[];if(signature){let{args,methodName}=signature;for(let i=0,arg;i<args.length;i++){arg=args[i];if(!arg.literal){dependencies.push(arg)}}let dynamicFns=templateInfo.dynamicFns;if(dynamicFns&&dynamicFns[methodName]||signature.static){dependencies.push(methodName);signature.dynamicFn=!0}}else{dependencies.push(source)}parts.push({source,mode,negate,customEvent,signature,dependencies,event:notifyEvent});lastIndex=bindingRegex.lastIndex}if(lastIndex&&lastIndex<text.length){let literal=text.substring(lastIndex);if(literal){parts.push({literal:literal})}}if(parts.length){return parts}else{return null}}static _evaluateBinding(inst,part,path,props,oldProps,hasPaths){let value;if(part.signature){value=runMethodEffect(inst,path,props,oldProps,part.signature)}else if(path!=part.source){value=get(inst,part.source)}else{if(hasPaths&&isPath(path)){value=get(inst,path)}else{value=inst.__data[path]}}if(part.negate){value=!value}return value}}return PropertyEffects});_exports.PropertyEffects=PropertyEffects;const hostStack=new class{constructor(){this.stack=[]}registerHost(inst){if(this.stack.length){let host=this.stack[this.stack.length-1];host._enqueueClient(inst)}}beginHosting(inst){this.stack.push(inst)}endHosting(inst){let stackLen=this.stack.length;if(stackLen&&this.stack[stackLen-1]==inst){this.stack.pop()}}};_exports.$propertyEffects={PropertyEffects:PropertyEffects};function normalizeProperties(props){const output={};for(let p in props){const o=props[p];output[p]="function"===typeof o?{type:o}:o}return output}const PropertiesMixin=dedupingMixin(superClass=>{const base=PropertiesChanged(superClass);function superPropertiesClass(constructor){const superCtor=Object.getPrototypeOf(constructor);return superCtor.prototype instanceof PropertiesMixin?superCtor:null}function ownProperties(constructor){if(!constructor.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",constructor))){let props=null;if(constructor.hasOwnProperty(JSCompiler_renameProperty("properties",constructor))&&constructor.properties){props=normalizeProperties(constructor.properties)}constructor.__ownProperties=props}return constructor.__ownProperties}class PropertiesMixin extends base{static get observedAttributes(){const props=this._properties;return props?Object.keys(props).map(p=>this.attributeNameForProperty(p)):[]}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const superCtor=superPropertiesClass(this);if(superCtor){superCtor.finalize()}this.__finalized=!0;this._finalizeClass()}}static _finalizeClass(){const props=ownProperties(this);if(props){this.createProperties(props)}}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const superCtor=superPropertiesClass(this);this.__properties=Object.assign({},superCtor&&superCtor._properties,ownProperties(this))}return this.__properties}static typeForProperty(name){const info=this._properties[name];return info&&info.type}_initializeProperties(){this.constructor.finalize();super._initializeProperties()}connectedCallback(){if(super.connectedCallback){super.connectedCallback()}this._enableProperties()}disconnectedCallback(){if(super.disconnectedCallback){super.disconnectedCallback()}}}return PropertiesMixin});_exports.PropertiesMixin=PropertiesMixin;_exports.$propertiesMixin={PropertiesMixin:PropertiesMixin};const bundledImportMeta={...meta,url:new URL("../node_modules/%40polymer/polymer/lib/mixins/element-mixin.js",meta.url).href},ElementMixin=dedupingMixin(base=>{const polymerElementBase=PropertiesMixin(PropertyEffects(base));function propertyDefaults(constructor){if(!constructor.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",constructor))){constructor.__propertyDefaults=null;let props=constructor._properties;for(let p in props){let info=props[p];if("value"in info){constructor.__propertyDefaults=constructor.__propertyDefaults||{};constructor.__propertyDefaults[p]=info}}}return constructor.__propertyDefaults}function ownObservers(constructor){if(!constructor.hasOwnProperty(JSCompiler_renameProperty("__ownObservers",constructor))){constructor.__ownObservers=constructor.hasOwnProperty(JSCompiler_renameProperty("observers",constructor))?constructor.observers:null}return constructor.__ownObservers}function createPropertyFromConfig(proto,name,info,allProps){if(info.computed){info.readOnly=!0}if(info.computed&&!proto._hasReadOnlyEffect(name)){proto._createComputedProperty(name,info.computed,allProps)}if(info.readOnly&&!proto._hasReadOnlyEffect(name)){proto._createReadOnlyProperty(name,!info.computed)}if(info.reflectToAttribute&&!proto._hasReflectEffect(name)){proto._createReflectedProperty(name)}if(info.notify&&!proto._hasNotifyEffect(name)){proto._createNotifyingProperty(name)}if(info.observer){proto._createPropertyObserver(name,info.observer,allProps[info.observer])}proto._addPropertyToAttributeMap(name)}function processElementStyles(klass,template,is,baseURI){const templateStyles=template.content.querySelectorAll("style"),stylesWithImports=stylesFromTemplate(template),linkedStyles=stylesFromModuleImports(is),firstTemplateChild=template.content.firstElementChild;for(let idx=0,s;idx<linkedStyles.length;idx++){s=linkedStyles[idx];s.textContent=klass._processStyleText(s.textContent,baseURI);template.content.insertBefore(s,firstTemplateChild)}let templateStyleIndex=0;for(let i=0;i<stylesWithImports.length;i++){let s=stylesWithImports[i],templateStyle=templateStyles[templateStyleIndex];if(templateStyle!==s){s=s.cloneNode(!0);templateStyle.parentNode.insertBefore(s,templateStyle)}else{templateStyleIndex++}s.textContent=klass._processStyleText(s.textContent,baseURI)}if(window.ShadyCSS){window.ShadyCSS.prepareTemplate(template,is)}}class PolymerElement extends polymerElementBase{static _finalizeClass(){super._finalizeClass();if(this.hasOwnProperty(JSCompiler_renameProperty("is",this))&&this.is){register(this.prototype)}const observers=ownObservers(this);if(observers){this.createObservers(observers,this._properties)}let template=this.template;if(template){if("string"===typeof template){console.error("template getter must return HTMLTemplateElement");template=null}else{template=template.cloneNode(!0)}}this.prototype._template=template}static createProperties(props){for(let p in props){createPropertyFromConfig(this.prototype,p,props[p],props)}}static createObservers(observers,dynamicFns){const proto=this.prototype;for(let i=0;i<observers.length;i++){proto._createMethodObserver(observers[i],dynamicFns)}}static get template(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_template",this))){this._template=DomModule&&DomModule.import(this.is,"template")||Object.getPrototypeOf(this.prototype).constructor.template}return this._template}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const meta=this.importMeta;if(meta){this._importPath=pathFromUrl(meta.url)}else{const module=DomModule&&DomModule.import(this.is);this._importPath=module&&module.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}constructor(){super();this._template;this._importPath;this.rootPath;this.importPath;this.root;this.$}_initializeProperties(){_exports.instanceCount=instanceCount=instanceCount+1;this.constructor.finalize();this.constructor._finalizeTemplate(this.localName);super._initializeProperties();this.rootPath=rootPath;this.importPath=this.constructor.importPath;let p$=propertyDefaults(this.constructor);if(!p$){return}for(let p in p$){let info=p$[p];if(!this.hasOwnProperty(p)){let value="function"==typeof info.value?info.value.call(this):info.value;if(this._hasAccessor(p)){this._setPendingProperty(p,value,!0)}else{this[p]=value}}}}static _processStyleText(cssText,baseURI){return resolveCss(cssText,baseURI)}static _finalizeTemplate(is){const template=this.prototype._template;if(template&&!template.__polymerFinalized){template.__polymerFinalized=!0;const importPath=this.importPath,baseURI=importPath?resolveUrl(importPath):"";processElementStyles(this,template,is,baseURI);this.prototype._bindTemplate(template)}}connectedCallback(){if(window.ShadyCSS&&this._template){window.ShadyCSS.styleElement(this)}super.connectedCallback()}ready(){if(this._template){this.root=this._stampTemplate(this._template);this.$=this.root.$}super.ready()}_readyClients(){if(this._template){this.root=this._attachDom(this.root)}super._readyClients()}_attachDom(dom){if(this.attachShadow){if(dom){if(!this.shadowRoot){this.attachShadow({mode:"open"})}this.shadowRoot.appendChild(dom);return this.shadowRoot}return null}else{throw new Error("ShadowDOM not available. "+"PolymerElement can create dom as children instead of in "+"ShadowDOM by setting `this.root = this;` before `ready`.")}}updateStyles(properties){if(window.ShadyCSS){window.ShadyCSS.styleSubtree(this,properties)}}resolveUrl(url,base){if(!base&&this.importPath){base=resolveUrl(this.importPath)}return resolveUrl(url,base)}static _parseTemplateContent(template,templateInfo,nodeInfo){templateInfo.dynamicFns=templateInfo.dynamicFns||this._properties;return super._parseTemplateContent(template,templateInfo,nodeInfo)}}return PolymerElement});_exports.ElementMixin=ElementMixin;let instanceCount=0;_exports.instanceCount=instanceCount;const registrations=[];_exports.registrations=registrations;function _regLog(prototype){console.log("["+prototype.is+"]: registered")}function register(prototype){registrations.push(prototype)}function dumpRegistrations(){registrations.forEach(_regLog)}const updateStyles=function(props){if(window.ShadyCSS){window.ShadyCSS.styleDocument(props)}};_exports.updateStyles=updateStyles;var elementMixin={ElementMixin:ElementMixin,get instanceCount(){return instanceCount},registrations:registrations,register:register,dumpRegistrations:dumpRegistrations,updateStyles:updateStyles};_exports.$elementMixin=elementMixin;class LiteralString{constructor(string){this.value=string.toString()}toString(){return this.value}}function literalValue(value){if(value instanceof LiteralString){return value.value}else{throw new Error(`non-literal value passed to Polymer's htmlLiteral function: ${value}`)}}function htmlValue(value){if(value instanceof HTMLTemplateElement){return value.innerHTML}else if(value instanceof LiteralString){return literalValue(value)}else{throw new Error(`non-template value passed to Polymer's html function: ${value}`)}}const html=function(strings,...values){const template=document.createElement("template");template.innerHTML=values.reduce((acc,v,idx)=>acc+htmlValue(v)+strings[idx+1],strings[0]);return template};_exports.html$6=_exports.html$5=_exports.html$4=html;const htmlLiteral=function(strings,...values){return new LiteralString(values.reduce((acc,v,idx)=>acc+literalValue(v)+strings[idx+1],strings[0]))};_exports.htmlLiteral=htmlLiteral;_exports.$htmlTag={html:html,htmlLiteral:htmlLiteral};const PolymerElement=ElementMixin(HTMLElement);_exports.PolymerElement=PolymerElement;_exports.$polymerElement={PolymerElement:PolymerElement,html:html};(function(){var global=function(){return this}();if(!global&&"undefined"!=typeof window)global=window;var define=function(module,deps,payload){if("string"!==typeof module){if(define.original)define.original.apply(this,arguments);else{console.error("dropping module because define wasn't a string.");console.trace()}return}if(2==arguments.length)payload=deps;if(!define.modules[module]){define.payloads[module]=payload;define.modules[module]=null}};define.modules={};define.payloads={};var _require=function(parentId,module,callback){if("string"===typeof module){var payload=lookup(parentId,module);if(payload!=void 0){callback&&callback();return payload}}else if("[object Array]"===Object.prototype.toString.call(module)){for(var params=[],i=0,l=module.length,dep;i<l;++i){dep=lookup(parentId,module[i]);if(dep==void 0&&require.original)return;params.push(dep)}return callback&&callback.apply(null,params)||!0}},require=function(module,callback){var packagedModule=_require("",module,callback);if(packagedModule==void 0&&require.original)return require.original.apply(this,arguments);return packagedModule},normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return normalizeModule(parentId,chunks[0])+"!"+normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");moduleName=base+"/"+moduleName;while(-1!==moduleName.indexOf(".")&&previous!=moduleName){var previous=moduleName;moduleName=moduleName.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return moduleName},lookup=function(parentId,moduleName){moduleName=normalizeModule(parentId,moduleName);var module=define.modules[moduleName];if(!module){module=define.payloads[moduleName];if("function"===typeof module){var exports={},mod={id:moduleName,uri:"",exports:exports,packaged:!0},req=function(module,callback){return _require(moduleName,module,callback)},returnValue=module(req,exports,mod);exports=returnValue||mod.exports;define.modules[moduleName]=exports;delete define.payloads[moduleName]}module=define.modules[moduleName]=exports||module}return module};function exportAce(ns){var root=global;if(ns){if(!global[ns])global[ns]={};root=global[ns]}if(!root.define||!root.define.packaged){define.original=root.define;root.define=define;root.define.packaged=!0}if(!root.require||!root.require.packaged){require.original=root.require;root.require=require;root.require.packaged=!0}}exportAce("ace")})();ace.define("ace/lib/regexp",["require","exports","module"],function(){var real={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:_Stringprototype.match,replace:_Stringprototype.replace,split:_Stringprototype.split},compliantExecNpcg=real.exec.call(/()??/,"")[1]===void 0,compliantLastIndexIncrement=function(){var x=/^/g;real.test.call(x,"");return!x.lastIndex}();if(compliantLastIndexIncrement&&compliantExecNpcg)return;RegExp.prototype.exec=function(str){var match=real.exec.apply(this,arguments),name,r2;if("string"==typeof str&&match){if(!compliantExecNpcg&&1<match.length&&-1<indexOf(match,"")){r2=RegExp(this.source,real.replace.call(getNativeFlags(this),"g",""));real.replace.call(str.slice(match.index),r2,function(){for(var i=1;i<arguments.length-2;i++){if(arguments[i]===void 0)match[i]=void 0}})}if(this._xregexp&&this._xregexp.captureNames){for(var i=1;i<match.length;i++){name=this._xregexp.captureNames[i-1];if(name)match[name]=match[i]}}if(!compliantLastIndexIncrement&&this.global&&!match[0].length&&this.lastIndex>match.index)this.lastIndex--}return match};if(!compliantLastIndexIncrement){RegExp.prototype.test=function(str){var match=real.exec.call(this,str);if(match&&this.global&&!match[0].length&&this.lastIndex>match.index)this.lastIndex--;return!!match}}function getNativeFlags(regex){return(regex.global?"g":"")+(regex.ignoreCase?"i":"")+(regex.multiline?"m":"")+(regex.extended?"x":"")+(regex.sticky?"y":"")}function indexOf(array,item,from){if(Array.prototype.indexOf)return array.indexOf(item,from);for(var i=from||0;i<array.length;i++){if(array[i]===item)return i}return-1}});ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}if(!Function.prototype.bind){Function.prototype.bind=function(that){var target=this;if("function"!=typeof target){throw new TypeError("Function.prototype.bind called on incompatible "+target)}var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));if(Object(result)===result){return result}return this}else{return target.apply(that,args.concat(slice.call(arguments)))}};if(target.prototype){Empty.prototype=target.prototype;bound.prototype=new Empty;Empty.prototype=null}return bound}}var call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty),defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors;if(supportsAccessors=owns(prototypeOfObject,"__defineGetter__")){defineGetter=call.bind(prototypeOfObject.__defineGetter__);defineSetter=call.bind(prototypeOfObject.__defineSetter__);lookupGetter=call.bind(prototypeOfObject.__lookupGetter__);lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)}if(2!=[1,2].splice(0).length){if(function(){function makeArray(l){var a=Array(l+2);a[0]=a[1]=0;return a}var array=[],lengthBefore;array.splice.apply(array,makeArray(20));array.splice.apply(array,makeArray(26));lengthBefore=array.length;array.splice(5,0,"XXX");lengthBefore+1==array.length;if(lengthBefore+1==array.length){return!0}}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){if(!arguments.length){return[]}else{return array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2)))}}}else{Array.prototype.splice=function(pos,removeCount){var length=this.length;if(0<pos){if(pos>length)pos=length}else if(void 0==pos){pos=0}else if(0>pos){pos=_Mathmax(length+pos,0)}if(!(pos+removeCount<length))removeCount=length-pos;var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length){if(add){this.push.apply(this,insert)}}else{var remove=_Mathmin(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailNewPos<tailOldPos){for(var i=0;i<tailCount;++i){this[tailNewPos+i]=this[tailOldPos+i]}}else if(tailNewPos>tailOldPos){for(i=tailCount;i--;){this[tailNewPos+i]=this[tailOldPos+i]}}if(add&&pos===lengthAfterRemove){this.length=lengthAfterRemove;this.push.apply(this,insert)}else{this.length=lengthAfterRemove+add;for(i=0;i<add;++i){this[pos+i]=insert[i]}}}return removed}}}if(!Array.isArray){Array.isArray=function(obj){return"[object Array]"==_toString(obj)}}var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(!Array.prototype.forEach){Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun)){throw new TypeError}while(++i<length){if(i in self){fun.call(thisp,self[i],i,object)}}}}if(!Array.prototype.map){Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun)){throw new TypeError(fun+" is not a function")}for(var i=0;i<length;i++){if(i in self)result[i]=fun.call(thisp,self[i],i,object)}return result}}if(!Array.prototype.filter){Array.prototype.filter=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],value,thisp=arguments[1];if("[object Function]"!=_toString(fun)){throw new TypeError(fun+" is not a function")}for(var i=0;i<length;i++){if(i in self){value=self[i];if(fun.call(thisp,value,i,object)){result.push(value)}}}return result}}if(!Array.prototype.every){Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun)){throw new TypeError(fun+" is not a function")}for(var i=0;i<length;i++){if(i in self&&!fun.call(thisp,self[i],i,object)){return!1}}return!0}}if(!Array.prototype.some){Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun)){throw new TypeError(fun+" is not a function")}for(var i=0;i<length;i++){if(i in self&&fun.call(thisp,self[i],i,object)){return!0}}return!1}}if(!Array.prototype.reduce){Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun)){throw new TypeError(fun+" is not a function")}if(!length&&1==arguments.length){throw new TypeError("reduce of empty array with no initial value")}var i=0,result;if(2<=arguments.length){result=arguments[1]}else{do{if(i in self){result=self[i++];break}if(++i>=length){throw new TypeError("reduce of empty array with no initial value")}}while(!0)}for(;i<length;i++){if(i in self){result=fun.call(void 0,result,self[i],i,object)}}return result}}if(!Array.prototype.reduceRight){Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun)){throw new TypeError(fun+" is not a function")}if(!length&&1==arguments.length){throw new TypeError("reduceRight of empty array with no initial value")}var result,i=length-1;if(2<=arguments.length){result=arguments[1]}else{do{if(i in self){result=self[i--];break}if(0>--i){throw new TypeError("reduceRight of empty array with no initial value")}}while(!0)}do{if(i in this){result=fun.call(void 0,result,self[i],i,object)}}while(i--);return result}}if(!Array.prototype.indexOf||-1!=[0,1].indexOf(1,2)){Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length){return-1}var i=0;if(1<arguments.length){i=toInteger(arguments[1])}i=0<=i?i:_Mathmax(0,length+i);for(;i<length;i++){if(i in self&&self[i]===sought){return i}}return-1}}if(!Array.prototype.lastIndexOf||-1!=[0,1].lastIndexOf(0,-3)){Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length){return-1}var i=length-1;if(1<arguments.length){i=_Mathmin(i,toInteger(arguments[1]))}i=0<=i?i:length-_Mathabs(i);for(;0<=i;i--){if(i in self&&sought===self[i]){return i}}return-1}}if(!Object.getPrototypeOf){Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}}if(!Object.getOwnPropertyDescriptor){Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.getOwnPropertyDescriptor called on a "+"non-object: "+object);if(!owns(object,property))return;var descriptor,getter,setter;descriptor={enumerable:!0,configurable:!0};if(supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);object.__proto__=prototype;if(getter||setter){if(getter)descriptor.get=getter;if(setter)descriptor.set=setter;return descriptor}}descriptor.value=object[property];return descriptor}}if(!Object.getOwnPropertyNames){Object.getOwnPropertyNames=function(object){return Object.keys(object)}}if(!Object.create){var createEmpty;if(null===Object.prototype.__proto__){createEmpty=function(){return{__proto__:null}}}else{createEmpty=function(){var empty={};for(var i in empty)empty[i]=null;empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null;return empty}}Object.create=function(prototype,properties){var object;if(null===prototype){object=createEmpty()}else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != 'object'");var Type=function(){};Type.prototype=prototype;object=new Type;object.__proto__=prototype}if(void 0!==properties)Object.defineProperties(object,properties);return object}}function doesDefinePropertyWork(object){try{Object.defineProperty(object,"sentinel",{});return"sentinel"in object}catch(exception){}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom){var definePropertyFallback=Object.defineProperty}}if(!Object.defineProperty||definePropertyFallback){Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.defineProperty called on non-object: "+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError("Property description must be an object: "+descriptor);if(definePropertyFallback){try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}}if(owns(descriptor,"value")){if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject;delete object[property];object[property]=descriptor.value;object.__proto__=prototype}else{object[property]=descriptor.value}}else{if(!supportsAccessors)throw new TypeError("getters & setters can not be defined "+"on this javascript engine");if(owns(descriptor,"get"))defineGetter(object,property,descriptor.get);if(owns(descriptor,"set"))defineSetter(object,property,descriptor.set)}return object}}if(!Object.defineProperties){Object.defineProperties=function(object,properties){for(var property in properties){if(owns(properties,property))Object.defineProperty(object,property,properties[property])}return object}}if(!Object.seal){Object.seal=function(object){return object}}if(!Object.freeze){Object.freeze=function(object){return object}}try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){if("function"==typeof object){return object}else{return freezeObject(object)}}}(Object.freeze)}if(!Object.preventExtensions){Object.preventExtensions=function(object){return object}}if(!Object.isSealed){Object.isSealed=function(){return!1}}if(!Object.isFrozen){Object.isFrozen=function(){return!1}}if(!Object.isExtensible){Object.isExtensible=function(object){if(Object(object)===object){throw new TypeError}var name="";while(owns(object,name)){name+="?"}object[name]=!0;var returnValue=owns(object,name);delete object[name];return returnValue}}if(!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null}){hasDontEnumBug=!1}Object.keys=function keys(object){if("object"!=typeof object&&"function"!=typeof object||null===object){throw new TypeError("Object.keys called on a non-object")}var keys=[];for(var name in object){if(owns(object,name)){keys.push(name)}}if(hasDontEnumBug){for(var i=0,dontEnum;i<dontEnumsLength;i++){dontEnum=dontEnums[i];if(owns(object,dontEnum)){keys.push(dontEnum)}}}return keys}}if(!Date.now){Date.now=function(){return new Date().getTime()}}var ws="\t\n\x0B\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003"+"\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028"+"\u2029\uFEFF";if(!_Stringprototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=new RegExp("^"+ws+ws+"*"),trimEndRegexp=new RegExp(ws+ws+"*$");_Stringprototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}function toInteger(n){n=+n;if(n!==n){n=0}else if(0!==n&&n!==1/0&&n!==-(1/0)){n=(0<n||-1)*_Mathfloor(_Mathabs(n))}return n}var toObject=function(o){if(null==o){throw new TypeError("can't convert "+o+" to object")}return Object(o)}});ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(require){require("./regexp");require("./es5-shim");if("undefined"!=typeof Element&&!Element.prototype.remove){Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})}});ace.define("ace/lib/useragent",["require","exports","module"],function(require,exports){exports.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"};exports.getOS=function(){if(exports.isMac){return exports.OS.MAC}else if(exports.isLinux){return exports.OS.LINUX}else{return exports.OS.WINDOWS}};if("object"!=typeof navigator)return;var os=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),ua=navigator.userAgent;exports.isWin="win"==os;exports.isMac="mac"==os;exports.isLinux="linux"==os;exports.isIE="Microsoft Internet Explorer"==navigator.appName||0<=navigator.appName.indexOf("MSAppHost")?parseFloat((ua.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((ua.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]);exports.isOldIE=exports.isIE&&9>exports.isIE;exports.isGecko=exports.isMozilla=ua.match(/ Gecko\/\d+/);exports.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera);exports.isWebKit=parseFloat(ua.split("WebKit/")[1])||void 0;exports.isChrome=parseFloat(ua.split(" Chrome/")[1])||void 0;exports.isEdge=parseFloat(ua.split(" Edge/")[1])||void 0;exports.isAIR=0<=ua.indexOf("AdobeAIR");exports.isIPad=0<=ua.indexOf("iPad");exports.isAndroid=0<=ua.indexOf("Android");exports.isChromeOS=0<=ua.indexOf(" CrOS ");exports.isIOS=/iPad|iPhone|iPod/.test(ua)&&!window.MSStream;if(exports.isIOS)exports.isMac=!0;exports.isMobile=exports.isIPad||exports.isAndroid});ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(require,exports){var useragent=require("./useragent");exports.buildDom=function buildDom(arr,parent,refs){if("string"==typeof arr&&arr){var txt=document.createTextNode(arr);if(parent)parent.appendChild(txt);return txt}if(!Array.isArray(arr))return arr;if("string"!=typeof arr[0]||!arr[0]){for(var els=[],i=0,ch;i<arr.length;i++){ch=buildDom(arr[i],parent,refs);ch&&els.push(ch)}return els}var el=document.createElement(arr[0]),options=arr[1],childIndex=1;if(options&&"object"==typeof options&&!Array.isArray(options))childIndex=2;for(var i=childIndex;i<arr.length;i++)buildDom(arr[i],el,refs);if(2==childIndex){Object.keys(options).forEach(function(n){var val=options[n];if("class"===n){el.className=Array.isArray(val)?val.join(" "):val}else if("function"==typeof val||"value"==n){el[n]=val}else if("ref"===n){if(refs)refs[val]=el}else if(null!=val){el.setAttribute(n,val)}})}if(parent)parent.appendChild(el);return el};exports.getDocumentHead=function(doc){if(!doc)doc=document;return doc.head||doc.getElementsByTagName("head")[0]||doc.documentElement};exports.createElement=function(tag,ns){return document.createElementNS?document.createElementNS(ns||"http://www.w3.org/1999/xhtml",tag):document.createElement(tag)};exports.removeChildren=function(element){element.innerHTML=""};exports.createTextNode=function(textContent,element){var doc=element?element.ownerDocument:document;return doc.createTextNode(textContent)};exports.createFragment=function(element){var doc=element?element.ownerDocument:document;return doc.createDocumentFragment()};exports.hasCssClass=function(el,name){var classes=(el.className+"").split(/\s+/g);return-1!==classes.indexOf(name)};exports.addCssClass=function(el,name){if(!exports.hasCssClass(el,name)){el.className+=" "+name}};exports.removeCssClass=function(el,name){var classes=el.className.split(/\s+/g);while(!0){var index=classes.indexOf(name);if(-1==index){break}classes.splice(index,1)}el.className=classes.join(" ")};exports.toggleCssClass=function(el,name){var classes=el.className.split(/\s+/g),add=!0;while(!0){var index=classes.indexOf(name);if(-1==index){break}add=!1;classes.splice(index,1)}if(add)classes.push(name);el.className=classes.join(" ");return add};exports.setCssClass=function(node,className,include){if(include){exports.addCssClass(node,className)}else{exports.removeCssClass(node,className)}};exports.hasCssString=function(id,doc){var index=0,sheets;doc=doc||document;if(sheets=doc.querySelectorAll("style")){while(index<sheets.length)if(sheets[index++].id===id)return!0}};exports.importCssString=function(cssText,id,container){var root=container&&container.getRootNode?container.getRootNode():document,doc=root.ownerDocument||root;if(id&&exports.hasCssString(id,root))return null;if(id)cssText+="\n/*# sourceURL=ace/css/"+id+" */";var style=exports.createElement("style");style.appendChild(doc.createTextNode(cssText));if(id)style.id=id;if(root==doc)root=exports.getDocumentHead(doc);root.insertBefore(style,root.firstChild)};exports.importCssStylsheet=function(uri,doc){exports.buildDom(["link",{rel:"stylesheet",href:uri}],exports.getDocumentHead(doc))};exports.scrollbarWidth=function(document){var inner=exports.createElement("ace_inner");inner.style.width="100%";inner.style.minWidth="0px";inner.style.height="200px";inner.style.display="block";var outer=exports.createElement("ace_outer"),style=outer.style;style.position="absolute";style.left="-10000px";style.overflow="hidden";style.width="200px";style.minWidth="0px";style.height="150px";style.display="block";outer.appendChild(inner);var body=document.documentElement;body.appendChild(outer);var noScrollbar=inner.offsetWidth;style.overflow="scroll";var withScrollbar=inner.offsetWidth;if(noScrollbar==withScrollbar){withScrollbar=outer.clientWidth}body.removeChild(outer);return noScrollbar-withScrollbar};if("undefined"==typeof document){exports.importCssString=function(){}}exports.computedStyle=function(element){return window.getComputedStyle(element,"")||{}};exports.setStyle=function(styles,property,value){if(styles[property]!==value){styles[property]=value}};exports.HAS_CSS_ANIMATION=!1;exports.HAS_CSS_TRANSFORMS=!1;exports.HI_DPI=useragent.isWin?"undefined"!==typeof window&&1.5<=window.devicePixelRatio:!0;if("undefined"!==typeof document){var div=document.createElement("div");if(exports.HI_DPI&&div.style.transform!==void 0)exports.HAS_CSS_TRANSFORMS=!0;if(!useragent.isEdge&&"undefined"!==typeof div.style.animationName)exports.HAS_CSS_ANIMATION=!0;div=null}if(exports.HAS_CSS_TRANSFORMS){exports.translate=function(element,tx,ty){element.style.transform="translate("+_Mathround(tx)+"px, "+_Mathround(ty)+"px)"}}else{exports.translate=function(element,tx,ty){element.style.top=_Mathround(ty)+"px";element.style.left=_Mathround(tx)+"px"}}});ace.define("ace/lib/oop",["require","exports","module"],function(require,exports){exports.inherits=function(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})};exports.mixin=function(obj,mixin){for(var key in mixin){obj[key]=mixin[key]}return obj};exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}});ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(require,exports){require("./fixoldbrowsers");var oop=require("./oop"),Keys=function(){var ret={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},name,i;for(i in ret.FUNCTION_KEYS){name=ret.FUNCTION_KEYS[i].toLowerCase();ret[name]=parseInt(i,10)}for(i in ret.PRINTABLE_KEYS){name=ret.PRINTABLE_KEYS[i].toLowerCase();ret[name]=parseInt(i,10)}oop.mixin(ret,ret.MODIFIER_KEYS);oop.mixin(ret,ret.PRINTABLE_KEYS);oop.mixin(ret,ret.FUNCTION_KEYS);ret.enter=ret["return"];ret.escape=ret.esc;ret.del=ret["delete"];ret[173]="-";(function(){for(var mods=["cmd","ctrl","alt","shift"],i=_Mathpow(2,mods.length);i--;){ret.KEY_MODS[i]=mods.filter(function(x){return i&ret.KEY_MODS[x]}).join("-")+"-"}})();ret.KEY_MODS[0]="";ret.KEY_MODS[-1]="input-";return ret}();oop.mixin(exports,Keys);exports.keyCodeToString=function(keyCode){var keyString=Keys[keyCode];if("string"!=typeof keyString)keyString=_StringfromCharCode(keyCode);return keyString.toLowerCase()}});ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(require,exports){var keys=require("./keys"),useragent=require("./useragent"),pressedKeys=null,ts=0;exports.addListener=function(elem,type,callback){if(elem.addEventListener){return elem.addEventListener(type,callback,!1)}if(elem.attachEvent){var wrapper=function(){callback.call(elem,window.event)};callback._wrapper=wrapper;elem.attachEvent("on"+type,wrapper)}};exports.removeListener=function(elem,type,callback){if(elem.removeEventListener){return elem.removeEventListener(type,callback,!1)}if(elem.detachEvent){elem.detachEvent("on"+type,callback._wrapper||callback)}};exports.stopEvent=function(e){exports.stopPropagation(e);exports.preventDefault(e);return!1};exports.stopPropagation=function(e){if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=!0};exports.preventDefault=function(e){if(e.preventDefault)e.preventDefault();else e.returnValue=!1};exports.getButton=function(e){if("dblclick"==e.type)return 0;if("contextmenu"==e.type||useragent.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey)return 2;if(e.preventDefault){return e.button}else{return{1:0,2:2,4:1}[e.button]}};exports.capture=function(el,eventHandler,releaseCaptureHandler){function onMouseUp(e){eventHandler&&eventHandler(e);releaseCaptureHandler&&releaseCaptureHandler(e);exports.removeListener(document,"mousemove",eventHandler,!0);exports.removeListener(document,"mouseup",onMouseUp,!0);exports.removeListener(document,"dragstart",onMouseUp,!0)}exports.addListener(document,"mousemove",eventHandler,!0);exports.addListener(document,"mouseup",onMouseUp,!0);exports.addListener(document,"dragstart",onMouseUp,!0);return onMouseUp};exports.addTouchMoveListener=function(el,callback){var startx,starty;exports.addListener(el,"touchstart",function(e){var touches=e.touches,touchObj=touches[0];startx=touchObj.clientX;starty=touchObj.clientY});exports.addListener(el,"touchmove",function(e){var touches=e.touches;if(1<touches.length)return;var touchObj=touches[0];e.wheelX=startx-touchObj.clientX;e.wheelY=starty-touchObj.clientY;startx=touchObj.clientX;starty=touchObj.clientY;callback(e)})};exports.addMouseWheelListener=function(el,callback){if("onmousewheel"in el){exports.addListener(el,"mousewheel",function(e){var factor=8;if(e.wheelDeltaX!==void 0){e.wheelX=-e.wheelDeltaX/factor;e.wheelY=-e.wheelDeltaY/factor}else{e.wheelX=0;e.wheelY=-e.wheelDelta/factor}callback(e)})}else if("onwheel"in el){exports.addListener(el,"wheel",function(e){var factor=.35;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=e.deltaX*factor||0;e.wheelY=e.deltaY*factor||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0);e.wheelY=5*(e.deltaY||0);break;}callback(e)})}else{exports.addListener(el,"DOMMouseScroll",function(e){if(e.axis&&e.axis==e.HORIZONTAL_AXIS){e.wheelX=5*(e.detail||0);e.wheelY=0}else{e.wheelX=0;e.wheelY=5*(e.detail||0)}callback(e)})}};exports.addMultiMouseDownListener=function(elements,timeouts,eventHandler,callbackName){var clicks=0,startX,startY,timer,eventNames={2:"dblclick",3:"tripleclick",4:"quadclick"};function onMousedown(e){if(0!==exports.getButton(e)){clicks=0}else if(1<e.detail){clicks++;if(4<clicks)clicks=1}else{clicks=1}if(useragent.isIE){var isNewClick=5<_Mathabs(e.clientX-startX)||5<_Mathabs(e.clientY-startY);if(!timer||isNewClick)clicks=1;if(timer)clearTimeout(timer);timer=setTimeout(function(){timer=null},timeouts[clicks-1]||600);if(1==clicks){startX=e.clientX;startY=e.clientY}}e._clicks=clicks;eventHandler[callbackName]("mousedown",e);if(4<clicks)clicks=0;else if(1<clicks)return eventHandler[callbackName](eventNames[clicks],e)}function onDblclick(e){clicks=2;if(timer)clearTimeout(timer);timer=setTimeout(function(){timer=null},timeouts[clicks-1]||600);eventHandler[callbackName]("mousedown",e);eventHandler[callbackName](eventNames[clicks],e)}if(!Array.isArray(elements))elements=[elements];elements.forEach(function(el){exports.addListener(el,"mousedown",onMousedown);if(useragent.isOldIE)exports.addListener(el,"dblclick",onDblclick)})};var getModifierHash=useragent.isMac&&useragent.isOpera&&!("KeyboardEvent"in window)?function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)}:function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};exports.getModifierString=function(e){return keys.KEY_MODS[getModifierHash(e)]};function normalizeCommandKeys(callback,e,keyCode){var hashId=getModifierHash(e);if(!useragent.isMac&&pressedKeys){if(e.getModifierState&&(e.getModifierState("OS")||e.getModifierState("Win")))hashId|=8;if(pressedKeys.altGr){if(3!=(3&hashId))pressedKeys.altGr=0;else return}if(18===keyCode||17===keyCode){var location="location"in e?e.location:e.keyLocation;if(17===keyCode&&1===location){if(1==pressedKeys[keyCode])ts=e.timeStamp}else if(18===keyCode&&3===hashId&&2===location){var dt=e.timeStamp-ts;if(50>dt)pressedKeys.altGr=!0}}}if(keyCode in keys.MODIFIER_KEYS){keyCode=-1}if(8&hashId&&91<=keyCode&&93>=keyCode){keyCode=-1}if(!hashId&&13===keyCode){var location="location"in e?e.location:e.keyLocation;if(3===location){callback(e,hashId,-keyCode);if(e.defaultPrevented)return}}if(useragent.isChromeOS&&8&hashId){callback(e,hashId,keyCode);if(e.defaultPrevented)return;else hashId&=~8}if(!hashId&&!(keyCode in keys.FUNCTION_KEYS)&&!(keyCode in keys.PRINTABLE_KEYS)){return!1}return callback(e,hashId,keyCode)}exports.addCommandKeyListener=function(el,callback){var addListener=exports.addListener;if(useragent.isOldGecko||useragent.isOpera&&!("KeyboardEvent"in window)){var lastKeyDownKeyCode=null;addListener(el,"keydown",function(e){lastKeyDownKeyCode=e.keyCode});addListener(el,"keypress",function(e){return normalizeCommandKeys(callback,e,lastKeyDownKeyCode)})}else{var lastDefaultPrevented=null;addListener(el,"keydown",function(e){pressedKeys[e.keyCode]=(pressedKeys[e.keyCode]||0)+1;var result=normalizeCommandKeys(callback,e,e.keyCode);lastDefaultPrevented=e.defaultPrevented;return result});addListener(el,"keypress",function(e){if(lastDefaultPrevented&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)){exports.stopEvent(e);lastDefaultPrevented=null}});addListener(el,"keyup",function(e){pressedKeys[e.keyCode]=null});if(!pressedKeys){resetPressedKeys();addListener(window,"focus",resetPressedKeys)}}};function resetPressedKeys(){pressedKeys=Object.create(null)}if("object"==typeof window&&window.postMessage&&!useragent.isOldIE){var postMessageId=1;exports.nextTick=function(callback,win){win=win||window;var messageName="zero-timeout-message-"+postMessageId++,listener=function(e){if(e.data==messageName){exports.stopPropagation(e);exports.removeListener(win,"message",listener);callback()}};exports.addListener(win,"message",listener);win.postMessage(messageName,"*")}}exports.$idleBlocked=!1;exports.onIdle=function(cb,timeout){return setTimeout(function handler(){if(!exports.$idleBlocked){cb()}else{setTimeout(handler,100)}},timeout)};exports.$idleBlockId=null;exports.blockIdle=function(delay){if(exports.$idleBlockId)clearTimeout(exports.$idleBlockId);exports.$idleBlocked=!0;exports.$idleBlockId=setTimeout(function(){exports.$idleBlocked=!1},delay||100)};exports.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame);if(exports.nextFrame)exports.nextFrame=exports.nextFrame.bind(window);else exports.nextFrame=function(callback){setTimeout(callback,17)}});ace.define("ace/range",["require","exports","module"],function(require,exports){var Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn};this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column};this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"};this.contains=function(row,column){return 0==this.compare(row,column)};this.compareRange=function(range){var cmp,end=range.end,start=range.start;cmp=this.compare(end.row,end.column);if(1==cmp){cmp=this.compare(start.row,start.column);if(1==cmp){return 2}else if(0==cmp){return 1}else{return 0}}else if(-1==cmp){return-2}else{cmp=this.compare(start.row,start.column);if(-1==cmp){return-1}else if(1==cmp){return 42}else{return 0}}};this.comparePoint=function(p){return this.compare(p.row,p.column)};this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)};this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp};this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column};this.isStart=function(row,column){return this.start.row==row&&this.start.column==column};this.setStart=function(row,column){if("object"==typeof row){this.start.column=row.column;this.start.row=row.row}else{this.start.row=row;this.start.column=column}};this.setEnd=function(row,column){if("object"==typeof row){this.end.column=row.column;this.end.row=row.row}else{this.end.row=row;this.end.column=column}};this.inside=function(row,column){if(0==this.compare(row,column)){if(this.isEnd(row,column)||this.isStart(row,column)){return!1}else{return!0}}return!1};this.insideStart=function(row,column){if(0==this.compare(row,column)){if(this.isEnd(row,column)){return!1}else{return!0}}return!1};this.insideEnd=function(row,column){if(0==this.compare(row,column)){if(this.isStart(row,column)){return!1}else{return!0}}return!1};this.compare=function(row,column){if(!this.isMultiLine()){if(row===this.start.row){return column<this.start.column?-1:column>this.end.column?1:0}}if(row<this.start.row)return-1;if(row>this.end.row)return 1;if(this.start.row===row)return column>=this.start.column?0:-1;if(this.end.row===row)return column<=this.end.column?0:1;return 0};this.compareStart=function(row,column){if(this.start.row==row&&this.start.column==column){return-1}else{return this.compare(row,column)}};this.compareEnd=function(row,column){if(this.end.row==row&&this.end.column==column){return 1}else{return this.compare(row,column)}};this.compareInside=function(row,column){if(this.end.row==row&&this.end.column==column){return 1}else if(this.start.row==row&&this.start.column==column){return-1}else{return this.compare(row,column)}};this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(this.end.row<firstRow)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(this.start.row<firstRow)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)};this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;else if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)};this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column};this.isMultiLine=function(){return this.start.row!==this.end.row};this.clone=function(){return Range.fromPoints(this.start,this.end)};this.collapseRows=function(){if(0==this.end.column)return new Range(this.start.row,0,_Mathmax(this.start.row,this.end.row-1),0);else return new Range(this.start.row,0,this.end.row,0)};this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)};this.moveBy=function(row,column){this.start.row+=row;this.start.column+=column;this.end.row+=row;this.end.column+=column}}).call(Range.prototype);Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)};Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column};Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column};exports.Range=Range});ace.define("ace/lib/lang",["require","exports","module"],function(require,exports){exports.last=function(a){return a[a.length-1]};exports.stringReverse=function(string){return string.split("").reverse().join("")};exports.stringRepeat=function(string,count){var result="";while(0<count){if(1&count)result+=string;if(count>>=1)string+=string}return result};var trimBeginRegexp=/^\s\s*/,trimEndRegexp=/\s\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")};exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")};exports.copyObject=function(obj){var copy={};for(var key in obj){copy[key]=obj[key]}return copy};exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;i<l;i++){if(array[i]&&"object"==typeof array[i])copy[i]=this.copyObject(array[i]);else copy[i]=array[i]}return copy};exports.deepCopy=function deepCopy(obj){if("object"!==typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;key<obj.length;key++){copy[key]=deepCopy(obj[key])}return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy};exports.arrayToMap=function(arr){for(var map={},i=0;i<arr.length;i++){map[arr[i]]=1}return map};exports.createMap=function(props){var map=Object.create(null);for(var i in props){map[i]=props[i]}return map};exports.arrayRemove=function(array,value){for(var i=0;i<=array.length;i++){if(value===array[i]){array.splice(i,1)}}};exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")};exports.escapeHTML=function(str){return(""+str).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")};exports.getMatchOffsets=function(string,regExp){var matches=[];string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})});return matches};exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null;fcn()},deferred=function(timeout){deferred.cancel();timer=setTimeout(callback,timeout||0);return deferred};deferred.schedule=deferred;deferred.call=function(){this.cancel();fcn();return deferred};deferred.cancel=function(){clearTimeout(timer);timer=null;return deferred};deferred.isPending=function(){return timer};return deferred};exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null;fcn()},_self=function(timeout){if(null==timer)timer=setTimeout(callback,timeout||defaultTimeout)};_self.delay=function(timeout){timer&&clearTimeout(timer);timer=setTimeout(callback,timeout||defaultTimeout)};_self.schedule=_self;_self.call=function(){this.cancel();fcn()};_self.cancel=function(){timer&&clearTimeout(timer);timer=null};_self.isPending=function(){return timer};return _self}});ace.define("ace/keyboard/textinput_ios",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/lib/keys"],function(require,exports){var event=require("../lib/event"),useragent=require("../lib/useragent"),dom=require("../lib/dom"),lang=require("../lib/lang"),KEYS=require("../lib/keys"),MODS=KEYS.KEY_MODS,BROKEN_SETDATA=18>useragent.isChrome,USE_IE_MIME_TYPE=useragent.isIE,TextInput=function(parentNode,host){var self=this,text=dom.createElement("textarea");text.className=useragent.isIOS?"ace_text-input ace_text-input-ios":"ace_text-input";if(useragent.isTouchPad)text.setAttribute("x-palm-disable-auto-cap",!0);text.setAttribute("wrap","off");text.setAttribute("autocorrect","off");text.setAttribute("autocapitalize","off");text.setAttribute("spellcheck",!1);text.style.opacity="0";parentNode.insertBefore(text,parentNode.firstChild);var PLACEHOLDER="\n aaaa a\n",copied=!1,cut=!1,pasted=!1,inComposition=!1,tempStyle="",isSelectionEmpty=!0;try{var isFocused=document.activeElement===text}catch(e){}event.addListener(text,"blur",function(e){host.onBlur(e);isFocused=!1});event.addListener(text,"focus",function(e){isFocused=!0;host.onFocus(e);resetSelection()});this.focus=function(){if(tempStyle)return text.focus();text.style.position="fixed";text.focus()};this.blur=function(){text.blur()};this.isFocused=function(){return isFocused};var syncSelection=lang.delayedCall(function(){isFocused&&resetSelection(isSelectionEmpty)}),syncValue=lang.delayedCall(function(){if(!inComposition){text.value=PLACEHOLDER;isFocused&&resetSelection()}});function resetSelection(isEmpty){if(inComposition)return;inComposition=!0;if(inputHandler){selectionStart=0;selectionEnd=isEmpty?0:text.value.length-1}else{var selectionStart=4,selectionEnd=5}try{text.setSelectionRange(selectionStart,selectionEnd)}catch(e){}inComposition=!1}function resetValue(){if(inComposition)return;text.value=PLACEHOLDER;if(useragent.isWebKit)syncValue.schedule()}useragent.isWebKit||host.addEventListener("changeSelection",function(){if(host.selection.isEmpty()!=isSelectionEmpty){isSelectionEmpty=!isSelectionEmpty;syncSelection.schedule()}});resetValue();if(isFocused)host.onFocus();var isAllSelected=function(text){return 0===text.selectionStart&&text.selectionEnd===text.value.length},onSelect=function(){if(isAllSelected(text)){host.selectAll();resetSelection()}else if(inputHandler){resetSelection(host.selection.isEmpty())}},inputHandler=null;this.setInputHandler=function(cb){inputHandler=cb};this.getInputHandler=function(){return inputHandler};var afterContextMenu=!1,sendText=function(data){if(4===text.selectionStart&&5===text.selectionEnd){return}if(inputHandler){data=inputHandler(data);inputHandler=null}if(pasted){resetSelection();if(data)host.onPaste(data);pasted=!1}else if(data==PLACEHOLDER.substr(0)&&4===text.selectionStart){if(afterContextMenu)host.execCommand("del",{source:"ace"});else host.execCommand("backspace",{source:"ace"})}else if(!copied){if(data.substring(0,9)==PLACEHOLDER&&data.length>PLACEHOLDER.length)data=data.substr(9);else if(data.substr(0,4)==PLACEHOLDER.substr(0,4))data=data.substr(4,data.length-PLACEHOLDER.length+1);else if(data.charAt(data.length-1)==PLACEHOLDER.charAt(0))data=data.slice(0,-1);if(data==PLACEHOLDER.charAt(0)){}else if(data.charAt(data.length-1)==PLACEHOLDER.charAt(0))data=data.slice(0,-1);if(data)host.onTextInput(data)}if(copied){copied=!1}if(afterContextMenu)afterContextMenu=!1},onInput=function(){if(inComposition)return;var data=text.value;sendText(data);resetValue()},handleClipboardData=function(e,data,forceIEMime){var clipboardData=e.clipboardData||window.clipboardData;if(!clipboardData||BROKEN_SETDATA)return;var mime=USE_IE_MIME_TYPE||forceIEMime?"Text":"text/plain";try{if(data){return!1!==clipboardData.setData(mime,data)}else{return clipboardData.getData(mime)}}catch(e){if(!forceIEMime)return handleClipboardData(e,data,!0)}},doCopy=function(e,isCut){var data=host.getCopyText();if(!data)return event.preventDefault(e);if(handleClipboardData(e,data)){if(useragent.isIOS){cut=isCut;text.value="\n aa"+data+"a a\n";text.setSelectionRange(4,4+data.length);copied={value:data}}isCut?host.onCut():host.onCopy();if(!useragent.isIOS)event.preventDefault(e)}else{copied=!0;text.value=data;text.select();setTimeout(function(){copied=!1;resetValue();resetSelection();isCut?host.onCut():host.onCopy()})}};event.addCommandKeyListener(text,host.onCommandKey.bind(host));event.addListener(text,"select",onSelect);event.addListener(text,"input",onInput);event.addListener(text,"cut",function(e){doCopy(e,!0)});event.addListener(text,"copy",function(e){doCopy(e,!1)});event.addListener(text,"paste",function(e){var data=handleClipboardData(e);if("string"==typeof data){if(data)host.onPaste(data,e);if(useragent.isIE)setTimeout(resetSelection);event.preventDefault(e)}else{text.value="";pasted=!0}});var onCompositionStart=function(){if(inComposition||!host.onCompositionStart||host.$readOnly)return;inComposition={};inComposition.canUndo=host.session.$undoManager;host.onCompositionStart();setTimeout(onCompositionUpdate,0);host.on("mousedown",onCompositionEnd);if(inComposition.canUndo&&!host.selection.isEmpty()){host.insert("");host.session.markUndoGroup();host.selection.clearSelection()}host.session.markUndoGroup()},onCompositionUpdate=function(){if(!inComposition||!host.onCompositionUpdate||host.$readOnly)return;var val=text.value.replace(/\x01/g,"");if(inComposition.lastValue===val)return;host.onCompositionUpdate(val);if(inComposition.lastValue)host.undo();if(inComposition.canUndo)inComposition.lastValue=val;if(inComposition.lastValue){var r=host.selection.getRange();host.insert(inComposition.lastValue);host.session.markUndoGroup();inComposition.range=host.selection.getRange();host.selection.setRange(r);host.selection.clearSelection()}},onCompositionEnd=function(e){if(!host.onCompositionEnd||host.$readOnly)return;var c=inComposition;inComposition=!1;var timer=setTimeout(function(){timer=null;var str=text.value.replace(/\x01/g,"");if(inComposition)return;else if(str==c.lastValue)resetValue();else if(!c.lastValue&&str){resetValue();sendText(str)}});inputHandler=function(str){if(timer)clearTimeout(timer);str=str.replace(/\x01/g,"");if(str==c.lastValue)return"";if(c.lastValue&&timer)host.undo();return str};host.onCompositionEnd();host.removeListener("mousedown",onCompositionEnd);if("compositionend"==e.type&&c.range){host.selection.setRange(c.range)}var needsOnInput=!!useragent.isChrome&&53<=useragent.isChrome||!!useragent.isWebKit&&603<=useragent.isWebKit;if(needsOnInput){onInput()}},syncComposition=lang.delayedCall(onCompositionUpdate,50);event.addListener(text,"compositionstart",onCompositionStart);event.addListener(text,"compositionupdate",function(){syncComposition.schedule()});event.addListener(text,"keyup",function(){syncComposition.schedule()});event.addListener(text,"keydown",function(){syncComposition.schedule()});event.addListener(text,"compositionend",onCompositionEnd);this.getElement=function(){return text};this.setReadOnly=function(readOnly){text.readOnly=readOnly};this.onContextMenu=function(e){afterContextMenu=!0;resetSelection(host.selection.isEmpty());host._emit("nativecontextmenu",{target:host,domEvent:e});this.moveToMouse(e,!0)};this.moveToMouse=function(e,bringToFront){if(!tempStyle)tempStyle=text.style.cssText;text.style.cssText=(bringToFront?"z-index:100000;":"")+"height:"+text.style.height+";"+(useragent.isIE?"opacity:0.1;":"");var rect=host.container.getBoundingClientRect(),style=dom.computedStyle(host.container),top=rect.top+(parseInt(style.borderTopWidth)||0),left=rect.left+(parseInt(rect.borderLeftWidth)||0),maxTop=rect.bottom-top-text.clientHeight-2,move=function(e){text.style.left=e.clientX-left-2+"px";text.style.top=_Mathmin(e.clientY-top-2,maxTop)+"px"};move(e);if("mousedown"!=e.type)return;if(host.renderer.$keepTextAreaAtCursor)host.renderer.$keepTextAreaAtCursor=null;clearTimeout(closeTimeout);if(useragent.isWin)event.capture(host.container,move,onContextMenuClose)};this.onContextMenuClose=onContextMenuClose;var closeTimeout;function onContextMenuClose(){clearTimeout(closeTimeout);closeTimeout=setTimeout(function(){if(tempStyle){text.style.cssText=tempStyle;tempStyle=""}if(null==host.renderer.$keepTextAreaAtCursor){host.renderer.$keepTextAreaAtCursor=!0;host.renderer.$moveTextAreaToCursor()}},0)}var onContextMenu=function(e){host.textInput.onContextMenu(e);onContextMenuClose()};event.addListener(text,"mouseup",onContextMenu);event.addListener(text,"mousedown",function(e){e.preventDefault();onContextMenuClose()});event.addListener(host.renderer.scroller,"contextmenu",onContextMenu);event.addListener(text,"contextmenu",onContextMenu);if(useragent.isIOS){var typingResetTimeout=null,typing=!1;parentNode.addEventListener("keydown",function(){if(typingResetTimeout)clearTimeout(typingResetTimeout);typing=!0});parentNode.addEventListener("keyup",function(){typingResetTimeout=setTimeout(function(){typing=!1},100)});var detectArrowKeys=function(){if(document.activeElement!==text)return;if(typing)return;if(cut){return setTimeout(function(){cut=!1},100)}var selectionStart=text.selectionStart,selectionEnd=text.selectionEnd;text.setSelectionRange(4,5);if(selectionStart==selectionEnd){switch(selectionStart){case 0:host.onCommandKey(null,0,KEYS.up);break;case 1:host.onCommandKey(null,0,KEYS.home);break;case 2:host.onCommandKey(null,MODS.option,KEYS.left);break;case 4:host.onCommandKey(null,0,KEYS.left);break;case 5:host.onCommandKey(null,0,KEYS.right);break;case 7:host.onCommandKey(null,MODS.option,KEYS.right);break;case 8:host.onCommandKey(null,0,KEYS.end);break;case 9:host.onCommandKey(null,0,KEYS.down);break;}}else{switch(selectionEnd){case 6:host.onCommandKey(null,MODS.shift,KEYS.right);break;case 7:host.onCommandKey(null,MODS.shift|MODS.option,KEYS.right);break;case 8:host.onCommandKey(null,MODS.shift,KEYS.end);break;case 9:host.onCommandKey(null,MODS.shift,KEYS.down);break;}switch(selectionStart){case 0:host.onCommandKey(null,MODS.shift,KEYS.up);break;case 1:host.onCommandKey(null,MODS.shift,KEYS.home);break;case 2:host.onCommandKey(null,MODS.shift|MODS.option,KEYS.left);break;case 3:host.onCommandKey(null,MODS.shift,KEYS.left);break;}}};document.addEventListener("selectionchange",detectArrowKeys);host.on("destroy",function(){document.removeEventListener("selectionchange",detectArrowKeys)})}};exports.TextInput=TextInput});ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/keyboard/textinput_ios"],function(require,exports){var event=require("../lib/event"),useragent=require("../lib/useragent"),dom=require("../lib/dom"),lang=require("../lib/lang"),BROKEN_SETDATA=18>useragent.isChrome,USE_IE_MIME_TYPE=useragent.isIE,HAS_FOCUS_ARGS=63<useragent.isChrome,MAX_LINE_LENGTH=400,TextInputIOS=require("./textinput_ios").TextInput,TextInput=function(parentNode,host){if(useragent.isIOS)return TextInputIOS.call(this,parentNode,host);var text=dom.createElement("textarea");text.className="ace_text-input";text.setAttribute("wrap","off");text.setAttribute("autocorrect","off");text.setAttribute("autocapitalize","off");text.setAttribute("spellcheck",!1);text.style.opacity="0";parentNode.insertBefore(text,parentNode.firstChild);var copied=!1,pasted=!1,inComposition=!1,sendingText=!1,tempStyle="";if(!useragent.isMobile)text.style.fontSize="1px";var commandMode=!1,ignoreFocusEvents=!1,lastValue="",lastSelectionStart=0,lastSelectionEnd=0;try{var isFocused=document.activeElement===text}catch(e){}event.addListener(text,"blur",function(e){if(ignoreFocusEvents)return;host.onBlur(e);isFocused=!1});event.addListener(text,"focus",function(e){if(ignoreFocusEvents)return;isFocused=!0;host.onFocus(e);resetSelection()});this.$focusScroll=!1;this.focus=function(){if(tempStyle||HAS_FOCUS_ARGS||"browser"==this.$focusScroll)return text.focus({preventScroll:!0});if(!document.documentElement.contains(text))return;var top=text.style.top;text.style.position="fixed";text.style.top="0px";var isTransformed=0!=text.getBoundingClientRect().top,ancestors=[];if(isTransformed){var t=text.parentElement;while(t&&1==t.nodeType){ancestors.push(t);t.setAttribute("ace_nocontext",!0);if(!t.parentElement&&t.getRootNode)t=t.getRootNode().host;else t=t.parentElement}}text.focus({preventScroll:!0});if(isTransformed){ancestors.forEach(function(p){p.removeAttribute("ace_nocontext")})}setTimeout(function(){text.style.position="";if("0px"==text.style.top)text.style.top=top},0)};this.blur=function(){text.blur()};this.isFocused=function(){return isFocused};host.on("beforeEndOperation",function(){if(host.curOp&&"insertstring"==host.curOp.command.name)return;if(inComposition){lastValue=text.value="";onCompositionEnd()}resetSelection()});function resetSelection(){if(inComposition||sendingText)return;if(!isFocused&&!afterContextMenu)return;inComposition=!0;var selection=host.selection,range=selection.getRange(),row=selection.cursor.row,selectionStart=range.start.column,selectionEnd=range.end.column,line=host.session.getLine(row);if(range.start.row!=row){var prevLine=host.session.getLine(row-1);selectionStart=range.start.row<row-1?0:selectionStart;selectionEnd+=prevLine.length+1;line=prevLine+"\n"+line}else if(range.end.row!=row){var nextLine=host.session.getLine(row+1);selectionEnd=range.end.row>row+1?nextLine.length:selectionEnd;selectionEnd+=line.length+1;line=line+"\n"+nextLine}if(line.length>MAX_LINE_LENGTH){if(selectionStart<MAX_LINE_LENGTH&&selectionEnd<MAX_LINE_LENGTH){line=line.slice(0,MAX_LINE_LENGTH)}else{line="\n";selectionStart=0;selectionEnd=1}}var newValue=line+"\n\n";if(newValue!=lastValue){text.value=lastValue=newValue;lastSelectionStart=lastSelectionEnd=newValue.length}if(afterContextMenu){lastSelectionStart=text.selectionStart;lastSelectionEnd=text.selectionEnd}if(lastSelectionEnd!=selectionEnd||lastSelectionStart!=selectionStart){try{text.setSelectionRange(selectionStart,selectionEnd);lastSelectionStart=selectionStart;lastSelectionEnd=selectionEnd}catch(e){}}inComposition=!1}if(isFocused)host.onFocus();var isAllSelected=function(text){return 0===text.selectionStart&&text.selectionEnd>=lastValue.length&&text.value===lastValue&&lastValue&&text.selectionEnd!==lastSelectionEnd},onSelect=function(){if(inComposition)return;if(copied){copied=!1}else if(isAllSelected(text)){host.selectAll();resetSelection()}},inputHandler=null;this.setInputHandler=function(cb){inputHandler=cb};this.getInputHandler=function(){return inputHandler};var afterContextMenu=!1,sendText=function(value,fromInput){if(afterContextMenu)afterContextMenu=!1;if(pasted){resetSelection();if(value)host.onPaste(value);pasted=!1;return""}else{var selectionStart=text.selectionStart,selectionEnd=text.selectionEnd,extendLeft=lastSelectionStart,extendRight=lastValue.length-lastSelectionEnd,inserted=value,restoreStart=value.length-selectionStart,restoreEnd=value.length-selectionEnd,i=0;while(0<extendLeft&&lastValue[i]==value[i]){i++;extendLeft--}inserted=inserted.slice(i);i=1;while(0<extendRight&&lastValue.length-i>lastSelectionStart-1&&lastValue[lastValue.length-i]==value[value.length-i]){i++;extendRight--}restoreStart-=i-1;restoreEnd-=i-1;inserted=inserted.slice(0,inserted.length-i+1);if(!fromInput&&restoreStart==inserted.length&&!extendLeft&&!extendRight&&!restoreEnd)return"";sendingText=!0;if(inserted&&!extendLeft&&!extendRight&&!restoreStart&&!restoreEnd||commandMode){host.onTextInput(inserted)}else{host.onTextInput(inserted,{extendLeft:extendLeft,extendRight:extendRight,restoreStart:restoreStart,restoreEnd:restoreEnd})}sendingText=!1;lastValue=value;lastSelectionStart=selectionStart;lastSelectionEnd=selectionEnd;return inserted}},onInput=function(){if(inComposition)return onCompositionUpdate();var data=text.value,inserted=sendText(data,!0);if(data.length>MAX_LINE_LENGTH+100||/\n/.test(inserted))resetSelection()},handleClipboardData=function(e,data,forceIEMime){var clipboardData=e.clipboardData||window.clipboardData;if(!clipboardData||BROKEN_SETDATA)return;var mime=USE_IE_MIME_TYPE||forceIEMime?"Text":"text/plain";try{if(data){return!1!==clipboardData.setData(mime,data)}else{return clipboardData.getData(mime)}}catch(e){if(!forceIEMime)return handleClipboardData(e,data,!0)}},doCopy=function(e,isCut){var data=host.getCopyText();if(!data)return event.preventDefault(e);if(handleClipboardData(e,data)){isCut?host.onCut():host.onCopy();event.preventDefault(e)}else{copied=!0;text.value=data;text.select();setTimeout(function(){copied=!1;resetSelection();isCut?host.onCut():host.onCopy()})}},onCut=function(e){doCopy(e,!0)},onCopy=function(e){doCopy(e,!1)},onPaste=function(e){var data=handleClipboardData(e);if("string"==typeof data){if(data)host.onPaste(data,e);if(useragent.isIE)setTimeout(resetSelection);event.preventDefault(e)}else{text.value="";pasted=!0}};event.addCommandKeyListener(text,host.onCommandKey.bind(host));event.addListener(text,"select",onSelect);event.addListener(text,"input",onInput);event.addListener(text,"cut",onCut);event.addListener(text,"copy",onCopy);event.addListener(text,"paste",onPaste);if(!("oncut"in text)||!("oncopy"in text)||!("onpaste"in text)){event.addListener(parentNode,"keydown",function(e){if(useragent.isMac&&!e.metaKey||!e.ctrlKey)return;switch(e.keyCode){case 67:onCopy(e);break;case 86:onPaste(e);break;case 88:onCut(e);break;}})}var onCompositionStart=function(){if(inComposition||!host.onCompositionStart||host.$readOnly)return;inComposition={};if(commandMode)return;setTimeout(onCompositionUpdate,0);host.on("mousedown",cancelComposition);var range=host.getSelectionRange();range.end.row=range.start.row;range.end.column=range.start.column;inComposition.markerRange=range;inComposition.selectionStart=lastSelectionStart;host.onCompositionStart(inComposition);if(inComposition.useTextareaForIME){text.value="";lastValue="";lastSelectionStart=0;lastSelectionEnd=0}else{if(text.msGetInputContext)inComposition.context=text.msGetInputContext();if(text.getInputContext)inComposition.context=text.getInputContext()}},onCompositionUpdate=function(){if(!inComposition||!host.onCompositionUpdate||host.$readOnly)return;if(commandMode)return cancelComposition();if(inComposition.useTextareaForIME){host.onCompositionUpdate(text.value)}else{var data=text.value;sendText(data);if(inComposition.markerRange){if(inComposition.context){inComposition.markerRange.start.column=inComposition.selectionStart=inComposition.context.compositionStartOffset}inComposition.markerRange.end.column=inComposition.markerRange.start.column+lastSelectionEnd-inComposition.selectionStart}}},onCompositionEnd=function(e){if(!host.onCompositionEnd||host.$readOnly)return;inComposition=!1;host.onCompositionEnd();host.off("mousedown",cancelComposition);if(e)onInput()};function cancelComposition(){ignoreFocusEvents=!0;text.blur();text.focus();ignoreFocusEvents=!1}var syncComposition=lang.delayedCall(onCompositionUpdate,50).schedule.bind(null,null);function onKeyup(e){if(27==e.keyCode&&text.value.length<text.selectionStart){if(!inComposition)lastValue=text.value;lastSelectionStart=lastSelectionEnd=-1;resetSelection()}syncComposition()}event.addListener(text,"compositionstart",onCompositionStart);event.addListener(text,"compositionupdate",onCompositionUpdate);event.addListener(text,"keyup",onKeyup);event.addListener(text,"keydown",syncComposition);event.addListener(text,"compositionend",onCompositionEnd);this.getElement=function(){return text};this.setCommandMode=function(value){commandMode=value;text.readOnly=!1};this.setReadOnly=function(readOnly){if(!commandMode)text.readOnly=readOnly};this.setCopyWithEmptySelection=function(value){};this.onContextMenu=function(e){afterContextMenu=!0;resetSelection();host._emit("nativecontextmenu",{target:host,domEvent:e});this.moveToMouse(e,!0)};this.moveToMouse=function(e,bringToFront){if(!tempStyle)tempStyle=text.style.cssText;text.style.cssText=(bringToFront?"z-index:100000;":"")+(useragent.isIE?"opacity:0.1;":"")+"text-indent: -"+.5*((lastSelectionStart+lastSelectionEnd)*host.renderer.characterWidth)+"px;";var rect=host.container.getBoundingClientRect(),style=dom.computedStyle(host.container),top=rect.top+(parseInt(style.borderTopWidth)||0),left=rect.left+(parseInt(rect.borderLeftWidth)||0),maxTop=rect.bottom-top-text.clientHeight-2,move=function(e){text.style.left=e.clientX-left-2+"px";text.style.top=_Mathmin(e.clientY-top-2,maxTop)+"px"};move(e);if("mousedown"!=e.type)return;if(host.renderer.$keepTextAreaAtCursor)host.renderer.$keepTextAreaAtCursor=null;clearTimeout(closeTimeout);if(useragent.isWin)event.capture(host.container,move,onContextMenuClose)};this.onContextMenuClose=onContextMenuClose;var closeTimeout;function onContextMenuClose(){clearTimeout(closeTimeout);closeTimeout=setTimeout(function(){if(tempStyle){text.style.cssText=tempStyle;tempStyle=""}if(null==host.renderer.$keepTextAreaAtCursor){host.renderer.$keepTextAreaAtCursor=!0;host.renderer.$moveTextAreaToCursor()}},0)}var onContextMenu=function(e){host.textInput.onContextMenu(e);onContextMenuClose()};event.addListener(text,"mouseup",onContextMenu);event.addListener(text,"mousedown",function(e){e.preventDefault();onContextMenuClose()});event.addListener(host.renderer.scroller,"contextmenu",onContextMenu);event.addListener(text,"contextmenu",onContextMenu)};exports.TextInput=TextInput});ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(require,exports){var useragent=require("../lib/useragent"),SCROLL_COOLDOWN_T=250;function DefaultHandlers(mouseHandler){mouseHandler.$clickSelection=null;var editor=mouseHandler.editor;editor.setDefaultHandler("mousedown",this.onMouseDown.bind(mouseHandler));editor.setDefaultHandler("dblclick",this.onDoubleClick.bind(mouseHandler));editor.setDefaultHandler("tripleclick",this.onTripleClick.bind(mouseHandler));editor.setDefaultHandler("quadclick",this.onQuadClick.bind(mouseHandler));editor.setDefaultHandler("mousewheel",this.onMouseWheel.bind(mouseHandler));editor.setDefaultHandler("touchmove",this.onTouchMove.bind(mouseHandler));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(x){mouseHandler[x]=this[x]},this);mouseHandler.selectByLines=this.extendSelectionBy.bind(mouseHandler,"getLineRange");mouseHandler.selectByWords=this.extendSelectionBy.bind(mouseHandler,"getWordRange")}(function(){this.onMouseDown=function(ev){var inSelection=ev.inSelection(),pos=ev.getDocumentPosition();this.mousedownEvent=ev;var editor=this.editor,button=ev.getButton();if(0!==button){var selectionRange=editor.getSelectionRange(),selectionEmpty=selectionRange.isEmpty();if(selectionEmpty||1==button)editor.selection.moveToPosition(pos);if(2==button){editor.textInput.onContextMenu(ev.domEvent);if(!useragent.isMozilla)ev.preventDefault()}return}this.mousedownEvent.time=Date.now();if(inSelection&&!editor.isFocused()){editor.focus();if(this.$focusTimeout&&!this.$clickSelection&&!editor.inMultiSelectMode){this.setState("focusWait");this.captureMouse(ev);return}}this.captureMouse(ev);this.startSelect(pos,1<ev.domEvent._clicks);return ev.preventDefault()};this.startSelect=function(pos,waitForClickSelection){pos=pos||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var editor=this.editor;if(!this.mousedownEvent)return;if(this.mousedownEvent.getShiftKey())editor.selection.selectToPosition(pos);else if(!waitForClickSelection)editor.selection.moveToPosition(pos);if(!waitForClickSelection)this.select();if(editor.renderer.scroller.setCapture){editor.renderer.scroller.setCapture()}editor.setStyle("ace_selecting");this.setState("select")};this.select=function(){var anchor,editor=this.editor,cursor=editor.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var cmp=this.$clickSelection.comparePoint(cursor);if(-1==cmp){anchor=this.$clickSelection.end}else if(1==cmp){anchor=this.$clickSelection.start}else{var orientedRange=calcRangeOrientation(this.$clickSelection,cursor);cursor=orientedRange.cursor;anchor=orientedRange.anchor}editor.selection.setSelectionAnchor(anchor.row,anchor.column)}editor.selection.selectToPosition(cursor);editor.renderer.scrollCursorIntoView()};this.extendSelectionBy=function(unitName){var anchor,editor=this.editor,cursor=editor.renderer.screenToTextCoordinates(this.x,this.y),range=editor.selection[unitName](cursor.row,cursor.column);if(this.$clickSelection){var cmpStart=this.$clickSelection.comparePoint(range.start),cmpEnd=this.$clickSelection.comparePoint(range.end);if(-1==cmpStart&&0>=cmpEnd){anchor=this.$clickSelection.end;if(range.end.row!=cursor.row||range.end.column!=cursor.column)cursor=range.start}else if(1==cmpEnd&&0<=cmpStart){anchor=this.$clickSelection.start;if(range.start.row!=cursor.row||range.start.column!=cursor.column)cursor=range.end}else if(-1==cmpStart&&1==cmpEnd){cursor=range.end;anchor=range.start}else{var orientedRange=calcRangeOrientation(this.$clickSelection,cursor);cursor=orientedRange.cursor;anchor=orientedRange.anchor}editor.selection.setSelectionAnchor(anchor.row,anchor.column)}editor.selection.selectToPosition(cursor);editor.renderer.scrollCursorIntoView()};this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null;this.editor.unsetStyle("ace_selecting");if(this.editor.renderer.scroller.releaseCapture){this.editor.renderer.scroller.releaseCapture()}};this.focusWait=function(){var distance=calcDistance(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),time=Date.now();if(distance>0||time-this.mousedownEvent.time>this.$focusTimeout)this.startSelect(this.mousedownEvent.getDocumentPosition())};this.onDoubleClick=function(ev){var pos=ev.getDocumentPosition(),editor=this.editor,session=editor.session,range=session.getBracketRange(pos);if(range){if(range.isEmpty()){range.start.column--;range.end.column++}this.setState("select")}else{range=editor.selection.getWordRange(pos.row,pos.column);this.setState("selectByWords")}this.$clickSelection=range;this.select()};this.onTripleClick=function(ev){var pos=ev.getDocumentPosition(),editor=this.editor;this.setState("selectByLines");var range=editor.getSelectionRange();if(range.isMultiLine()&&range.contains(pos.row,pos.column)){this.$clickSelection=editor.selection.getLineRange(range.start.row);this.$clickSelection.end=editor.selection.getLineRange(range.end.row).end}else{this.$clickSelection=editor.selection.getLineRange(pos.row)}this.select()};this.onQuadClick=function(){var editor=this.editor;editor.selectAll();this.$clickSelection=editor.getSelectionRange();this.setState("selectAll")};this.onMouseWheel=function(ev){if(ev.getAccelKey())return;if(ev.getShiftKey()&&ev.wheelY&&!ev.wheelX){ev.wheelX=ev.wheelY;ev.wheelY=0}var editor=this.editor;if(!this.$lastScroll)this.$lastScroll={t:0,vx:0,vy:0,allowed:0};var prevScroll=this.$lastScroll,t=ev.domEvent.timeStamp,dt=t-prevScroll.t,vx=dt?ev.wheelX/dt:prevScroll.vx,vy=dt?ev.wheelY/dt:prevScroll.vy;if(dt<SCROLL_COOLDOWN_T){vx=(vx+prevScroll.vx)/2;vy=(vy+prevScroll.vy)/2}var direction=_Mathabs(vx/vy),canScroll=!1;if(1<=direction&&editor.renderer.isScrollableBy(ev.wheelX*ev.speed,0))canScroll=!0;if(1>=direction&&editor.renderer.isScrollableBy(0,ev.wheelY*ev.speed))canScroll=!0;if(canScroll){prevScroll.allowed=t}else if(t-prevScroll.allowed<SCROLL_COOLDOWN_T){var isSlower=_Mathabs(vx)<=1.1*_Mathabs(prevScroll.vx)&&_Mathabs(vy)<=1.1*_Mathabs(prevScroll.vy);if(isSlower){canScroll=!0;prevScroll.allowed=t}else{prevScroll.allowed=0}}prevScroll.t=t;prevScroll.vx=vx;prevScroll.vy=vy;if(canScroll){editor.renderer.scrollBy(ev.wheelX*ev.speed,ev.wheelY*ev.speed);return ev.stop()}};this.onTouchMove=function(ev){this.editor._emit("mousewheel",ev)}}).call(DefaultHandlers.prototype);exports.DefaultHandlers=DefaultHandlers;function calcDistance(ax,ay,bx,by){return _Mathsqrt(_Mathpow(bx-ax,2)+_Mathpow(by-ay,2))}function calcRangeOrientation(range,cursor){if(range.start.row==range.end.row)var cmp=2*cursor.column-range.start.column-range.end.column;else if(range.start.row==range.end.row-1&&!range.start.column&&!range.end.column)var cmp=cursor.column-4;else var cmp=2*cursor.row-range.start.row-range.end.row;if(0>cmp)return{cursor:range.start,anchor:range.end};else return{cursor:range.end,anchor:range.start}}});ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(require,exports){var oop=require("./lib/oop"),dom=require("./lib/dom");function Tooltip(parentNode){this.isOpen=!1;this.$element=null;this.$parentNode=parentNode}(function(){this.$init=function(){this.$element=dom.createElement("div");this.$element.className="ace_tooltip";this.$element.style.display="none";this.$parentNode.appendChild(this.$element);return this.$element};this.getElement=function(){return this.$element||this.$init()};this.setText=function(text){this.getElement().textContent=text};this.setHtml=function(html){this.getElement().innerHTML=html};this.setPosition=function(x,y){this.getElement().style.left=x+"px";this.getElement().style.top=y+"px"};this.setClassName=function(className){dom.addCssClass(this.getElement(),className)};this.show=function(text,x,y){if(null!=text)this.setText(text);if(null!=x&&null!=y)this.setPosition(x,y);if(!this.isOpen){this.getElement().style.display="block";this.isOpen=!0}};this.hide=function(){if(this.isOpen){this.getElement().style.display="none";this.isOpen=!1}};this.getHeight=function(){return this.getElement().offsetHeight};this.getWidth=function(){return this.getElement().offsetWidth};this.destroy=function(){this.isOpen=!1;if(this.$element&&this.$element.parentNode){this.$element.parentNode.removeChild(this.$element)}}}).call(Tooltip.prototype);exports.Tooltip=Tooltip});ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(require,exports){var dom=require("../lib/dom"),oop=require("../lib/oop"),event=require("../lib/event"),Tooltip=require("../tooltip").Tooltip;function GutterTooltip(parentNode){Tooltip.call(this,parentNode)}oop.inherits(GutterTooltip,Tooltip);(function(){this.setPosition=function(x,y){var windowWidth=window.innerWidth||document.documentElement.clientWidth,windowHeight=window.innerHeight||document.documentElement.clientHeight,width=this.getWidth(),height=this.getHeight();x+=15;y+=15;if(x+width>windowWidth){x-=x+width-windowWidth}if(y+height>windowHeight){y-=20+height}Tooltip.prototype.setPosition.call(this,x,y)}}).call(GutterTooltip.prototype);exports.GutterHandler=function(mouseHandler){var editor=mouseHandler.editor,gutter=editor.renderer.$gutterLayer,tooltip=new GutterTooltip(editor.container);mouseHandler.editor.setDefaultHandler("guttermousedown",function(e){if(!editor.isFocused()||0!=e.getButton())return;var gutterRegion=gutter.getRegion(e);if("foldWidgets"==gutterRegion)return;var row=e.getDocumentPosition().row,selection=editor.session.selection;if(e.getShiftKey())selection.selectTo(row,0);else{if(2==e.domEvent.detail){editor.selectAll();return e.preventDefault()}mouseHandler.$clickSelection=editor.selection.getLineRange(row)}mouseHandler.setState("selectByLines");mouseHandler.captureMouse(e);return e.preventDefault()});var tooltipTimeout,mouseEvent,tooltipAnnotation;function showTooltip(){var row=mouseEvent.getDocumentPosition().row,annotation=gutter.$annotations[row];if(!annotation)return hideTooltip();var maxRow=editor.session.getLength();if(row==maxRow){var screenRow=editor.renderer.pixelToScreenCoordinates(0,mouseEvent.y).row,pos=mouseEvent.$pos;if(screenRow>editor.session.documentToScreenRow(pos.row,pos.column))return hideTooltip()}if(tooltipAnnotation==annotation)return;tooltipAnnotation=annotation.text.join("<br/>");tooltip.setHtml(tooltipAnnotation);tooltip.show();editor._signal("showGutterTooltip",tooltip);editor.on("mousewheel",hideTooltip);if(mouseHandler.$tooltipFollowsMouse){moveTooltip(mouseEvent)}else{var gutterElement=mouseEvent.domEvent.target,rect=gutterElement.getBoundingClientRect(),style=tooltip.getElement().style;style.left=rect.right+"px";style.top=rect.bottom+"px"}}function hideTooltip(){if(tooltipTimeout)tooltipTimeout=clearTimeout(tooltipTimeout);if(tooltipAnnotation){tooltip.hide();tooltipAnnotation=null;editor._signal("hideGutterTooltip",tooltip);editor.removeEventListener("mousewheel",hideTooltip)}}function moveTooltip(e){tooltip.setPosition(e.x,e.y)}mouseHandler.editor.setDefaultHandler("guttermousemove",function(e){var target=e.domEvent.target||e.domEvent.srcElement;if(dom.hasCssClass(target,"ace_fold-widget"))return hideTooltip();if(tooltipAnnotation&&mouseHandler.$tooltipFollowsMouse)moveTooltip(e);mouseEvent=e;if(tooltipTimeout)return;tooltipTimeout=setTimeout(function(){tooltipTimeout=null;if(mouseEvent&&!mouseHandler.isMousePressed)showTooltip();else hideTooltip()},50)});event.addListener(editor.renderer.$gutter,"mouseout",function(){mouseEvent=null;if(!tooltipAnnotation||tooltipTimeout)return;tooltipTimeout=setTimeout(function(){tooltipTimeout=null;hideTooltip()},50)});editor.on("changeSession",hideTooltip)}});ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(require,exports){var event=require("../lib/event"),useragent=require("../lib/useragent"),MouseEvent=exports.MouseEvent=function(domEvent,editor){this.domEvent=domEvent;this.editor=editor;this.x=this.clientX=domEvent.clientX;this.y=this.clientY=domEvent.clientY;this.$pos=null;this.$inSelection=null;this.propagationStopped=!1;this.defaultPrevented=!1};(function(){this.stopPropagation=function(){event.stopPropagation(this.domEvent);this.propagationStopped=!0};this.preventDefault=function(){event.preventDefault(this.domEvent);this.defaultPrevented=!0};this.stop=function(){this.stopPropagation();this.preventDefault()};this.getDocumentPosition=function(){if(this.$pos)return this.$pos;this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY);return this.$pos};this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var editor=this.editor,selectionRange=editor.getSelectionRange();if(selectionRange.isEmpty())this.$inSelection=!1;else{var pos=this.getDocumentPosition();this.$inSelection=selectionRange.contains(pos.row,pos.column)}return this.$inSelection};this.getButton=function(){return event.getButton(this.domEvent)};this.getShiftKey=function(){return this.domEvent.shiftKey};this.getAccelKey=useragent.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(MouseEvent.prototype)});ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(require,exports){var dom=require("../lib/dom"),event=require("../lib/event"),useragent=require("../lib/useragent");function DragdropHandler(mouseHandler){var editor=mouseHandler.editor,blankImage=dom.createElement("img");blankImage.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(useragent.isOpera)blankImage.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;";["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(x){mouseHandler[x]=this[x]},this);editor.addEventListener("mousedown",this.onMouseDown.bind(mouseHandler));var mouseTarget=editor.container,dragSelectionMarker,x,y,timerId,range,dragCursor,counter=0,dragOperation,isInternal,autoScrollStartTime,cursorMovedTime,cursorPointOnCaretMoved;this.onDragStart=function(e){if(this.cancelDrag||!mouseTarget.draggable){var self=this;setTimeout(function(){self.startSelect();self.captureMouse(e)},0);return e.preventDefault()}range=editor.getSelectionRange();var dataTransfer=e.dataTransfer;dataTransfer.effectAllowed=editor.getReadOnly()?"copy":"copyMove";if(useragent.isOpera){editor.container.appendChild(blankImage);blankImage.scrollTop=0}dataTransfer.setDragImage&&dataTransfer.setDragImage(blankImage,0,0);if(useragent.isOpera){editor.container.removeChild(blankImage)}dataTransfer.clearData();dataTransfer.setData("Text",editor.session.getTextRange());isInternal=!0;this.setState("drag")};this.onDragEnd=function(e){mouseTarget.draggable=!1;isInternal=!1;this.setState(null);if(!editor.getReadOnly()){var dropEffect=e.dataTransfer.dropEffect;if(!dragOperation&&"move"==dropEffect)editor.session.remove(editor.getSelectionRange());editor.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("")};this.onDragEnter=function(e){if(editor.getReadOnly()||!canAccept(e.dataTransfer))return;x=e.clientX;y=e.clientY;if(!dragSelectionMarker)addDragMarker();counter++;e.dataTransfer.dropEffect=dragOperation=getDropEffect(e);return event.preventDefault(e)};this.onDragOver=function(e){if(editor.getReadOnly()||!canAccept(e.dataTransfer))return;x=e.clientX;y=e.clientY;if(!dragSelectionMarker){addDragMarker();counter++}if(null!==onMouseMoveTimer)onMouseMoveTimer=null;e.dataTransfer.dropEffect=dragOperation=getDropEffect(e);return event.preventDefault(e)};this.onDragLeave=function(e){counter--;if(0>=counter&&dragSelectionMarker){clearDragMarker();dragOperation=null;return event.preventDefault(e)}};this.onDrop=function(e){if(!dragCursor)return;var dataTransfer=e.dataTransfer;if(isInternal){switch(dragOperation){case"move":if(range.contains(dragCursor.row,dragCursor.column)){range={start:dragCursor,end:dragCursor}}else{range=editor.moveText(range,dragCursor)}break;case"copy":range=editor.moveText(range,dragCursor,!0);break;}}else{var dropData=dataTransfer.getData("Text");range={start:dragCursor,end:editor.session.insert(dragCursor,dropData)};editor.focus();dragOperation=null}clearDragMarker();return event.preventDefault(e)};event.addListener(mouseTarget,"dragstart",this.onDragStart.bind(mouseHandler));event.addListener(mouseTarget,"dragend",this.onDragEnd.bind(mouseHandler));event.addListener(mouseTarget,"dragenter",this.onDragEnter.bind(mouseHandler));event.addListener(mouseTarget,"dragover",this.onDragOver.bind(mouseHandler));event.addListener(mouseTarget,"dragleave",this.onDragLeave.bind(mouseHandler));event.addListener(mouseTarget,"drop",this.onDrop.bind(mouseHandler));function scrollCursorIntoView(cursor,prevCursor){var now=Date.now(),vMovement=!prevCursor||cursor.row!=prevCursor.row,hMovement=!prevCursor||cursor.column!=prevCursor.column;if(!cursorMovedTime||vMovement||hMovement){editor.moveCursorToPosition(cursor);cursorMovedTime=now;cursorPointOnCaretMoved={x:x,y:y}}else{var distance=calcDistance(cursorPointOnCaretMoved.x,cursorPointOnCaretMoved.y,x,y);if(distance>5){cursorMovedTime=null}else if(now-cursorMovedTime>=200){editor.renderer.scrollCursorIntoView();cursorMovedTime=null}}}function autoScroll(cursor,prevCursor){var now=Date.now(),lineHeight=editor.renderer.layerConfig.lineHeight,characterWidth=editor.renderer.layerConfig.characterWidth,editorRect=editor.renderer.scroller.getBoundingClientRect(),offsets={x:{left:x-editorRect.left,right:editorRect.right-x},y:{top:y-editorRect.top,bottom:editorRect.bottom-y}},nearestXOffset=_Mathmin(offsets.x.left,offsets.x.right),nearestYOffset=_Mathmin(offsets.y.top,offsets.y.bottom),scrollCursor={row:cursor.row,column:cursor.column};if(2>=nearestXOffset/characterWidth){scrollCursor.column+=offsets.x.left<offsets.x.right?-3:+2}if(1>=nearestYOffset/lineHeight){scrollCursor.row+=offsets.y.top<offsets.y.bottom?-1:+1}var vScroll=cursor.row!=scrollCursor.row,hScroll=cursor.column!=scrollCursor.column,vMovement=!prevCursor||cursor.row!=prevCursor.row;if(vScroll||hScroll&&!vMovement){if(!autoScrollStartTime)autoScrollStartTime=now;else if(now-autoScrollStartTime>=200)editor.renderer.scrollCursorIntoView(scrollCursor)}else{autoScrollStartTime=null}}function onDragInterval(){var prevCursor=dragCursor;dragCursor=editor.renderer.screenToTextCoordinates(x,y);scrollCursorIntoView(dragCursor,prevCursor);autoScroll(dragCursor,prevCursor)}function addDragMarker(){range=editor.selection.toOrientedRange();dragSelectionMarker=editor.session.addMarker(range,"ace_selection",editor.getSelectionStyle());editor.clearSelection();if(editor.isFocused())editor.renderer.$cursorLayer.setBlinking(!1);clearInterval(timerId);onDragInterval();timerId=setInterval(onDragInterval,20);counter=0;event.addListener(document,"mousemove",onMouseMove)}function clearDragMarker(){clearInterval(timerId);editor.session.removeMarker(dragSelectionMarker);dragSelectionMarker=null;editor.selection.fromOrientedRange(range);if(editor.isFocused()&&!isInternal)editor.renderer.$cursorLayer.setBlinking(!editor.getReadOnly());range=null;dragCursor=null;counter=0;autoScrollStartTime=null;cursorMovedTime=null;event.removeListener(document,"mousemove",onMouseMove)}var onMouseMoveTimer=null;function onMouseMove(){if(null==onMouseMoveTimer){onMouseMoveTimer=setTimeout(function(){if(null!=onMouseMoveTimer&&dragSelectionMarker)clearDragMarker()},20)}}function canAccept(dataTransfer){var types=dataTransfer.types;return!types||Array.prototype.some.call(types,function(type){return"text/plain"==type||"Text"==type})}function getDropEffect(e){var copyAllowed=["copy","copymove","all","uninitialized"],copyModifierState=useragent.isMac?e.altKey:e.ctrlKey,effectAllowed="uninitialized";try{effectAllowed=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var dropEffect="none";if(copyModifierState&&0<=copyAllowed.indexOf(effectAllowed))dropEffect="copy";else if(0<=["move","copymove","linkmove","all","uninitialized"].indexOf(effectAllowed))dropEffect="move";else if(0<=copyAllowed.indexOf(effectAllowed))dropEffect="copy";return dropEffect}}(function(){this.dragWait=function(){var interval=Date.now()-this.mousedownEvent.time;if(interval>this.editor.getDragDelay())this.startDrag()};this.dragWaitEnd=function(){var target=this.editor.container;target.draggable=!1;this.startSelect(this.mousedownEvent.getDocumentPosition());this.selectEnd()};this.dragReadyEnd=function(){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly());this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("");this.dragWaitEnd()};this.startDrag=function(){this.cancelDrag=!1;var editor=this.editor,target=editor.container;target.draggable=!0;editor.renderer.$cursorLayer.setBlinking(!1);editor.setStyle("ace_dragging");var cursorStyle=useragent.isWin?"default":"move";editor.renderer.setCursorStyle(cursorStyle);this.setState("dragReady")};this.onMouseDrag=function(){var target=this.editor.container;if(useragent.isIE&&"dragReady"==this.state){var distance=calcDistance(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);if(3<distance)target.dragDrop()}if("dragWait"===this.state){var distance=calcDistance(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);if(0<distance){target.draggable=!1;this.startSelect(this.mousedownEvent.getDocumentPosition())}}};this.onMouseDown=function(e){if(!this.$dragEnabled)return;this.mousedownEvent=e;var editor=this.editor,inSelection=e.inSelection(),button=e.getButton(),clickCount=e.domEvent.detail||1;if(1===clickCount&&0===button&&inSelection){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var eventTarget=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in eventTarget)eventTarget.unselectable="on";if(editor.getDragDelay()){if(useragent.isWebKit){this.cancelDrag=!0;var mouseTarget=editor.container;mouseTarget.draggable=!0}this.setState("dragWait")}else{this.startDrag()}this.captureMouse(e,this.onMouseDrag.bind(this));e.defaultPrevented=!0}}}).call(DragdropHandler.prototype);function calcDistance(ax,ay,bx,by){return _Mathsqrt(_Mathpow(bx-ax,2)+_Mathpow(by-ay,2))}exports.DragdropHandler=DragdropHandler});ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(require,exports){var dom=require("./dom");exports.get=function(url,callback){var xhr=new XMLHttpRequest;xhr.open("GET",url,!0);xhr.onreadystatechange=function(){if(4===xhr.readyState){callback(xhr.responseText)}};xhr.send(null)};exports.loadScript=function(path,callback){var head=dom.getDocumentHead(),s=document.createElement("script");s.src=path;head.appendChild(s);s.onload=s.onreadystatechange=function(_,isAbort){if(isAbort||!s.readyState||"loaded"==s.readyState||"complete"==s.readyState){s=s.onload=s.onreadystatechange=null;if(!isAbort)callback()}}};exports.qualifyURL=function(url){var a=document.createElement("a");a.href=url;return a.href}});ace.define("ace/lib/event_emitter",["require","exports","module"],function(require,exports){var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={});this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(!listeners.length&&!defaultHandler)return;if("object"!=typeof e||!e)e={};if(!e.type)e.type=eventName;if(!e.stopPropagation)e.stopPropagation=stopPropagation;if(!e.preventDefault)e.preventDefault=preventDefault;listeners=listeners.slice();for(var i=0;i<listeners.length;i++){listeners[i](e,this);if(e.propagationStopped)break}if(defaultHandler&&!e.defaultPrevented)return defaultHandler(e,this)};EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(!listeners)return;listeners=listeners.slice();for(var i=0;i<listeners.length;i++)listeners[i](e,this)};EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback);callback.apply(null,arguments)})};EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(!handlers)handlers=this._defaultHandlers={_disabled_:{}};if(handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];if(!disabled)handlers._disabled_[eventName]=disabled=[];disabled.push(old);var i=disabled.indexOf(callback);if(-1!=i)disabled.splice(i,1)}handlers[eventName]=callback};EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(!handlers)return;var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback){if(disabled)this.setDefaultHandler(eventName,disabled.pop())}else if(disabled){var i=disabled.indexOf(callback);if(-1!=i)disabled.splice(i,1)}};EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(!listeners)listeners=this._eventRegistry[eventName]=[];if(-1==listeners.indexOf(callback))listeners[capturing?"unshift":"push"](callback);return callback};EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(!listeners)return;var index=listeners.indexOf(callback);if(-1!==index)listeners.splice(index,1)};EventEmitter.removeAllListeners=function(eventName){if(this._eventRegistry)this._eventRegistry[eventName]=[]};exports.EventEmitter=EventEmitter});ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(require,exports){"no use strict";var oop=require("./oop"),EventEmitter=require("./event_emitter").EventEmitter,optionsProvider={setOptions:function(optList){Object.keys(optList).forEach(function(key){this.setOption(key,optList[key])},this)},getOptions:function(optionNames){var result={};if(!optionNames){var options=this.$options;optionNames=Object.keys(options).filter(function(key){return!options[key].hidden})}else if(!Array.isArray(optionNames)){result=optionNames;optionNames=Object.keys(result)}optionNames.forEach(function(key){result[key]=this.getOption(key)},this);return result},setOption:function(name,value){if(this["$"+name]===value)return;var opt=this.$options[name];if(!opt){return warn("misspelled option \""+name+"\"")}if(opt.forwardTo)return this[opt.forwardTo]&&this[opt.forwardTo].setOption(name,value);if(!opt.handlesSet)this["$"+name]=value;if(opt&&opt.set)opt.set.call(this,value)},getOption:function(name){var opt=this.$options[name];if(!opt){return warn("misspelled option \""+name+"\"")}if(opt.forwardTo)return this[opt.forwardTo]&&this[opt.forwardTo].getOption(name);return opt&&opt.get?opt.get.call(this):this["$"+name]}};function warn(){if("undefined"!=typeof console&&console.warn)console.warn.apply(console,arguments)}function reportError(msg,data){var e=new Error(msg);e.data=data;if("object"==typeof console&&console.error)console.error(e);setTimeout(function(){throw e})}var AppConfig=function(){this.$defaultOptions={}};(function(){oop.implement(this,EventEmitter);this.defineOptions=function(obj,path,options){if(!obj.$options)this.$defaultOptions[path]=obj.$options={};Object.keys(options).forEach(function(key){var opt=options[key];if("string"==typeof opt)opt={forwardTo:opt};opt.name||(opt.name=key);obj.$options[opt.name]=opt;if("initialValue"in opt)obj["$"+opt.name]=opt.initialValue});oop.implement(obj,optionsProvider);return this};this.resetOptions=function(obj){Object.keys(obj.$options).forEach(function(key){var opt=obj.$options[key];if("value"in opt)obj.setOption(key,opt.value)})};this.setDefaultValue=function(path,name,value){var opts=this.$defaultOptions[path]||(this.$defaultOptions[path]={});if(opts[name]){if(opts.forwardTo)this.setDefaultValue(opts.forwardTo,name,value);else opts[name].value=value}};this.setDefaultValues=function(path,optionHash){Object.keys(optionHash).forEach(function(key){this.setDefaultValue(path,key,optionHash[key])},this)};this.warn=warn;this.reportError=reportError}).call(AppConfig.prototype);exports.AppConfig=AppConfig});ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(require,exports,module){"no use strict";var lang=require("./lib/lang"),oop=require("./lib/oop"),net=require("./lib/net"),AppConfig=require("./lib/app_config").AppConfig;module.exports=exports=new AppConfig;var global=function(){return this||"undefined"!=typeof window&&window}(),options={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};exports.get=function(key){if(!options.hasOwnProperty(key))throw new Error("Unknown config key: "+key);return options[key]};exports.set=function(key,value){if(!options.hasOwnProperty(key))throw new Error("Unknown config key: "+key);options[key]=value};exports.all=function(){return lang.copyObject(options)};exports.$modes={};exports.moduleUrl=function(name,component){if(options.$moduleUrls[name])return options.$moduleUrls[name];var parts=name.split("/");component=component||parts[parts.length-2]||"";var sep="snippets"==component?"/":"-",base=parts[parts.length-1];if("worker"==component&&"-"==sep){var re=new RegExp("^"+component+"[\\-_]|[\\-_]"+component+"$","g");base=base.replace(re,"")}if((!base||base==component)&&1<parts.length)base=parts[parts.length-2];var path=options[component+"Path"];if(null==path){path=options.basePath}else if("/"==sep){component=sep=""}if(path&&"/"!=path.slice(-1))path+="/";return path+component+sep+base+this.get("suffix")};exports.setModuleUrl=function(name,subst){return options.$moduleUrls[name]=subst};exports.$loading={};exports.loadModule=function(moduleName,onLoad){var module,moduleType;if(Array.isArray(moduleName)){moduleType=moduleName[0];moduleName=moduleName[1]}try{module=require(moduleName)}catch(e){}if(module&&!exports.$loading[moduleName])return onLoad&&onLoad(module);if(!exports.$loading[moduleName])exports.$loading[moduleName]=[];exports.$loading[moduleName].push(onLoad);if(1<exports.$loading[moduleName].length)return;var afterLoad=function(){require([moduleName],function(module){exports._emit("load.module",{name:moduleName,module:module});var listeners=exports.$loading[moduleName];exports.$loading[moduleName]=null;listeners.forEach(function(onLoad){onLoad&&onLoad(module)})})};if(!exports.get("packaged"))return afterLoad();net.loadScript(exports.moduleUrl(moduleName,moduleType),afterLoad);reportErrorIfPathIsNotConfigured()};var reportErrorIfPathIsNotConfigured=function(){if(!options.basePath&&!options.workerPath&&!options.modePath&&!options.themePath&&!Object.keys(options.$moduleUrls).length){console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver");reportErrorIfPathIsNotConfigured=function(){}}};init(!0);function init(packaged){if(!global||!global.document)return;options.packaged=packaged||require.packaged||module.packaged||global.define&&define.packaged;for(var scriptOptions={},scriptUrl="",currentScript=document.currentScript||document._currentScript,currentDocument=currentScript&&currentScript.ownerDocument||document,scripts=currentDocument.getElementsByTagName("script"),i=0;i<scripts.length;i++){var script=scripts[i],src=script.src||script.getAttribute("src");if(!src)continue;for(var attributes=script.attributes,j=0,l=attributes.length,attr;j<l;j++){attr=attributes[j];if(0===attr.name.indexOf("data-ace-")){scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/,""))]=attr.value}}var m=src.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);if(m)scriptUrl=m[1]}if(scriptUrl){scriptOptions.base=scriptOptions.base||scriptUrl;scriptOptions.packaged=!0}scriptOptions.basePath=scriptOptions.base;scriptOptions.workerPath=scriptOptions.workerPath||scriptOptions.base;scriptOptions.modePath=scriptOptions.modePath||scriptOptions.base;scriptOptions.themePath=scriptOptions.themePath||scriptOptions.base;delete scriptOptions.base;for(var key in scriptOptions)if("undefined"!==typeof scriptOptions[key])exports.set(key,scriptOptions[key])}exports.init=init;function deHyphenate(str){return str.replace(/-(.)/g,function(m,m1){return m1.toUpperCase()})}});ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(require,exports){var event=require("../lib/event"),useragent=require("../lib/useragent"),DefaultHandlers=require("./default_handlers").DefaultHandlers,DefaultGutterHandler=require("./default_gutter_handler").GutterHandler,MouseEvent=require("./mouse_event").MouseEvent,DragdropHandler=require("./dragdrop_handler").DragdropHandler,config=require("../config"),MouseHandler=function(editor){var _self=this;this.editor=editor;new DefaultHandlers(this);new DefaultGutterHandler(this);new DragdropHandler(this);var focusEditor=function(){var windowBlurred=!document.hasFocus||!document.hasFocus()||!editor.isFocused()&&document.activeElement==(editor.textInput&&editor.textInput.getElement());if(windowBlurred)window.focus();editor.focus()},mouseTarget=editor.renderer.getMouseEventTarget();event.addListener(mouseTarget,"click",this.onMouseEvent.bind(this,"click"));event.addListener(mouseTarget,"mousemove",this.onMouseMove.bind(this,"mousemove"));event.addMultiMouseDownListener([mouseTarget,editor.renderer.scrollBarV&&editor.renderer.scrollBarV.inner,editor.renderer.scrollBarH&&editor.renderer.scrollBarH.inner,editor.textInput&&editor.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent");event.addMouseWheelListener(editor.container,this.onMouseWheel.bind(this,"mousewheel"));event.addTouchMoveListener(editor.container,this.onTouchMove.bind(this,"touchmove"));var gutterEl=editor.renderer.$gutter;event.addListener(gutterEl,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"));event.addListener(gutterEl,"click",this.onMouseEvent.bind(this,"gutterclick"));event.addListener(gutterEl,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"));event.addListener(gutterEl,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"));event.addListener(mouseTarget,"mousedown",focusEditor);event.addListener(gutterEl,"mousedown",focusEditor);if(useragent.isIE&&editor.renderer.scrollBarV){event.addListener(editor.renderer.scrollBarV.element,"mousedown",focusEditor);event.addListener(editor.renderer.scrollBarH.element,"mousedown",focusEditor)}editor.on("mousemove",function(e){if(_self.state||_self.$dragDelay||!_self.$dragEnabled)return;var character=editor.renderer.screenToTextCoordinates(e.x,e.y),range=editor.session.selection.getRange(),renderer=editor.renderer;if(!range.isEmpty()&&range.insideStart(character.row,character.column)){renderer.setCursorStyle("default")}else{renderer.setCursorStyle("")}})};(function(){this.onMouseEvent=function(name,e){this.editor._emit(name,new MouseEvent(e,this.editor))};this.onMouseMove=function(name,e){var listeners=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;if(!listeners||!listeners.length)return;this.editor._emit(name,new MouseEvent(e,this.editor))};this.onMouseWheel=function(name,e){var mouseEvent=new MouseEvent(e,this.editor);mouseEvent.speed=2*this.$scrollSpeed;mouseEvent.wheelX=e.wheelX;mouseEvent.wheelY=e.wheelY;this.editor._emit(name,mouseEvent)};this.onTouchMove=function(name,e){var mouseEvent=new MouseEvent(e,this.editor);mouseEvent.speed=1;mouseEvent.wheelX=e.wheelX;mouseEvent.wheelY=e.wheelY;this.editor._emit(name,mouseEvent)};this.setState=function(state){this.state=state};this.captureMouse=function(ev,mouseMoveHandler){this.x=ev.x;this.y=ev.y;this.isMousePressed=!0;var editor=this.editor,renderer=this.editor.renderer;if(renderer.$keepTextAreaAtCursor)renderer.$keepTextAreaAtCursor=null;var self=this,onMouseMove=function(e){if(!e)return;if(useragent.isWebKit&&!e.which&&self.releaseMouse)return self.releaseMouse();self.x=e.clientX;self.y=e.clientY;mouseMoveHandler&&mouseMoveHandler(e);self.mouseEvent=new MouseEvent(e,self.editor);self.$mouseMoved=!0},onCaptureEnd=function(e){editor.off("beforeEndOperation",onOperationEnd);clearInterval(timerId);onCaptureInterval();self[self.state+"End"]&&self[self.state+"End"](e);self.state="";if(null==renderer.$keepTextAreaAtCursor){renderer.$keepTextAreaAtCursor=!0;renderer.$moveTextAreaToCursor()}self.isMousePressed=!1;self.$onCaptureMouseMove=self.releaseMouse=null;e&&self.onMouseEvent("mouseup",e);editor.endOperation()},onCaptureInterval=function(){self[self.state]&&self[self.state]();self.$mouseMoved=!1};if(useragent.isOldIE&&"dblclick"==ev.domEvent.type){return setTimeout(function(){onCaptureEnd(ev)})}var onOperationEnd=function(){if(!self.releaseMouse)return;if(editor.curOp.command.name&&editor.curOp.selectionChanged){self[self.state+"End"]&&self[self.state+"End"]();self.state="";self.releaseMouse()}};editor.on("beforeEndOperation",onOperationEnd);editor.startOperation({command:{name:"mouse"}});self.$onCaptureMouseMove=onMouseMove;self.releaseMouse=event.capture(this.editor.container,onMouseMove,onCaptureEnd);var timerId=setInterval(onCaptureInterval,20)};this.releaseMouse=null;this.cancelContextMenu=function(){var stop=function(e){if(e&&e.domEvent&&"contextmenu"!=e.domEvent.type)return;this.editor.off("nativecontextmenu",stop);if(e&&e.domEvent)event.stopEvent(e.domEvent)}.bind(this);setTimeout(stop,10);this.editor.on("nativecontextmenu",stop)}}).call(MouseHandler.prototype);config.defineOptions(MouseHandler.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:useragent.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}});exports.MouseHandler=MouseHandler});ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(require,exports){var dom=require("../lib/dom");exports.FoldHandler=function(editor){editor.on("click",function(e){var position=e.getDocumentPosition(),session=editor.session,fold=session.getFoldAt(position.row,position.column,1);if(fold){if(e.getAccelKey())session.removeFold(fold);else session.expandFold(fold);e.stop()}var target=e.domEvent&&e.domEvent.target;if(target&&dom.hasCssClass(target,"ace_inline_button")){if(dom.hasCssClass(target,"ace_toggle_wrap")){session.setOption("wrap",!0);editor.renderer.scrollCursorIntoView()}}});editor.on("gutterclick",function(e){var gutterRegion=editor.renderer.$gutterLayer.getRegion(e);if("foldWidgets"==gutterRegion){var row=e.getDocumentPosition().row,session=editor.session;if(session.foldWidgets&&session.foldWidgets[row])editor.session.onFoldWidgetClick(row,e);if(!editor.isFocused())editor.focus();e.stop()}});editor.on("gutterdblclick",function(e){var gutterRegion=editor.renderer.$gutterLayer.getRegion(e);if("foldWidgets"==gutterRegion){var row=e.getDocumentPosition().row,session=editor.session,data=session.getParentFoldRangeData(row,!0),range=data.range||data.firstRange;if(range){row=range.start.row;var fold=session.getFoldAt(row,session.getLine(row).length,1);if(fold){session.removeFold(fold)}else{session.addFold("...",range);editor.renderer.scrollCursorIntoView({row:range.start.row,column:0})}}e.stop()}})}});ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(require,exports){var keyUtil=require("../lib/keys"),event=require("../lib/event"),KeyBinding=function(editor){this.$editor=editor;this.$data={editor:editor};this.$handlers=[];this.setDefaultHandler(editor.commands)};(function(){this.setDefaultHandler=function(kb){this.removeKeyboardHandler(this.$defaultHandler);this.$defaultHandler=kb;this.addKeyboardHandler(kb,0)};this.setKeyboardHandler=function(kb){var h=this.$handlers;if(h[h.length-1]==kb)return;while(h[h.length-1]&&h[h.length-1]!=this.$defaultHandler)this.removeKeyboardHandler(h[h.length-1]);this.addKeyboardHandler(kb,1)};this.addKeyboardHandler=function(kb,pos){if(!kb)return;if("function"==typeof kb&&!kb.handleKeyboard)kb.handleKeyboard=kb;var i=this.$handlers.indexOf(kb);if(-1!=i)this.$handlers.splice(i,1);if(pos==void 0)this.$handlers.push(kb);else this.$handlers.splice(pos,0,kb);if(-1==i&&kb.attach)kb.attach(this.$editor)};this.removeKeyboardHandler=function(kb){var i=this.$handlers.indexOf(kb);if(-1==i)return!1;this.$handlers.splice(i,1);kb.detach&&kb.detach(this.$editor);return!0};this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]};this.getStatusText=function(){var data=this.$data,editor=data.editor;return this.$handlers.map(function(h){return h.getStatusText&&h.getStatusText(editor,data)||""}).filter(Boolean).join(" ")};this.$callKeyboardHandlers=function(hashId,keyString,keyCode,e){for(var toExecute,success=!1,commands=this.$editor.commands,i=this.$handlers.length;i--;){toExecute=this.$handlers[i].handleKeyboard(this.$data,hashId,keyString,keyCode,e);if(!toExecute||!toExecute.command)continue;if("null"==toExecute.command){success=!0}else{success=commands.exec(toExecute.command,this.$editor,toExecute.args,e)}if(success&&e&&-1!=hashId&&!0!=toExecute.passEvent&&!0!=toExecute.command.passEvent){event.stopEvent(e)}if(success)break}if(!success&&-1==hashId){toExecute={command:"insertstring"};success=commands.exec("insertstring",this.$editor,keyString)}if(success&&this.$editor._signal)this.$editor._signal("keyboardActivity",toExecute);return success};this.onCommandKey=function(e,hashId,keyCode){var keyString=keyUtil.keyCodeToString(keyCode);this.$callKeyboardHandlers(hashId,keyString,keyCode,e)};this.onTextInput=function(text){this.$callKeyboardHandlers(-1,text)}}).call(KeyBinding.prototype);exports.KeyBinding=KeyBinding});ace.define("ace/lib/bidiutil",["require","exports","module"],function(require,exports){var dir=0,hiLevel=0,lastArabic=!1,hasUBAT_B=!1,hasUBAT_S=!1,impTab_LTR=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],impTab_RTL=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],RTL=1,L=0,R=1,EN=2,AN=3,ON=4,B=5,S=6,AL=7,WS=8,CS=9,ES=10,ET=11,NSM=12,LRE=13,RLE=14,PDF=15,LRO=16,RLO=17,BN=18,UnicodeTBL00=[BN,BN,BN,BN,BN,BN,BN,BN,BN,S,B,S,WS,B,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,B,B,B,S,WS,ON,ON,ET,ET,ET,ON,ON,ON,ON,ON,ES,CS,ES,CS,CS,EN,EN,EN,EN,EN,EN,EN,EN,EN,EN,CS,ON,ON,ON,ON,ON,ON,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,ON,ON,ON,ON,ON,ON,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,ON,ON,ON,ON,BN,BN,BN,BN,BN,BN,B,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,CS,ON,ET,ET,ET,ET,ON,ON,ON,ON,L,ON,ON,BN,ON,ON,ET,ET,EN,EN,ON,L,ON,ON,ON,EN,L,ON,ON,ON,ON,ON],UnicodeTBL20=[WS,WS,WS,WS,WS,WS,WS,WS,WS,WS,WS,BN,BN,BN,L,R,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,WS,B,LRE,RLE,PDF,LRO,RLO,CS,ET,ET,ET,ET,ET,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,CS,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,WS];function _computeLevels(chars,levels,len,charTypes){var impTab=dir?impTab_RTL:impTab_LTR,prevState=null,newClass=null,newLevel=null,newState=0,action=null,cond=null,condPos=-1,i=null,ix=null,classes=[];if(!charTypes){for(i=0,charTypes=[];i<len;i++){charTypes[i]=_getCharacterType(chars[i])}}hiLevel=dir;lastArabic=!1;hasUBAT_B=!1;hasUBAT_S=!1;for(ix=0;ix<len;ix++){prevState=newState;classes[ix]=newClass=_getCharClass(chars,charTypes,classes,ix);newState=impTab[prevState][newClass];action=240&newState;newState&=15;levels[ix]=newLevel=impTab[newState][5];if(0<action){if(16==action){for(i=condPos;i<ix;i++){levels[i]=1}condPos=-1}else{condPos=-1}}cond=impTab[newState][6];if(cond){if(-1==condPos){condPos=ix}}else{if(-1<condPos){for(i=condPos;i<ix;i++){levels[i]=newLevel}condPos=-1}}if(charTypes[ix]==B){levels[ix]=0}hiLevel|=newLevel}if(hasUBAT_S){for(i=0;i<len;i++){if(charTypes[i]==S){levels[i]=dir;for(var j=i-1;0<=j;j--){if(charTypes[j]==WS){levels[j]=dir}else{break}}}}}}function _invertLevel(lev,levels,_array){if(hiLevel<lev){return}if(1==lev&&dir==RTL&&!hasUBAT_B){_array.reverse();return}var len=_array.length,start=0,end,lo,hi,tmp;while(start<len){if(levels[start]>=lev){end=start+1;while(end<len&&levels[end]>=lev){end++}for(lo=start,hi=end-1;lo<hi;lo++,hi--){tmp=_array[lo];_array[lo]=_array[hi];_array[hi]=tmp}start=end}start++}}function _getCharClass(chars,types,classes,ix){var cType=types[ix],wType,nType,len,i;switch(cType){case L:case R:lastArabic=!1;case ON:case AN:return cType;case EN:return lastArabic?AN:EN;case AL:lastArabic=!0;return R;case WS:return ON;case CS:if(1>ix||ix+1>=types.length||(wType=classes[ix-1])!=EN&&wType!=AN||(nType=types[ix+1])!=EN&&nType!=AN){return ON}if(lastArabic){nType=AN}return nType==wType?nType:ON;case ES:wType=0<ix?classes[ix-1]:B;if(wType==EN&&ix+1<types.length&&types[ix+1]==EN){return EN}return ON;case ET:if(0<ix&&classes[ix-1]==EN){return EN}if(lastArabic){return ON}i=ix+1;len=types.length;while(i<len&&types[i]==ET){i++}if(i<len&&types[i]==EN){return EN}return ON;case NSM:len=types.length;i=ix+1;while(i<len&&types[i]==NSM){i++}if(i<len){var c=chars[ix];wType=types[i];if((1425<=c&&2303>=c||64286==c)&&(wType==R||wType==AL)){return R}}if(1>ix||(wType=types[ix-1])==B){return ON}return classes[ix-1];case B:lastArabic=!1;hasUBAT_B=!0;return dir;case S:hasUBAT_S=!0;return ON;case LRE:case RLE:case LRO:case RLO:case PDF:lastArabic=!1;case BN:return ON;}}function _getCharacterType(ch){var uc=ch.charCodeAt(0),hi=uc>>8;if(0==hi){return 191<uc?L:UnicodeTBL00[uc]}else if(5==hi){return /[\u0591-\u05f4]/.test(ch)?R:L}else if(6==hi){if(/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(ch))return NSM;else if(/[\u0660-\u0669\u066b-\u066c]/.test(ch))return AN;else if(1642==uc)return ET;else if(/[\u06f0-\u06f9]/.test(ch))return EN;else return AL}else if(32==hi&&8287>=uc){return UnicodeTBL20[255&uc]}else if(254==hi){return 65136<=uc?AL:ON}return ON}exports.L=L;exports.R=R;exports.EN=EN;exports.ON_R=3;exports.AN=4;exports.R_H=5;exports.B=6;exports.RLE=7;exports.DOT="\xB7";exports.doBidiReorder=function(text,textCharTypes,isRtl){if(2>text.length)return{};var chars=text.split(""),logicalFromVisual=Array(chars.length),bidiLevels=Array(chars.length),levels=[];dir=isRtl?RTL:0;_computeLevels(chars,levels,chars.length,textCharTypes);for(var i=0;i<logicalFromVisual.length;logicalFromVisual[i]=i,i++);_invertLevel(2,levels,logicalFromVisual);_invertLevel(1,levels,logicalFromVisual);for(var i=0;i<logicalFromVisual.length-1;i++){if(textCharTypes[i]===AN){levels[i]=exports.AN}else if(levels[i]===R&&(textCharTypes[i]>AL&&textCharTypes[i]<LRE||textCharTypes[i]===ON||textCharTypes[i]===BN)){levels[i]=exports.ON_R}else if(0<i&&"\u0644"===chars[i-1]&&/\u0622|\u0623|\u0625|\u0627/.test(chars[i])){levels[i-1]=levels[i]=exports.R_H;i++}}if(chars[chars.length-1]===exports.DOT)levels[chars.length-1]=exports.B;if("\u202B"===chars[0])levels[0]=exports.RLE;for(var i=0;i<logicalFromVisual.length;i++){bidiLevels[i]=levels[logicalFromVisual[i]]}return{logicalFromVisual:logicalFromVisual,bidiLevels:bidiLevels}};exports.hasBidiCharacters=function(text,textCharTypes){for(var ret=!1,i=0;i<text.length;i++){textCharTypes[i]=_getCharacterType(text.charAt(i));if(!ret&&(textCharTypes[i]==R||textCharTypes[i]==AL||textCharTypes[i]==AN))ret=!0}return ret};exports.getVisualFromLogicalIdx=function(logIdx,rowMap){for(var i=0;i<rowMap.logicalFromVisual.length;i++){if(rowMap.logicalFromVisual[i]==logIdx)return i}return 0}});ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(require,exports){var bidiUtil=require("./lib/bidiutil"),lang=require("./lib/lang"),bidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,BidiHandler=function(session){this.session=session;this.bidiMap={};this.currentRow=null;this.bidiUtil=bidiUtil;this.charWidths=[];this.EOL="\xAC";this.showInvisibles=!0;this.isRtlDir=!1;this.line="";this.wrapIndent=0;this.EOF="\xB6";this.RLE="\u202B";this.contentWidth=0;this.fontMetrics=null;this.rtlLineOffset=0;this.wrapOffset=0;this.isMoveLeftOperation=!1;this.seenBidi=bidiRE.test(session.getValue())};(function(){this.isBidiRow=function(screenRow,docRow,splitIndex){if(!this.seenBidi)return!1;if(screenRow!==this.currentRow){this.currentRow=screenRow;this.updateRowLine(docRow,splitIndex);this.updateBidiMap()}return this.bidiMap.bidiLevels};this.onChange=function(delta){if(!this.seenBidi){if("insert"==delta.action&&bidiRE.test(delta.lines.join("\n"))){this.seenBidi=!0;this.currentRow=null}}else{this.currentRow=null}};this.getDocumentRow=function(){var docRow=0,rowCache=this.session.$screenRowCache;if(rowCache.length){var index=this.session.$getRowCacheIndex(rowCache,this.currentRow);if(0<=index)docRow=this.session.$docRowCache[index]}return docRow};this.getSplitIndex=function(){var splitIndex=0,rowCache=this.session.$screenRowCache;if(rowCache.length){var currentIndex,prevIndex=this.session.$getRowCacheIndex(rowCache,this.currentRow);while(0<this.currentRow-splitIndex){currentIndex=this.session.$getRowCacheIndex(rowCache,this.currentRow-splitIndex-1);if(currentIndex!==prevIndex)break;prevIndex=currentIndex;splitIndex++}}else{splitIndex=this.currentRow}return splitIndex};this.updateRowLine=function(docRow,splitIndex){if(docRow===void 0)docRow=this.getDocumentRow();var isLastRow=docRow===this.session.getLength()-1,endOfLine=isLastRow?this.EOF:this.EOL;this.wrapIndent=0;this.line=this.session.getLine(docRow);this.isRtlDir=this.line.charAt(0)===this.RLE;if(this.session.$useWrapMode){var splits=this.session.$wrapData[docRow];if(splits){if(splitIndex===void 0)splitIndex=this.getSplitIndex();if(0<splitIndex&&splits.length){this.wrapIndent=splits.indent;this.wrapOffset=this.wrapIndent*this.charWidths[bidiUtil.L];this.line=splitIndex<splits.length?this.line.substring(splits[splitIndex-1],splits[splitIndex]):this.line.substring(splits[splits.length-1])}else{this.line=this.line.substring(0,splits[splitIndex])}}if(splitIndex==splits.length)this.line+=this.showInvisibles?endOfLine:bidiUtil.DOT}else{this.line+=this.showInvisibles?endOfLine:bidiUtil.DOT}var session=this.session,shift=0,size;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(ch,i){if("\t"===ch||session.isFullWidth(ch.charCodeAt(0))){size="\t"===ch?session.getScreenTabSize(i+shift):2;shift+=size-1;return lang.stringRepeat(bidiUtil.DOT,size)}return ch});if(this.isRtlDir){this.fontMetrics.$main.innerHTML=this.line.charAt(this.line.length-1)==bidiUtil.DOT?this.line.substr(0,this.line.length-1):this.line;this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width}};this.updateBidiMap=function(){var textCharTypes=[];if(bidiUtil.hasBidiCharacters(this.line,textCharTypes)||this.isRtlDir){this.bidiMap=bidiUtil.doBidiReorder(this.line,textCharTypes,this.isRtlDir)}else{this.bidiMap={}}};this.markAsDirty=function(){this.currentRow=null};this.updateCharacterWidths=function(fontMetrics){if(this.characterWidth===fontMetrics.$characterSize.width)return;this.fontMetrics=fontMetrics;var characterWidth=this.characterWidth=fontMetrics.$characterSize.width,bidiCharWidth=fontMetrics.$measureCharWidth("\u05D4");this.charWidths[bidiUtil.L]=this.charWidths[bidiUtil.EN]=this.charWidths[bidiUtil.ON_R]=characterWidth;this.charWidths[bidiUtil.R]=this.charWidths[bidiUtil.AN]=bidiCharWidth;this.charWidths[bidiUtil.R_H]=.45*bidiCharWidth;this.charWidths[bidiUtil.B]=this.charWidths[bidiUtil.RLE]=0;this.currentRow=null};this.setShowInvisibles=function(showInvisibles){this.showInvisibles=showInvisibles;this.currentRow=null};this.setEolChar=function(eolChar){this.EOL=eolChar};this.setContentWidth=function(width){this.contentWidth=width};this.isRtlLine=function(row){if(row!=void 0)return this.session.getLine(row).charAt(0)==this.RLE;else return this.isRtlDir};this.setRtlDirection=function(editor,isRtlDir){for(var cursor=editor.getCursorPosition(),row=editor.selection.getSelectionAnchor().row;row<=cursor.row;row++){if(!isRtlDir&&editor.session.getLine(row).charAt(0)===editor.session.$bidiHandler.RLE)editor.session.doc.removeInLine(row,0,1);else if(isRtlDir&&editor.session.getLine(row).charAt(0)!==editor.session.$bidiHandler.RLE)editor.session.doc.insert({column:0,row:row},editor.session.$bidiHandler.RLE)}};this.getPosLeft=function(col){col-=this.wrapIndent;var leftBoundary=this.line.charAt(0)===this.RLE?1:0,logicalIdx=col>leftBoundary?this.session.getOverwrite()?col:col-1:leftBoundary,visualIdx=bidiUtil.getVisualFromLogicalIdx(logicalIdx,this.bidiMap),levels=this.bidiMap.bidiLevels,left=0;if(!this.session.getOverwrite()&&col<=leftBoundary&&0!==levels[visualIdx]%2)visualIdx++;for(var i=0;i<visualIdx;i++){left+=this.charWidths[levels[i]]}if(!this.session.getOverwrite()&&col>leftBoundary&&0===levels[visualIdx]%2)left+=this.charWidths[levels[visualIdx]];if(this.wrapIndent)left+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset;if(this.isRtlDir)left+=this.rtlLineOffset;return left};this.getSelections=function(startCol,endCol){var map=this.bidiMap,levels=map.bidiLevels,level,selections=[],offset=0,selColMin=_Mathmin(startCol,endCol)-this.wrapIndent,selColMax=_Mathmax(startCol,endCol)-this.wrapIndent,isSelected=!1,isSelectedPrev=!1,selectionStart=0;if(this.wrapIndent)offset+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset;for(var logIdx,visIdx=0;visIdx<levels.length;visIdx++){logIdx=map.logicalFromVisual[visIdx];level=levels[visIdx];isSelected=logIdx>=selColMin&&logIdx<selColMax;if(isSelected&&!isSelectedPrev){selectionStart=offset}else if(!isSelected&&isSelectedPrev){selections.push({left:selectionStart,width:offset-selectionStart})}offset+=this.charWidths[level];isSelectedPrev=isSelected}if(isSelected&&visIdx===levels.length){selections.push({left:selectionStart,width:offset-selectionStart})}if(this.isRtlDir){for(var i=0;i<selections.length;i++){selections[i].left+=this.rtlLineOffset}}return selections};this.offsetToCol=function(posX){if(this.isRtlDir)posX-=this.rtlLineOffset;var logicalIdx=0,posX=_Mathmax(posX,0),offset=0,visualIdx=0,levels=this.bidiMap.bidiLevels,charWidth=this.charWidths[levels[visualIdx]];if(this.wrapIndent)posX-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset;while(posX>offset+charWidth/2){offset+=charWidth;if(visualIdx===levels.length-1){charWidth=0;break}charWidth=this.charWidths[levels[++visualIdx]]}if(0<visualIdx&&0!==levels[visualIdx-1]%2&&0===levels[visualIdx]%2){if(posX<offset)visualIdx--;logicalIdx=this.bidiMap.logicalFromVisual[visualIdx]}else if(0<visualIdx&&0===levels[visualIdx-1]%2&&0!==levels[visualIdx]%2){logicalIdx=1+(posX>offset?this.bidiMap.logicalFromVisual[visualIdx]:this.bidiMap.logicalFromVisual[visualIdx-1])}else if(this.isRtlDir&&visualIdx===levels.length-1&&0===charWidth&&0===levels[visualIdx-1]%2||!this.isRtlDir&&0===visualIdx&&0!==levels[visualIdx]%2){logicalIdx=1+this.bidiMap.logicalFromVisual[visualIdx]}else{if(0<visualIdx&&0!==levels[visualIdx-1]%2&&0!==charWidth)visualIdx--;logicalIdx=this.bidiMap.logicalFromVisual[visualIdx]}if(0===logicalIdx&&this.isRtlDir)logicalIdx++;return logicalIdx+this.wrapIndent}}).call(BidiHandler.prototype);exports.BidiHandler=BidiHandler});ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(require,exports){var oop=require("./lib/oop"),lang=require("./lib/lang"),EventEmitter=require("./lib/event_emitter").EventEmitter,Range=require("./range").Range,Selection=function(session){this.session=session;this.doc=session.getDocument();this.clearSelection();this.cursor=this.lead=this.doc.createAnchor(0,0);this.anchor=this.doc.createAnchor(0,0);this.$silent=!1;var self=this;this.cursor.on("change",function(e){self.$cursorChanged=!0;if(!self.$silent)self._emit("changeCursor");if(!self.$isEmpty&&!self.$silent)self._emit("changeSelection");if(!self.$keepDesiredColumnOnChange&&e.old.column!=e.value.column)self.$desiredColumn=null});this.anchor.on("change",function(){self.$anchorChanged=!0;if(!self.$isEmpty&&!self.$silent)self._emit("changeSelection")})};(function(){oop.implement(this,EventEmitter);this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column};this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row};this.getCursor=function(){return this.lead.getPosition()};this.setSelectionAnchor=function(row,column){this.$isEmpty=!1;this.anchor.setPosition(row,column)};this.getAnchor=this.getSelectionAnchor=function(){if(this.$isEmpty)return this.getSelectionLead();return this.anchor.getPosition()};this.getSelectionLead=function(){return this.lead.getPosition()};this.isBackwards=function(){var anchor=this.anchor,lead=this.lead;return anchor.row>lead.row||anchor.row==lead.row&&anchor.column>lead.column};this.getRange=function(){var anchor=this.anchor,lead=this.lead;if(this.$isEmpty)return Range.fromPoints(lead,lead);return this.isBackwards()?Range.fromPoints(lead,anchor):Range.fromPoints(anchor,lead)};this.clearSelection=function(){if(!this.$isEmpty){this.$isEmpty=!0;this._emit("changeSelection")}};this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)};this.setRange=this.setSelectionRange=function(range,reverse){var start=reverse?range.end:range.start,end=reverse?range.start:range.end;this.$setSelection(start.row,start.column,end.row,end.column)};this.$setSelection=function(anchorRow,anchorColumn,cursorRow,cursorColumn){var wasEmpty=this.$isEmpty,wasMultiselect=this.inMultiSelectMode;this.$silent=!0;this.$cursorChanged=this.$anchorChanged=!1;this.anchor.setPosition(anchorRow,anchorColumn);this.cursor.setPosition(cursorRow,cursorColumn);this.$isEmpty=!Range.comparePoints(this.anchor,this.cursor);this.$silent=!1;if(this.$cursorChanged)this._emit("changeCursor");if(this.$cursorChanged||this.$anchorChanged||wasEmpty!=this.$isEmpty||wasMultiselect)this._emit("changeSelection")};this.$moveSelection=function(mover){var lead=this.lead;if(this.$isEmpty)this.setSelectionAnchor(lead.row,lead.column);mover.call(this)};this.selectTo=function(row,column){this.$moveSelection(function(){this.moveCursorTo(row,column)})};this.selectToPosition=function(pos){this.$moveSelection(function(){this.moveCursorToPosition(pos)})};this.moveTo=function(row,column){this.clearSelection();this.moveCursorTo(row,column)};this.moveToPosition=function(pos){this.clearSelection();this.moveCursorToPosition(pos)};this.selectUp=function(){this.$moveSelection(this.moveCursorUp)};this.selectDown=function(){this.$moveSelection(this.moveCursorDown)};this.selectRight=function(){this.$moveSelection(this.moveCursorRight)};this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)};this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)};this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)};this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)};this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)};this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)};this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)};this.getWordRange=function(row,column){if("undefined"==typeof column){var cursor=row||this.lead;row=cursor.row;column=cursor.column}return this.session.getWordRange(row,column)};this.selectWord=function(){this.setSelectionRange(this.getWordRange())};this.selectAWord=function(){var cursor=this.getCursor(),range=this.session.getAWordRange(cursor.row,cursor.column);this.setSelectionRange(range)};this.getLineRange=function(row,excludeLastChar){var rowStart="number"==typeof row?row:this.lead.row,rowEnd,foldLine=this.session.getFoldLine(rowStart);if(foldLine){rowStart=foldLine.start.row;rowEnd=foldLine.end.row}else{rowEnd=rowStart}if(!0===excludeLastChar)return new Range(rowStart,0,rowEnd,this.session.getLine(rowEnd).length);else return new Range(rowStart,0,rowEnd+1,0)};this.selectLine=function(){this.setSelectionRange(this.getLineRange())};this.moveCursorUp=function(){this.moveCursorBy(-1,0)};this.moveCursorDown=function(){this.moveCursorBy(1,0)};this.wouldMoveIntoSoftTab=function(cursor,tabSize,direction){var start=cursor.column,end=cursor.column+tabSize;if(0>direction){start=cursor.column-tabSize;end=cursor.column}return this.session.isTabStop(cursor)&&this.doc.getLine(cursor.row).slice(start,end).split(" ").length-1==tabSize};this.moveCursorLeft=function(){var cursor=this.lead.getPosition(),fold;if(fold=this.session.getFoldAt(cursor.row,cursor.column,-1)){this.moveCursorTo(fold.start.row,fold.start.column)}else if(0===cursor.column){if(0<cursor.row){this.moveCursorTo(cursor.row-1,this.doc.getLine(cursor.row-1).length)}}else{var tabSize=this.session.getTabSize();if(this.wouldMoveIntoSoftTab(cursor,tabSize,-1)&&!this.session.getNavigateWithinSoftTabs()){this.moveCursorBy(0,-tabSize)}else{this.moveCursorBy(0,-1)}}};this.moveCursorRight=function(){var cursor=this.lead.getPosition(),fold;if(fold=this.session.getFoldAt(cursor.row,cursor.column,1)){this.moveCursorTo(fold.end.row,fold.end.column)}else if(this.lead.column==this.doc.getLine(this.lead.row).length){if(this.lead.row<this.doc.getLength()-1){this.moveCursorTo(this.lead.row+1,0)}}else{var tabSize=this.session.getTabSize(),cursor=this.lead;if(this.wouldMoveIntoSoftTab(cursor,tabSize,1)&&!this.session.getNavigateWithinSoftTabs()){this.moveCursorBy(0,tabSize)}else{this.moveCursorBy(0,1)}}};this.moveCursorLineStart=function(){var row=this.lead.row,column=this.lead.column,screenRow=this.session.documentToScreenRow(row,column),firstColumnPosition=this.session.screenToDocumentPosition(screenRow,0),beforeCursor=this.session.getDisplayLine(row,null,firstColumnPosition.row,firstColumnPosition.column),leadingSpace=beforeCursor.match(/^\s*/);if(leadingSpace[0].length!=column&&!this.session.$useEmacsStyleLineStart)firstColumnPosition.column+=leadingSpace[0].length;this.moveCursorToPosition(firstColumnPosition)};this.moveCursorLineEnd=function(){var lead=this.lead,lineEnd=this.session.getDocumentLastRowColumnPosition(lead.row,lead.column);if(this.lead.column==lineEnd.column){var line=this.session.getLine(lineEnd.row);if(lineEnd.column==line.length){var textEnd=line.search(/\s+$/);if(0<textEnd)lineEnd.column=textEnd}}this.moveCursorTo(lineEnd.row,lineEnd.column)};this.moveCursorFileEnd=function(){var row=this.doc.getLength()-1,column=this.doc.getLine(row).length;this.moveCursorTo(row,column)};this.moveCursorFileStart=function(){this.moveCursorTo(0,0)};this.moveCursorLongWordRight=function(){var row=this.lead.row,column=this.lead.column,line=this.doc.getLine(row),rightOfCursor=line.substring(column);this.session.nonTokenRe.lastIndex=0;this.session.tokenRe.lastIndex=0;var fold=this.session.getFoldAt(row,column,1);if(fold){this.moveCursorTo(fold.end.row,fold.end.column);return}if(this.session.nonTokenRe.exec(rightOfCursor)){column+=this.session.nonTokenRe.lastIndex;this.session.nonTokenRe.lastIndex=0;rightOfCursor=line.substring(column)}if(column>=line.length){this.moveCursorTo(row,line.length);this.moveCursorRight();if(row<this.doc.getLength()-1)this.moveCursorWordRight();return}if(this.session.tokenRe.exec(rightOfCursor)){column+=this.session.tokenRe.lastIndex;this.session.tokenRe.lastIndex=0}this.moveCursorTo(row,column)};this.moveCursorLongWordLeft=function(){var row=this.lead.row,column=this.lead.column,fold;if(fold=this.session.getFoldAt(row,column,-1)){this.moveCursorTo(fold.start.row,fold.start.column);return}var str=this.session.getFoldStringAt(row,column,-1);if(null==str){str=this.doc.getLine(row).substring(0,column)}var leftOfCursor=lang.stringReverse(str);this.session.nonTokenRe.lastIndex=0;this.session.tokenRe.lastIndex=0;if(this.session.nonTokenRe.exec(leftOfCursor)){column-=this.session.nonTokenRe.lastIndex;leftOfCursor=leftOfCursor.slice(this.session.nonTokenRe.lastIndex);this.session.nonTokenRe.lastIndex=0}if(0>=column){this.moveCursorTo(row,0);this.moveCursorLeft();if(0<row)this.moveCursorWordLeft();return}if(this.session.tokenRe.exec(leftOfCursor)){column-=this.session.tokenRe.lastIndex;this.session.tokenRe.lastIndex=0}this.moveCursorTo(row,column)};this.$shortWordEndIndex=function(rightOfCursor){var index=0,ch,whitespaceRe=/\s/,tokenRe=this.session.tokenRe;tokenRe.lastIndex=0;if(this.session.tokenRe.exec(rightOfCursor)){index=this.session.tokenRe.lastIndex}else{while((ch=rightOfCursor[index])&&whitespaceRe.test(ch))index++;if(1>index){tokenRe.lastIndex=0;while((ch=rightOfCursor[index])&&!tokenRe.test(ch)){tokenRe.lastIndex=0;index++;if(whitespaceRe.test(ch)){if(2<index){index--;break}else{while((ch=rightOfCursor[index])&&whitespaceRe.test(ch))index++;if(2<index)break}}}}}tokenRe.lastIndex=0;return index};this.moveCursorShortWordRight=function(){var row=this.lead.row,column=this.lead.column,line=this.doc.getLine(row),rightOfCursor=line.substring(column),fold=this.session.getFoldAt(row,column,1);if(fold)return this.moveCursorTo(fold.end.row,fold.end.column);if(column==line.length){var l=this.doc.getLength();do{row++;rightOfCursor=this.doc.getLine(row)}while(row<l&&/^\s*$/.test(rightOfCursor));if(!/^\s+/.test(rightOfCursor))rightOfCursor="";column=0}var index=this.$shortWordEndIndex(rightOfCursor);this.moveCursorTo(row,column+index)};this.moveCursorShortWordLeft=function(){var row=this.lead.row,column=this.lead.column,fold;if(fold=this.session.getFoldAt(row,column,-1))return this.moveCursorTo(fold.start.row,fold.start.column);var line=this.session.getLine(row).substring(0,column);if(0===column){do{row--;line=this.doc.getLine(row)}while(0<row&&/^\s*$/.test(line));column=line.length;if(!/\s+$/.test(line))line=""}var leftOfCursor=lang.stringReverse(line),index=this.$shortWordEndIndex(leftOfCursor);return this.moveCursorTo(row,column-index)};this.moveCursorWordRight=function(){if(this.session.$selectLongWords)this.moveCursorLongWordRight();else this.moveCursorShortWordRight()};this.moveCursorWordLeft=function(){if(this.session.$selectLongWords)this.moveCursorLongWordLeft();else this.moveCursorShortWordLeft()};this.moveCursorBy=function(rows,chars){var screenPos=this.session.documentToScreenPosition(this.lead.row,this.lead.column),offsetX;if(0===chars){if(0!==rows){if(this.session.$bidiHandler.isBidiRow(screenPos.row,this.lead.row)){offsetX=this.session.$bidiHandler.getPosLeft(screenPos.column);screenPos.column=_Mathround(offsetX/this.session.$bidiHandler.charWidths[0])}else{offsetX=screenPos.column*this.session.$bidiHandler.charWidths[0]}}if(this.$desiredColumn)screenPos.column=this.$desiredColumn;else this.$desiredColumn=screenPos.column}var docPos=this.session.screenToDocumentPosition(screenPos.row+rows,screenPos.column,offsetX);if(0!==rows&&0===chars&&docPos.row===this.lead.row&&docPos.column===this.lead.column){if(this.session.lineWidgets&&this.session.lineWidgets[docPos.row]){if(0<docPos.row||0<rows)docPos.row++}}this.moveCursorTo(docPos.row,docPos.column+chars,0===chars)};this.moveCursorToPosition=function(position){this.moveCursorTo(position.row,position.column)};this.moveCursorTo=function(row,column,keepDesiredColumn){var fold=this.session.getFoldAt(row,column,1);if(fold){row=fold.start.row;column=fold.start.column}this.$keepDesiredColumnOnChange=!0;var line=this.session.getLine(row);if(/[\uDC00-\uDFFF]/.test(line.charAt(column))&&line.charAt(column-1)){if(this.lead.row==row&&this.lead.column==column+1)column=column-1;else column=column+1}this.lead.setPosition(row,column);this.$keepDesiredColumnOnChange=!1;if(!keepDesiredColumn)this.$desiredColumn=null};this.moveCursorToScreen=function(row,column,keepDesiredColumn){var pos=this.session.screenToDocumentPosition(row,column);this.moveCursorTo(pos.row,pos.column,keepDesiredColumn)};this.detach=function(){this.lead.detach();this.anchor.detach();this.session=this.doc=null};this.fromOrientedRange=function(range){this.setSelectionRange(range,range.cursor==range.start);this.$desiredColumn=range.desiredColumn||this.$desiredColumn};this.toOrientedRange=function(range){var r=this.getRange();if(range){range.start.column=r.start.column;range.start.row=r.start.row;range.end.column=r.end.column;range.end.row=r.end.row}else{range=r}range.cursor=this.isBackwards()?range.start:range.end;range.desiredColumn=this.$desiredColumn;return range};this.getRangeOfMovements=function(func){var start=this.getCursor();try{func(this);var end=this.getCursor();return Range.fromPoints(start,end)}catch(e){return Range.fromPoints(start,start)}finally{this.moveCursorToPosition(start)}};this.toJSON=function(){if(this.rangeCount){var data=this.ranges.map(function(r){var r1=r.clone();r1.isBackwards=r.cursor==r.start;return r1})}else{var data=this.getRange();data.isBackwards=this.isBackwards()}return data};this.fromJSON=function(data){if(data.start==void 0){if(this.rangeList){this.toSingleRange(data[0]);for(var i=data.length,r;i--;){r=Range.fromPoints(data[i].start,data[i].end);if(data[i].isBackwards)r.cursor=r.start;this.addRange(r,!0)}return}else{data=data[0]}}if(this.rangeList)this.toSingleRange(data);this.setSelectionRange(data,data.isBackwards)};this.isEqual=function(data){if((data.length||this.rangeCount)&&data.length!=this.rangeCount)return!1;if(!data.length||!this.ranges)return this.getRange().isEqual(data);for(var i=this.ranges.length;i--;){if(!this.ranges[i].isEqual(data[i]))return!1}return!0}}).call(Selection.prototype);exports.Selection=Selection});ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(require,exports){var config=require("./config"),MAX_TOKEN_COUNT=2e3,Tokenizer=function(rules){this.states=rules;this.regExps={};this.matchMappings={};for(var key in this.states){for(var state=this.states[key],ruleRegExps=[],matchTotal=0,mapping=this.matchMappings[key]={defaultToken:"text"},flag="g",splitterRurles=[],i=0,rule;i<state.length;i++){rule=state[i];if(rule.defaultToken)mapping.defaultToken=rule.defaultToken;if(rule.caseInsensitive)flag="gi";if(null==rule.regex)continue;if(rule.regex instanceof RegExp)rule.regex=rule.regex.toString().slice(1,-1);var adjustedregex=rule.regex,matchcount=new RegExp("(?:("+adjustedregex+")|(.))").exec("a").length-2;if(Array.isArray(rule.token)){if(1==rule.token.length||1==matchcount){rule.token=rule.token[0]}else if(matchcount-1!=rule.token.length){this.reportError("number of classes and regexp groups doesn't match",{rule:rule,groupCount:matchcount-1});rule.token=rule.token[0]}else{rule.tokenArray=rule.token;rule.token=null;rule.onMatch=this.$arrayTokens}}else if("function"==typeof rule.token&&!rule.onMatch){if(1<matchcount)rule.onMatch=this.$applyToken;else rule.onMatch=rule.token}if(1<matchcount){if(/\\\d/.test(rule.regex)){adjustedregex=rule.regex.replace(/\\([0-9]+)/g,function(match,digit){return"\\"+(parseInt(digit,10)+matchTotal+1)})}else{matchcount=1;adjustedregex=this.removeCapturingGroups(rule.regex)}if(!rule.splitRegex&&"string"!=typeof rule.token)splitterRurles.push(rule)}mapping[matchTotal]=i;matchTotal+=matchcount;ruleRegExps.push(adjustedregex);if(!rule.onMatch)rule.onMatch=null}if(!ruleRegExps.length){mapping[0]=0;ruleRegExps.push("$")}splitterRurles.forEach(function(rule){rule.splitRegex=this.createSplitterRegexp(rule.regex,flag)},this);this.regExps[key]=new RegExp("("+ruleRegExps.join(")|(")+")|($)",flag)}};(function(){this.$setMaxTokenCount=function(m){MAX_TOKEN_COUNT=0|m};this.$applyToken=function(str){var values=this.splitRegex.exec(str).slice(1),types=this.token.apply(this,values);if("string"===typeof types)return[{type:types,value:str}];for(var tokens=[],i=0,l=types.length;i<l;i++){if(values[i])tokens[tokens.length]={type:types[i],value:values[i]}}return tokens};this.$arrayTokens=function(str){if(!str)return[];var values=this.splitRegex.exec(str);if(!values)return"text";for(var tokens=[],types=this.tokenArray,i=0,l=types.length;i<l;i++){if(values[i+1])tokens[tokens.length]={type:types[i],value:values[i+1]}}return tokens};this.removeCapturingGroups=function(src){var r=src.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,function(x,y){return y?"(?:":x});return r};this.createSplitterRegexp=function(src,flag){if(-1!=src.indexOf("(?=")){var stack=0,inChClass=!1,lastCapture={};src.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(m,esc,parenOpen,parenClose,square,index){if(inChClass){inChClass="]"!=square}else if(square){inChClass=!0}else if(parenClose){if(stack==lastCapture.stack){lastCapture.end=index+1;lastCapture.stack=-1}stack--}else if(parenOpen){stack++;if(1!=parenOpen.length){lastCapture.stack=stack;lastCapture.start=index}}return m});if(null!=lastCapture.end&&/^\)*$/.test(src.substr(lastCapture.end)))src=src.substring(0,lastCapture.start)+src.substr(lastCapture.end)}if("^"!=src.charAt(0))src="^"+src;if("$"!=src.charAt(src.length-1))src+="$";return new RegExp(src,(flag||"").replace("g",""))};this.getLineTokens=function(line,startState){if(startState&&"string"!=typeof startState){var stack=startState.slice(0);startState=stack[0];if("#tmp"===startState){stack.shift();startState=stack.shift()}}else var stack=[];var currentState=startState||"start",state=this.states[currentState];if(!state){currentState="start";state=this.states[currentState]}var mapping=this.matchMappings[currentState],re=this.regExps[currentState];re.lastIndex=0;var match,tokens=[],lastIndex=0,matchAttempts=0,token={type:null,value:""};while(match=re.exec(line)){var type=mapping.defaultToken,rule=null,value=match[0],index=re.lastIndex;if(index-value.length>lastIndex){var skipped=line.substring(lastIndex,index-value.length);if(token.type==type){token.value+=skipped}else{if(token.type)tokens.push(token);token={type:type,value:skipped}}}for(var i=0;i<match.length-2;i++){if(match[i+1]===void 0)continue;rule=state[mapping[i]];if(rule.onMatch)type=rule.onMatch(value,currentState,stack,line);else type=rule.token;if(rule.next){if("string"==typeof rule.next){currentState=rule.next}else{currentState=rule.next(currentState,stack)}state=this.states[currentState];if(!state){this.reportError("state doesn't exist",currentState);currentState="start";state=this.states[currentState]}mapping=this.matchMappings[currentState];lastIndex=index;re=this.regExps[currentState];re.lastIndex=index}if(rule.consumeLineEnd)lastIndex=index;break}if(value){if("string"===typeof type){if((!rule||!1!==rule.merge)&&token.type===type){token.value+=value}else{if(token.type)tokens.push(token);token={type:type,value:value}}}else if(type){if(token.type)tokens.push(token);token={type:null,value:""};for(var i=0;i<type.length;i++)tokens.push(type[i])}}if(lastIndex==line.length)break;lastIndex=index;if(matchAttempts++>MAX_TOKEN_COUNT){if(matchAttempts>2*line.length){this.reportError("infinite loop with in ace tokenizer",{startState:startState,line:line})}while(lastIndex<line.length){if(token.type)tokens.push(token);token={value:line.substring(lastIndex,lastIndex+=2e3),type:"overflow"}}currentState="start";stack=[];break}}if(token.type)tokens.push(token);if(1<stack.length){if(stack[0]!==currentState)stack.unshift("#tmp",currentState)}return{tokens:tokens,state:stack.length?stack:currentState}};this.reportError=config.reportError}).call(Tokenizer.prototype);exports.Tokenizer=Tokenizer});ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(require,exports){var lang=require("../lib/lang"),TextHighlightRules=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(rules,prefix){if(!prefix){for(var key in rules)this.$rules[key]=rules[key];return}for(var key in rules){for(var state=rules[key],i=0,rule;i<state.length;i++){rule=state[i];if(rule.next||rule.onMatch){if("string"==typeof rule.next){if(0!==rule.next.indexOf(prefix))rule.next=prefix+rule.next}if(rule.nextState&&0!==rule.nextState.indexOf(prefix))rule.nextState=prefix+rule.nextState}}this.$rules[prefix+key]=state}};this.getRules=function(){return this.$rules};this.embedRules=function(HighlightRules,prefix,escapeRules,states,append){var embedRules="function"==typeof HighlightRules?new HighlightRules().getRules():HighlightRules;if(states){for(var i=0;i<states.length;i++)states[i]=prefix+states[i]}else{states=[];for(var key in embedRules)states.push(prefix+key)}this.addRules(embedRules,prefix);if(escapeRules){for(var addRules=Array.prototype[append?"push":"unshift"],i=0;i<states.length;i++)addRules.apply(this.$rules[states[i]],lang.deepCopy(escapeRules))}if(!this.$embeds)this.$embeds=[];this.$embeds.push(prefix)};this.getEmbeds=function(){return this.$embeds};var pushState=function(currentState,stack){if("start"!=currentState||stack.length)stack.unshift(this.nextState,currentState);return this.nextState},popState=function(currentState,stack){stack.shift();return stack.shift()||"start"};this.normalizeRules=function(){var id=0,rules=this.$rules;function processState(key){var state=rules[key];state.processed=!0;for(var i=0;i<state.length;i++){var rule=state[i],toInsert=null;if(Array.isArray(rule)){toInsert=rule;rule={}}if(!rule.regex&&rule.start){rule.regex=rule.start;if(!rule.next)rule.next=[];rule.next.push({defaultToken:rule.token},{token:rule.token+".end",regex:rule.end||rule.start,next:"pop"});rule.token=rule.token+".start";rule.push=!0}var next=rule.next||rule.push;if(next&&Array.isArray(next)){var stateName=rule.stateName;if(!stateName){stateName=rule.token;if("string"!=typeof stateName)stateName=stateName[0]||"";if(rules[stateName])stateName+=id++}rules[stateName]=next;rule.next=stateName;processState(stateName)}else if("pop"==next){rule.next=popState}if(rule.push){rule.nextState=rule.next||rule.push;rule.next=pushState;delete rule.push}if(rule.rules){for(var r in rule.rules){if(rules[r]){if(rules[r].push)rules[r].push.apply(rules[r],rule.rules[r])}else{rules[r]=rule.rules[r]}}}var includeName="string"==typeof rule?rule:rule.include;if(includeName){if(Array.isArray(includeName))toInsert=includeName.map(function(x){return rules[x]});else toInsert=rules[includeName]}if(toInsert){var args=[i,1].concat(toInsert);if(rule.noEscape)args=args.filter(function(x){return!x.next});state.splice.apply(state,args);i--}if(rule.keywordMap){rule.token=this.createKeywordMapper(rule.keywordMap,rule.defaultToken||"text",rule.caseInsensitive);delete rule.defaultToken}}}Object.keys(rules).forEach(processState,this)};this.createKeywordMapper=function(map,defaultToken,ignoreCase,splitChar){var keywords=Object.create(null);Object.keys(map).forEach(function(className){var a=map[className];if(ignoreCase)a=a.toLowerCase();for(var list=a.split(splitChar||"|"),i=list.length;i--;)keywords[list[i]]=className});if(Object.getPrototypeOf(keywords)){keywords.__proto__=null}this.$keywordList=Object.keys(keywords);map=null;return ignoreCase?function(value){return keywords[value.toLowerCase()]||defaultToken}:function(value){return keywords[value]||defaultToken}};this.getKeywords=function(){return this.$keywords}}).call(TextHighlightRules.prototype);exports.TextHighlightRules=TextHighlightRules});ace.define("ace/mode/behaviour",["require","exports","module"],function(require,exports){var Behaviour=function(){this.$behaviours={}};(function(){this.add=function(name,action,callback){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[name]:this.$behaviours[name]={};}this.$behaviours[name][action]=callback};this.addBehaviours=function(behaviours){for(var key in behaviours){for(var action in behaviours[key]){this.add(key,action,behaviours[key][action])}}};this.remove=function(name){if(this.$behaviours&&this.$behaviours[name]){delete this.$behaviours[name]}};this.inherit=function(mode,filter){if("function"===typeof mode){var behaviours=new mode().getBehaviours(filter)}else{var behaviours=mode.getBehaviours(filter)}this.addBehaviours(behaviours)};this.getBehaviours=function(filter){if(!filter){return this.$behaviours}else{for(var ret={},i=0;i<filter.length;i++){if(this.$behaviours[filter[i]]){ret[filter[i]]=this.$behaviours[filter[i]]}}return ret}}}).call(Behaviour.prototype);exports.Behaviour=Behaviour});ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(require,exports){var Range=require("./range").Range,TokenIterator=function(session,initialRow,initialColumn){this.$session=session;this.$row=initialRow;this.$rowTokens=session.getTokens(initialRow);var token=session.getTokenAt(initialRow,initialColumn);this.$tokenIndex=token?token.index:-1};(function(){this.stepBackward=function(){this.$tokenIndex-=1;while(0>this.$tokenIndex){this.$row-=1;if(0>this.$row){this.$row=0;return null}this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]};this.stepForward=function(){this.$tokenIndex+=1;var rowCount;while(this.$tokenIndex>=this.$rowTokens.length){this.$row+=1;if(!rowCount)rowCount=this.$session.getLength();if(this.$row>=rowCount){this.$row=rowCount-1;return null}this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]};this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]};this.getCurrentTokenRow=function(){return this.$row};this.getCurrentTokenColumn=function(){var rowTokens=this.$rowTokens,tokenIndex=this.$tokenIndex,column=rowTokens[tokenIndex].start;if(column!==void 0)return column;column=0;while(0<tokenIndex){tokenIndex-=1;column+=rowTokens[tokenIndex].value.length}return column};this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}};this.getCurrentTokenRange=function(){var token=this.$rowTokens[this.$tokenIndex],column=this.getCurrentTokenColumn();return new Range(this.$row,column,this.$row,column+token.value.length)}}).call(TokenIterator.prototype);exports.TokenIterator=TokenIterator});ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(require,exports){var oop=require("../../lib/oop"),Behaviour=require("../behaviour").Behaviour,TokenIterator=require("../../token_iterator").TokenIterator,lang=require("../../lib/lang"),SAFE_INSERT_IN_TOKENS=["text","paren.rparen","punctuation.operator"],SAFE_INSERT_BEFORE_TOKENS=["text","paren.rparen","punctuation.operator","comment"],context,contextCache={},defaultQuotes={'"':"\"","'":"'"},initContext=function(editor){var id=-1;if(editor.multiSelect){id=editor.selection.index;if(contextCache.rangeCount!=editor.multiSelect.rangeCount)contextCache={rangeCount:editor.multiSelect.rangeCount}}if(contextCache[id])return context=contextCache[id];context=contextCache[id]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},getWrapped=function(selection,selected,opening,closing){var rowDiff=selection.end.row-selection.start.row;return{text:opening+selected+closing,selection:[0,selection.start.column+1,rowDiff,selection.end.column+(rowDiff?0:1)]}},CstyleBehaviour=function(options){this.add("braces","insertion",function(state,action,editor,session,text){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);if("{"==text){initContext(editor);var selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(""!==selected&&"{"!==selected&&editor.getWrapBehavioursEnabled()){return getWrapped(selection,selected,"{","}")}else if(CstyleBehaviour.isSaneInsertion(editor,session)){if(/[\]\}\)]/.test(line[cursor.column])||editor.inMultiSelectMode||options&&options.braces){CstyleBehaviour.recordAutoInsert(editor,session,"}");return{text:"{}",selection:[1,1]}}else{CstyleBehaviour.recordMaybeInsert(editor,session,"{");return{text:"{",selection:[1,1]}}}}else if("}"==text){initContext(editor);var rightChar=line.substring(cursor.column,cursor.column+1);if("}"==rightChar){var matching=session.$findOpeningBracket("}",{column:cursor.column+1,row:cursor.row});if(null!==matching&&CstyleBehaviour.isAutoInsertedClosing(cursor,line,text)){CstyleBehaviour.popAutoInsertedClosing();return{text:"",selection:[1,1]}}}}else if("\n"==text||"\r\n"==text){initContext(editor);var closing="";if(CstyleBehaviour.isMaybeInsertedClosing(cursor,line)){closing=lang.stringRepeat("}",context.maybeInsertedBrackets);CstyleBehaviour.clearMaybeInsertedClosing()}var rightChar=line.substring(cursor.column,cursor.column+1);if("}"===rightChar){var openBracePos=session.findMatchingBracket({row:cursor.row,column:cursor.column+1},"}");if(!openBracePos)return null;var next_indent=this.$getIndent(session.getLine(openBracePos.row))}else if(closing){var next_indent=this.$getIndent(line)}else{CstyleBehaviour.clearMaybeInsertedClosing();return}var indent=next_indent+session.getTabString();return{text:"\n"+indent+"\n"+next_indent+closing,selection:[1,indent.length,1,indent.length]}}else{CstyleBehaviour.clearMaybeInsertedClosing()}});this.add("braces","deletion",function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&"{"==selected){initContext(editor);var line=session.doc.getLine(range.start.row),rightChar=line.substring(range.end.column,range.end.column+1);if("}"==rightChar){range.end.column++;return range}else{context.maybeInsertedBrackets--}}});this.add("parens","insertion",function(state,action,editor,session,text){if("("==text){initContext(editor);var selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(""!==selected&&editor.getWrapBehavioursEnabled()){return getWrapped(selection,selected,"(",")")}else if(CstyleBehaviour.isSaneInsertion(editor,session)){CstyleBehaviour.recordAutoInsert(editor,session,")");return{text:"()",selection:[1,1]}}}else if(")"==text){initContext(editor);var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row),rightChar=line.substring(cursor.column,cursor.column+1);if(")"==rightChar){var matching=session.$findOpeningBracket(")",{column:cursor.column+1,row:cursor.row});if(null!==matching&&CstyleBehaviour.isAutoInsertedClosing(cursor,line,text)){CstyleBehaviour.popAutoInsertedClosing();return{text:"",selection:[1,1]}}}}});this.add("parens","deletion",function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&"("==selected){initContext(editor);var line=session.doc.getLine(range.start.row),rightChar=line.substring(range.start.column+1,range.start.column+2);if(")"==rightChar){range.end.column++;return range}}});this.add("brackets","insertion",function(state,action,editor,session,text){if("["==text){initContext(editor);var selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(""!==selected&&editor.getWrapBehavioursEnabled()){return getWrapped(selection,selected,"[","]")}else if(CstyleBehaviour.isSaneInsertion(editor,session)){CstyleBehaviour.recordAutoInsert(editor,session,"]");return{text:"[]",selection:[1,1]}}}else if("]"==text){initContext(editor);var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row),rightChar=line.substring(cursor.column,cursor.column+1);if("]"==rightChar){var matching=session.$findOpeningBracket("]",{column:cursor.column+1,row:cursor.row});if(null!==matching&&CstyleBehaviour.isAutoInsertedClosing(cursor,line,text)){CstyleBehaviour.popAutoInsertedClosing();return{text:"",selection:[1,1]}}}}});this.add("brackets","deletion",function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&"["==selected){initContext(editor);var line=session.doc.getLine(range.start.row),rightChar=line.substring(range.start.column+1,range.start.column+2);if("]"==rightChar){range.end.column++;return range}}});this.add("string_dquotes","insertion",function(state,action,editor,session,text){var quotes=session.$mode.$quotes||defaultQuotes;if(1==text.length&&quotes[text]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(text))return;initContext(editor);var quote=text,selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(""!==selected&&(1!=selected.length||!quotes[selected])&&editor.getWrapBehavioursEnabled()){return getWrapped(selection,selected,quote,quote)}else if(!selected){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row),leftChar=line.substring(cursor.column-1,cursor.column),rightChar=line.substring(cursor.column,cursor.column+1),token=session.getTokenAt(cursor.row,cursor.column),rightToken=session.getTokenAt(cursor.row,cursor.column+1);if("\\"==leftChar&&token&&/escape/.test(token.type))return null;var stringBefore=token&&/string|escape/.test(token.type),stringAfter=!rightToken||/string|escape/.test(rightToken.type),pair;if(rightChar==quote){pair=stringBefore!==stringAfter;if(pair&&/string\.end/.test(rightToken.type))pair=!1}else{if(stringBefore&&!stringAfter)return null;if(stringBefore&&stringAfter)return null;var wordRe=session.$mode.tokenRe;wordRe.lastIndex=0;var isWordBefore=wordRe.test(leftChar);wordRe.lastIndex=0;var isWordAfter=wordRe.test(leftChar);if(isWordBefore||isWordAfter)return null;if(rightChar&&!/[\s;,.})\]\\]/.test(rightChar))return null;pair=!0}return{text:pair?quote+quote:"",selection:[1,1]}}}});this.add("string_dquotes","deletion",function(state,action,editor,session,range){var quotes=session.$mode.$quotes||defaultQuotes,selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&quotes.hasOwnProperty(selected)){initContext(editor);var line=session.doc.getLine(range.start.row),rightChar=line.substring(range.start.column+1,range.start.column+2);if(rightChar==selected){range.end.column++;return range}}})};CstyleBehaviour.isSaneInsertion=function(editor,session){var cursor=editor.getCursorPosition(),iterator=new TokenIterator(session,cursor.row,cursor.column);if(!this.$matchTokenType(iterator.getCurrentToken()||"text",SAFE_INSERT_IN_TOKENS)){var iterator2=new TokenIterator(session,cursor.row,cursor.column+1);if(!this.$matchTokenType(iterator2.getCurrentToken()||"text",SAFE_INSERT_IN_TOKENS))return!1}iterator.stepForward();return iterator.getCurrentTokenRow()!==cursor.row||this.$matchTokenType(iterator.getCurrentToken()||"text",SAFE_INSERT_BEFORE_TOKENS)};CstyleBehaviour.$matchTokenType=function(token,types){return-1<types.indexOf(token.type||token)};CstyleBehaviour.recordAutoInsert=function(editor,session,bracket){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);if(!this.isAutoInsertedClosing(cursor,line,context.autoInsertedLineEnd[0]))context.autoInsertedBrackets=0;context.autoInsertedRow=cursor.row;context.autoInsertedLineEnd=bracket+line.substr(cursor.column);context.autoInsertedBrackets++};CstyleBehaviour.recordMaybeInsert=function(editor,session,bracket){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);if(!this.isMaybeInsertedClosing(cursor,line))context.maybeInsertedBrackets=0;context.maybeInsertedRow=cursor.row;context.maybeInsertedLineStart=line.substr(0,cursor.column)+bracket;context.maybeInsertedLineEnd=line.substr(cursor.column);context.maybeInsertedBrackets++};CstyleBehaviour.isAutoInsertedClosing=function(cursor,line,bracket){return 0<context.autoInsertedBrackets&&cursor.row===context.autoInsertedRow&&bracket===context.autoInsertedLineEnd[0]&&line.substr(cursor.column)===context.autoInsertedLineEnd};CstyleBehaviour.isMaybeInsertedClosing=function(cursor,line){return 0<context.maybeInsertedBrackets&&cursor.row===context.maybeInsertedRow&&line.substr(cursor.column)===context.maybeInsertedLineEnd&&line.substr(0,cursor.column)==context.maybeInsertedLineStart};CstyleBehaviour.popAutoInsertedClosing=function(){context.autoInsertedLineEnd=context.autoInsertedLineEnd.substr(1);context.autoInsertedBrackets--};CstyleBehaviour.clearMaybeInsertedClosing=function(){if(context){context.maybeInsertedBrackets=0;context.maybeInsertedRow=-1}};oop.inherits(CstyleBehaviour,Behaviour);exports.CstyleBehaviour=CstyleBehaviour});ace.define("ace/unicode",["require","exports","module"],function(require,exports){for(var wordChars=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],code=0,str=[],i=0;i<wordChars.length;i+=2){str.push(code+=wordChars[i]);if(wordChars[i+1])str.push(45,code+=wordChars[i+1])}exports.wordChars=_StringfromCharCode.apply(null,str)});ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(require,exports){var config=require("../config"),Tokenizer=require("../tokenizer").Tokenizer,TextHighlightRules=require("./text_highlight_rules").TextHighlightRules,CstyleBehaviour=require("./behaviour/cstyle").CstyleBehaviour,unicode=require("../unicode"),lang=require("../lib/lang"),TokenIterator=require("../token_iterator").TokenIterator,Range=require("../range").Range,Mode=function(){this.HighlightRules=TextHighlightRules};(function(){this.$defaultBehaviour=new CstyleBehaviour;this.tokenRe=new RegExp("^["+unicode.wordChars+"\\$_]+","g");this.nonTokenRe=new RegExp("^(?:[^"+unicode.wordChars+"\\$_]|\\s])+","g");this.getTokenizer=function(){if(!this.$tokenizer){this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig);this.$tokenizer=new Tokenizer(this.$highlightRules.getRules())}return this.$tokenizer};this.lineCommentStart="";this.blockComment="";this.toggleCommentLines=function(state,session,startRow,endRow){var doc=session.doc,ignoreBlankLines=!0,shouldRemove=!0,minIndent=1/0,tabSize=session.getTabSize(),insertAtTabStop=!1;if(!this.lineCommentStart){if(!this.blockComment)return!1;var lineCommentStart=this.blockComment.start,lineCommentEnd=this.blockComment.end,regexpStart=new RegExp("^(\\s*)(?:"+lang.escapeRegExp(lineCommentStart)+")"),regexpEnd=new RegExp("(?:"+lang.escapeRegExp(lineCommentEnd)+")\\s*$"),comment=function(line,i){if(testRemove(line,i))return;if(!ignoreBlankLines||/\S/.test(line)){doc.insertInLine({row:i,column:line.length},lineCommentEnd);doc.insertInLine({row:i,column:minIndent},lineCommentStart)}},uncomment=function(line,i){var m;if(m=line.match(regexpEnd))doc.removeInLine(i,line.length-m[0].length,line.length);if(m=line.match(regexpStart))doc.removeInLine(i,m[1].length,m[0].length)},testRemove=function(line,row){if(regexpStart.test(line))return!0;for(var tokens=session.getTokens(row),i=0;i<tokens.length;i++){if("comment"===tokens[i].type)return!0}}}else{if(Array.isArray(this.lineCommentStart)){var regexpStart=this.lineCommentStart.map(lang.escapeRegExp).join("|"),lineCommentStart=this.lineCommentStart[0]}else{var regexpStart=lang.escapeRegExp(this.lineCommentStart),lineCommentStart=this.lineCommentStart}regexpStart=new RegExp("^(\\s*)(?:"+regexpStart+") ?");insertAtTabStop=session.getUseSoftTabs();var uncomment=function(line,i){var m=line.match(regexpStart);if(!m)return;var start=m[1].length,end=m[0].length;if(!shouldInsertSpace(line,start,end)&&" "==m[0][end-1])end--;doc.removeInLine(i,start,end)},commentWithSpace=lineCommentStart+" ",comment=function(line,i){if(!ignoreBlankLines||/\S/.test(line)){if(shouldInsertSpace(line,minIndent,minIndent))doc.insertInLine({row:i,column:minIndent},commentWithSpace);else doc.insertInLine({row:i,column:minIndent},lineCommentStart)}},testRemove=function(line){return regexpStart.test(line)},shouldInsertSpace=function(line,before,after){var spaces=0;while(before--&&" "==line.charAt(before))spaces++;if(0!=spaces%tabSize)return!1;var spaces=0;while(" "==line.charAt(after++))spaces++;if(2<tabSize)return spaces%tabSize!=tabSize-1;else return 0==spaces%tabSize}}function iter(fun){for(var i=startRow;i<=endRow;i++)fun(doc.getLine(i),i)}var minEmptyLength=1/0;iter(function(line,i){var indent=line.search(/\S/);if(-1!==indent){if(indent<minIndent)minIndent=indent;if(shouldRemove&&!testRemove(line,i))shouldRemove=!1}else if(minEmptyLength>line.length){minEmptyLength=line.length}});if(minIndent==1/0){minIndent=minEmptyLength;ignoreBlankLines=!1;shouldRemove=!1}if(insertAtTabStop&&0!=minIndent%tabSize)minIndent=_Mathfloor(minIndent/tabSize)*tabSize;iter(shouldRemove?uncomment:comment)};this.toggleBlockComment=function(state,session,range,cursor){var comment=this.blockComment;if(!comment)return;if(!comment.start&&comment[0])comment=comment[0];var iterator=new TokenIterator(session,cursor.row,cursor.column),token=iterator.getCurrentToken(),sel=session.selection,initialRange=session.selection.toOrientedRange(),startRow,colDiff;if(token&&/comment/.test(token.type)){var startRange,endRange;while(token&&/comment/.test(token.type)){var i=token.value.indexOf(comment.start);if(-1!=i){var row=iterator.getCurrentTokenRow(),column=iterator.getCurrentTokenColumn()+i;startRange=new Range(row,column,row,column+comment.start.length);break}token=iterator.stepBackward()}var iterator=new TokenIterator(session,cursor.row,cursor.column),token=iterator.getCurrentToken();while(token&&/comment/.test(token.type)){var i=token.value.indexOf(comment.end);if(-1!=i){var row=iterator.getCurrentTokenRow(),column=iterator.getCurrentTokenColumn()+i;endRange=new Range(row,column,row,column+comment.end.length);break}token=iterator.stepForward()}if(endRange)session.remove(endRange);if(startRange){session.remove(startRange);startRow=startRange.start.row;colDiff=-comment.start.length}}else{colDiff=comment.start.length;startRow=range.start.row;session.insert(range.end,comment.end);session.insert(range.start,comment.start)}if(initialRange.start.row==startRow)initialRange.start.column+=colDiff;if(initialRange.end.row==startRow)initialRange.end.column+=colDiff;session.selection.fromOrientedRange(initialRange)};this.getNextLineIndent=function(state,line){return this.$getIndent(line)};this.checkOutdent=function(){return!1};this.autoOutdent=function(){};this.$getIndent=function(line){return line.match(/^\s*/)[0]};this.createWorker=function(){return null};this.createModeDelegates=function(mapping){this.$embeds=[];this.$modes={};for(var i in mapping){if(mapping[i]){var Mode=mapping[i],id=Mode.prototype.$id,mode=config.$modes[id];if(!mode)config.$modes[id]=mode=new Mode;if(!config.$modes[i])config.$modes[i]=mode;this.$embeds.push(i);this.$modes[i]=mode}}for(var delegations=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],i=0;i<delegations.length;i++){(function(scope){var functionName=delegations[i],defaultHandler=scope[functionName];scope[delegations[i]]=function(){return this.$delegator(functionName,arguments,defaultHandler)}})(this)}};this.$delegator=function(method,args,defaultHandler){var state=args[0];if("string"!=typeof state){if(Array.isArray(state[2])){var language=state[2][state[2].length-1],mode=this.$modes[language];if(mode)return mode[method].apply(mode,[state[1]].concat([].slice.call(args,1)))}state=state[0]}for(var i=0;i<this.$embeds.length;i++){if(!this.$modes[this.$embeds[i]])continue;var split=state.split(this.$embeds[i]);if(!split[0]&&split[1]){args[0]=split[1];var mode=this.$modes[this.$embeds[i]];return mode[method].apply(mode,args)}}var ret=defaultHandler.apply(this,args);return defaultHandler?ret:void 0};this.transformAction=function(state,action){if(this.$behaviour){var behaviours=this.$behaviour.getBehaviours();for(var key in behaviours){if(behaviours[key][action]){var ret=behaviours[key][action].apply(this,arguments);if(ret){return ret}}}}};this.getKeywords=function(append){if(!this.completionKeywords){var rules=this.$tokenizer.rules,completionKeywords=[];for(var rule in rules){for(var ruleItr=rules[rule],r=0,l=ruleItr.length;r<l;r++){if("string"===typeof ruleItr[r].token){if(/keyword|support|storage/.test(ruleItr[r].token))completionKeywords.push(ruleItr[r].regex)}else if("object"===typeof ruleItr[r].token){for(var a=0,aLength=ruleItr[r].token.length;a<aLength;a++){if(/keyword|support|storage/.test(ruleItr[r].token[a])){var rule=ruleItr[r].regex.match(/\(.+?\)/g)[a];completionKeywords.push(rule.substr(1,rule.length-2))}}}}}this.completionKeywords=completionKeywords}if(!append)return this.$keywordList;return completionKeywords.concat(this.$keywordList||[])};this.$createKeywordList=function(){if(!this.$highlightRules)this.getTokenizer();return this.$keywordList=this.$highlightRules.$keywordList||[]};this.getCompletions=function(){var keywords=this.$keywordList||this.$createKeywordList();return keywords.map(function(word){return{name:word,value:word,score:0,meta:"keyword"}})};this.$id="ace/mode/text"}).call(Mode.prototype);exports.Mode=Mode});ace.define("ace/apply_delta",["require","exports","module"],function(require,exports){exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length){docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn)}else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args);docLines[row]=line.substring(0,startColumn)+docLines[row];docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;if(row===endRow){docLines[row]=line.substring(0,startColumn)+line.substring(endColumn)}else{docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}break;}}});ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(require,exports){var oop=require("./lib/oop"),EventEmitter=require("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this);this.attach(doc);if("undefined"==typeof column)this.setPosition(row.row,row.column);else this.setPosition(row,column)};(function(){oop.implement(this,EventEmitter);this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)};this.getDocument=function(){return this.document};this.$insertRight=!1;this.onChange=function(delta){if(delta.start.row==delta.end.row&&delta.start.row!=this.row)return;if(delta.start.row>this.row)return;var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)};function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;if($pointsInOrder(point,deltaStart,moveIfEqual)){return{row:point.row,column:point.column}}if($pointsInOrder(deltaEnd,point,!moveIfEqual)){return{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}}return{row:deltaStart.row,column:deltaStart.column}}this.setPosition=function(row,column,noClip){var pos;if(noClip){pos={row:row,column:column}}else{pos=this.$clipPositionToDocument(row,column)}if(this.row==pos.row&&this.column==pos.column)return;var old={row:this.row,column:this.column};this.row=pos.row;this.column=pos.column;this._signal("change",{old:old,value:pos})};this.detach=function(){this.document.removeEventListener("change",this.$onChange)};this.attach=function(doc){this.document=doc||this.document;this.document.on("change",this.$onChange)};this.$clipPositionToDocument=function(row,column){var pos={};if(row>=this.document.getLength()){pos.row=_Mathmax(0,this.document.getLength()-1);pos.column=this.document.getLine(pos.row).length}else if(0>row){pos.row=0;pos.column=0}else{pos.row=row;pos.column=_Mathmin(this.document.getLine(pos.row).length,_Mathmax(0,column))}if(0>column)pos.column=0;return pos}}).call(Anchor.prototype)});ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(require,exports){var oop=require("./lib/oop"),applyDelta=require("./apply_delta").applyDelta,EventEmitter=require("./lib/event_emitter").EventEmitter,Range=require("./range").Range,Anchor=require("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""];if(0===textOrLines.length){this.$lines=[""]}else if(Array.isArray(textOrLines)){this.insertMergedLines({row:0,column:0},textOrLines)}else{this.insert({row:0,column:0},textOrLines)}};(function(){oop.implement(this,EventEmitter);this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length));this.insert({row:0,column:0},text)};this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())};this.createAnchor=function(row,column){return new Anchor(this,row,column)};if(0==="aaa".split(/a/).length){this.$split=function(text){return text.replace(/\r\n|\r/g,"\n").split("\n")}}else{this.$split=function(text){return text.split(/\r\n|\r|\n/)}}this.$detectNewLine=function(text){var match=text.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=match?match[1]:"\n";this._signal("changeNewLineMode")};this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n";}};this.$autoNewLine="";this.$newLineMode="auto";this.setNewLineMode=function(newLineMode){if(this.$newLineMode===newLineMode)return;this.$newLineMode=newLineMode;this._signal("changeNewLineMode")};this.getNewLineMode=function(){return this.$newLineMode};this.isNewLine=function(text){return"\r\n"==text||"\r"==text||"\n"==text};this.getLine=function(row){return this.$lines[row]||""};this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)};this.getAllLines=function(){return this.getLines(0,this.getLength())};this.getLength=function(){return this.$lines.length};this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())};this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row){lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)]}else{lines=this.getLines(range.start.row,range.end.row);lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;if(range.end.row-range.start.row==l)lines[l]=lines[l].substring(0,range.end.column)}return lines};this.insertLines=function(row,lines){console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead.");return this.insertFullLines(row,lines)};this.removeLines=function(firstRow,lastRow){console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead.");return this.removeFullLines(firstRow,lastRow)};this.insertNewLine=function(position){console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.");return this.insertMergedLines(position,["",""])};this.insert=function(position,text){if(1>=this.getLength())this.$detectNewLine(text);return this.insertMergedLines(position,this.$split(text))};this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0);return this.clonePos(end)};this.clippedPos=function(row,column){var length=this.getLength();if(row===void 0){row=length}else if(0>row){row=0}else if(row>=length){row=length-1;column=void 0}var line=this.getLine(row);if(column==void 0)column=line.length;column=_Mathmin(_Mathmax(column,0),line.length);return{row:row,column:column}};this.clonePos=function(pos){return{row:pos.row,column:pos.column}};this.pos=function(row,column){return{row:row,column:column}};this.$clipPosition=function(position){var length=this.getLength();if(position.row>=length){position.row=_Mathmax(0,length-1);position.column=this.getLine(length-1).length}else{position.row=_Mathmax(0,position.row);position.column=_Mathmin(_Mathmax(position.column,0),this.getLine(position.row).length)}return position};this.insertFullLines=function(row,lines){row=_Mathmin(_Mathmax(row,0),this.getLength());var column=0;if(row<this.getLength()){lines=lines.concat([""]);column=0}else{lines=[""].concat(lines);row--;column=this.$lines[row].length}this.insertMergedLines({row:row,column:column},lines)};this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};this.applyDelta({start:start,end:end,action:"insert",lines:lines});return this.clonePos(end)};this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})});return this.clonePos(start)};this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0);return this.clonePos(start)};this.removeFullLines=function(firstRow,lastRow){firstRow=_Mathmin(_Mathmax(0,firstRow),this.getLength()-1);lastRow=_Mathmin(_Mathmax(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&0<firstRow,deleteLastNewLine=lastRow<this.getLength()-1,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)});return deletedLines};this.removeNewLine=function(row){if(row<this.getLength()-1&&0<=row){this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})}};this.replace=function(range,text){if(!(range instanceof Range))range=Range.fromPoints(range.start,range.end);if(0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;if(text){end=this.insert(range.start,text)}else{end=range.start}return end};this.applyDeltas=function(deltas){for(var i=0;i<deltas.length;i++){this.applyDelta(deltas[i])}};this.revertDeltas=function(deltas){for(var i=deltas.length-1;0<=i;i--){this.revertDelta(deltas[i])}};this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;if(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end)){return}if(isInsert&&2e4<delta.lines.length){this.$splitAndapplyLargeDelta(delta,2e4)}else{applyDelta(this.$lines,delta,doNotValidate);this._signal("change",delta)}};this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length-MAX+1,row=delta.start.row,column=delta.start.column,from=0,to=0;from<l;from=to){to+=MAX-1;var chunk=lines.slice(from,to);chunk.push("");this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}delta.lines=lines.slice(from);delta.start.row=row+from;delta.start.column=column;this.applyDelta(delta,!0)};this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})};this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;i<l;i++){index-=lines[i].length+newlineLength;if(0>index)return{row:i,column:index+lines[i].length+newlineLength}}return{row:l-1,column:index+lines[l-1].length+newlineLength}};this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=_Mathmin(pos.row,lines.length),i=startRow||0;i<row;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype);exports.Document=Document});ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(require,exports){var oop=require("./lib/oop"),EventEmitter=require("./lib/event_emitter").EventEmitter,BackgroundTokenizer=function(tokenizer){this.running=!1;this.lines=[];this.states=[];this.currentLine=0;this.tokenizer=tokenizer;var self=this;this.$worker=function(){if(!self.running){return}var workerStart=new Date,currentLine=self.currentLine,endLine=-1,doc=self.doc,startLine=currentLine;while(self.lines[currentLine])currentLine++;var len=doc.getLength(),processedLines=0;self.running=!1;while(currentLine<len){self.$tokenizeRow(currentLine);endLine=currentLine;do{currentLine++}while(self.lines[currentLine]);processedLines++;if(0===processedLines%5&&20<new Date-workerStart){self.running=setTimeout(self.$worker,20);break}}self.currentLine=currentLine;if(-1==endLine)endLine=currentLine;if(startLine<=endLine)self.fireUpdateEvent(startLine,endLine)}};(function(){oop.implement(this,EventEmitter);this.setTokenizer=function(tokenizer){this.tokenizer=tokenizer;this.lines=[];this.states=[];this.start(0)};this.setDocument=function(doc){this.doc=doc;this.lines=[];this.states=[];this.stop()};this.fireUpdateEvent=function(firstRow,lastRow){this._signal("update",{data:{first:firstRow,last:lastRow}})};this.start=function(startRow){this.currentLine=_Mathmin(startRow||0,this.currentLine,this.doc.getLength());this.lines.splice(this.currentLine,this.lines.length);this.states.splice(this.currentLine,this.states.length);this.stop();this.running=setTimeout(this.$worker,700)};this.scheduleStart=function(){if(!this.running)this.running=setTimeout(this.$worker,700)};this.$updateOnChange=function(delta){var startRow=delta.start.row,len=delta.end.row-startRow;if(0===len){this.lines[startRow]=null}else if("remove"==delta.action){this.lines.splice(startRow,len+1,null);this.states.splice(startRow,len+1,null)}else{var args=Array(len+1);args.unshift(startRow,1);this.lines.splice.apply(this.lines,args);this.states.splice.apply(this.states,args)}this.currentLine=_Mathmin(startRow,this.currentLine,this.doc.getLength());this.stop()};this.stop=function(){if(this.running)clearTimeout(this.running);this.running=!1};this.getTokens=function(row){return this.lines[row]||this.$tokenizeRow(row)};this.getState=function(row){if(this.currentLine==row)this.$tokenizeRow(row);return this.states[row]||"start"};this.$tokenizeRow=function(row){var line=this.doc.getLine(row),state=this.states[row-1],data=this.tokenizer.getLineTokens(line,state,row);if(this.states[row]+""!==data.state+""){this.states[row]=data.state;this.lines[row+1]=null;if(this.currentLine>row+1)this.currentLine=row+1}else if(this.currentLine==row){this.currentLine=row+1}return this.lines[row]=data.tokens}}).call(BackgroundTokenizer.prototype);exports.BackgroundTokenizer=BackgroundTokenizer});ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(require,exports){var lang=require("./lib/lang"),oop=require("./lib/oop"),Range=require("./range").Range,SearchHighlight=function(regExp,clazz,type){this.setRegexp(regExp);this.clazz=clazz;this.type=type||"text"};(function(){this.MAX_RANGES=500;this.setRegexp=function(regExp){if(this.regExp+""==regExp+"")return;this.regExp=regExp;this.cache=[]};this.update=function(html,markerLayer,session,config){if(!this.regExp)return;for(var start=config.firstRow,end=config.lastRow,i=start,ranges;i<=end;i++){ranges=this.cache[i];if(null==ranges){ranges=lang.getMatchOffsets(session.getLine(i),this.regExp);if(ranges.length>this.MAX_RANGES)ranges=ranges.slice(0,this.MAX_RANGES);ranges=ranges.map(function(match){return new Range(i,match.offset,i,match.offset+match.length)});this.cache[i]=ranges.length?ranges:""}for(var j=ranges.length;j--;){markerLayer.drawSingleLineMarker(html,ranges[j].toScreenRange(session),this.clazz,config)}}}}).call(SearchHighlight.prototype);exports.SearchHighlight=SearchHighlight});ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(require,exports){var Range=require("../range").Range;function FoldLine(foldData,folds){this.foldData=foldData;if(Array.isArray(folds)){this.folds=folds}else{folds=this.folds=[folds]}var last=folds[folds.length-1];this.range=new Range(folds[0].start.row,folds[0].start.column,last.end.row,last.end.column);this.start=this.range.start;this.end=this.range.end;this.folds.forEach(function(fold){fold.setFoldLine(this)},this)}(function(){this.shiftRow=function(shift){this.start.row+=shift;this.end.row+=shift;this.folds.forEach(function(fold){fold.start.row+=shift;fold.end.row+=shift})};this.addFold=function(fold){if(fold.sameRow){if(fold.start.row<this.startRow||fold.endRow>this.endRow){throw new Error("Can't add a fold to this FoldLine as it has no connection")}this.folds.push(fold);this.folds.sort(function(a,b){return-a.range.compareEnd(b.start.row,b.start.column)});if(0<this.range.compareEnd(fold.start.row,fold.start.column)){this.end.row=fold.end.row;this.end.column=fold.end.column}else if(0>this.range.compareStart(fold.end.row,fold.end.column)){this.start.row=fold.start.row;this.start.column=fold.start.column}}else if(fold.start.row==this.end.row){this.folds.push(fold);this.end.row=fold.end.row;this.end.column=fold.end.column}else if(fold.end.row==this.start.row){this.folds.unshift(fold);this.start.row=fold.start.row;this.start.column=fold.start.column}else{throw new Error("Trying to add fold to FoldRow that doesn't have a matching row")}fold.foldLine=this};this.containsRow=function(row){return row>=this.start.row&&row<=this.end.row};this.walk=function(callback,endRow,endColumn){var lastEnd=0,folds=this.folds,fold,cmp,stop,isNewRow=!0;if(null==endRow){endRow=this.end.row;endColumn=this.end.column}for(var i=0;i<folds.length;i++){fold=folds[i];cmp=fold.range.compareStart(endRow,endColumn);if(-1==cmp){callback(null,endRow,endColumn,lastEnd,isNewRow);return}stop=callback(null,fold.start.row,fold.start.column,lastEnd,isNewRow);stop=!stop&&callback(fold.placeholder,fold.start.row,fold.start.column,lastEnd);if(stop||0===cmp){return}isNewRow=!fold.sameRow;lastEnd=fold.end.column}callback(null,endRow,endColumn,lastEnd,isNewRow)};this.getNextFoldTo=function(row,column){for(var fold,cmp,i=0;i<this.folds.length;i++){fold=this.folds[i];cmp=fold.range.compareEnd(row,column);if(-1==cmp){return{fold:fold,kind:"after"}}else if(0===cmp){return{fold:fold,kind:"inside"}}}return null};this.addRemoveChars=function(row,column,len){var ret=this.getNextFoldTo(row,column),fold,folds;if(ret){fold=ret.fold;if("inside"==ret.kind&&fold.start.column!=column&&fold.start.row!=row){window.console&&window.console.log(row,column,fold)}else if(fold.start.row==row){folds=this.folds;var i=folds.indexOf(fold);if(0===i){this.start.column+=len}for(i;i<folds.length;i++){fold=folds[i];fold.start.column+=len;if(!fold.sameRow){return}fold.end.column+=len}this.end.column+=len}}};this.split=function(row,column){var pos=this.getNextFoldTo(row,column);if(!pos||"inside"==pos.kind)return null;var fold=pos.fold,folds=this.folds,foldData=this.foldData,i=folds.indexOf(fold),foldBefore=folds[i-1];this.end.row=foldBefore.end.row;this.end.column=foldBefore.end.column;folds=folds.splice(i,folds.length-i);var newFoldLine=new FoldLine(foldData,folds);foldData.splice(foldData.indexOf(this)+1,0,newFoldLine);return newFoldLine};this.merge=function(foldLineNext){for(var folds=foldLineNext.folds,i=0;i<folds.length;i++){this.addFold(folds[i])}var foldData=this.foldData;foldData.splice(foldData.indexOf(foldLineNext),1)};this.toString=function(){var ret=[this.range.toString()+": ["];this.folds.forEach(function(fold){ret.push("  "+fold.toString())});ret.push("]");return ret.join("\n")};this.idxToPosition=function(idx){for(var lastFoldEndColumn=0,i=0,fold;i<this.folds.length;i++){fold=this.folds[i];idx-=fold.start.column-lastFoldEndColumn;if(0>idx){return{row:fold.start.row,column:fold.start.column+idx}}idx-=fold.placeholder.length;if(0>idx){return fold.start}lastFoldEndColumn=fold.end.column}return{row:this.end.row,column:this.end.column+idx}}}).call(FoldLine.prototype);exports.FoldLine=FoldLine});ace.define("ace/range_list",["require","exports","module","ace/range"],function(require,exports){var Range=require("./range").Range,comparePoints=Range.comparePoints,RangeList=function(){this.ranges=[]};(function(){this.comparePoints=comparePoints;this.pointIndex=function(pos,excludeEdges,startIndex){for(var list=this.ranges,i=startIndex||0;i<list.length;i++){var range=list[i],cmpEnd=comparePoints(pos,range.end);if(0<cmpEnd)continue;var cmpStart=comparePoints(pos,range.start);if(0===cmpEnd)return excludeEdges&&0!==cmpStart?-i-2:i;if(0<cmpStart||0===cmpStart&&!excludeEdges)return i;return-i-1}return-i-1};this.add=function(range){var excludeEdges=!range.isEmpty(),startIndex=this.pointIndex(range.start,excludeEdges);if(0>startIndex)startIndex=-startIndex-1;var endIndex=this.pointIndex(range.end,excludeEdges,startIndex);if(0>endIndex)endIndex=-endIndex-1;else endIndex++;return this.ranges.splice(startIndex,endIndex-startIndex,range)};this.addList=function(list){for(var removed=[],i=list.length;i--;){removed.push.apply(removed,this.add(list[i]))}return removed};this.substractPoint=function(pos){var i=this.pointIndex(pos);if(0<=i)return this.ranges.splice(i,1)};this.merge=function(){var removed=[],list=this.ranges;list=list.sort(function(a,b){return comparePoints(a.start,b.start)});for(var next=list[0],range,i=1;i<list.length;i++){range=next;next=list[i];var cmp=comparePoints(range.end,next.start);if(0>cmp)continue;if(0==cmp&&!range.isEmpty()&&!next.isEmpty())continue;if(0>comparePoints(range.end,next.end)){range.end.row=next.end.row;range.end.column=next.end.column}list.splice(i,1);removed.push(next);next=range;i--}this.ranges=list;return removed};this.contains=function(row,column){return 0<=this.pointIndex({row:row,column:column})};this.containsPoint=function(pos){return 0<=this.pointIndex(pos)};this.rangeAtPoint=function(pos){var i=this.pointIndex(pos);if(0<=i)return this.ranges[i]};this.clipRows=function(startRow,endRow){var list=this.ranges;if(list[0].start.row>endRow||list[list.length-1].start.row<startRow)return[];var startIndex=this.pointIndex({row:startRow,column:0});if(0>startIndex)startIndex=-startIndex-1;var endIndex=this.pointIndex({row:endRow,column:0},startIndex);if(0>endIndex)endIndex=-endIndex-1;for(var clipped=[],i=startIndex;i<endIndex;i++){clipped.push(list[i])}return clipped};this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)};this.attach=function(session){if(this.session)this.detach();this.session=session;this.onChange=this.$onChange.bind(this);this.session.on("change",this.onChange)};this.detach=function(){if(!this.session)return;this.session.removeListener("change",this.onChange);this.session=null};this.$onChange=function(delta){for(var start=delta.start,end=delta.end,startRow=start.row,endRow=end.row,ranges=this.ranges,i=0,n=ranges.length,r;i<n;i++){r=ranges[i];if(r.end.row>=startRow)break}if("insert"==delta.action){var lineDif=endRow-startRow,colDiff=-start.column+end.column;for(;i<n;i++){var r=ranges[i];if(r.start.row>startRow)break;if(r.start.row==startRow&&r.start.column>=start.column){if(!(r.start.column==start.column&&this.$insertRight)){r.start.column+=colDiff;r.start.row+=lineDif}}if(r.end.row==startRow&&r.end.column>=start.column){if(r.end.column==start.column&&this.$insertRight){continue}if(r.end.column==start.column&&0<colDiff&&i<n-1){if(r.end.column>r.start.column&&r.end.column==ranges[i+1].start.column)r.end.column-=colDiff}r.end.column+=colDiff;r.end.row+=lineDif}}}else{var lineDif=startRow-endRow,colDiff=start.column-end.column;for(;i<n;i++){var r=ranges[i];if(r.start.row>endRow)break;if(r.end.row<endRow){r.end.row=startRow;r.end.column=start.column}if(r.start.row<endRow||r.start.row==endRow&&r.start.column<=end.colum){r.start.row=startRow;r.start.column=start.column}if(r.end.row==endRow){if(r.end.column<=end.column){if(lineDif||r.end.column>start.column){r.end.column=start.column;r.end.row=start.row}}else{r.end.column+=colDiff;r.end.row+=lineDif}}if(r.start.row==endRow){if(r.start.column<=end.column){if(lineDif||r.start.column>start.column){r.start.column=start.column;r.start.row=start.row}}else{r.start.column+=colDiff;r.start.row+=lineDif}}}}if(0!=lineDif&&i<n){for(;i<n;i++){var r=ranges[i];r.start.row+=lineDif;r.end.row+=lineDif}}}}).call(RangeList.prototype);exports.RangeList=RangeList});ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(require,exports){var Range=require("../range").Range,RangeList=require("../range_list").RangeList,oop=require("../lib/oop"),Fold=exports.Fold=function(range,placeholder){this.foldLine=null;this.placeholder=placeholder;this.range=range;this.start=range.start;this.end=range.end;this.sameRow=range.start.row==range.end.row;this.subFolds=this.ranges=[]};oop.inherits(Fold,RangeList);(function(){this.toString=function(){return"\""+this.placeholder+"\" "+this.range.toString()};this.setFoldLine=function(foldLine){this.foldLine=foldLine;this.subFolds.forEach(function(fold){fold.setFoldLine(foldLine)})};this.clone=function(){var range=this.range.clone(),fold=new Fold(range,this.placeholder);this.subFolds.forEach(function(subFold){fold.subFolds.push(subFold.clone())});fold.collapseChildren=this.collapseChildren;return fold};this.addSubFold=function(fold){if(this.range.isEqual(fold))return;if(!this.range.containsRange(fold))throw new Error("A fold can't intersect already existing fold"+fold.range+this.range);consumeRange(fold,this.start);for(var row=fold.start.row,column=fold.start.column,i=0,cmp=-1;i<this.subFolds.length;i++){cmp=this.subFolds[i].range.compare(row,column);if(1!=cmp)break}var afterStart=this.subFolds[i];if(0==cmp)return afterStart.addSubFold(fold);for(var row=fold.range.end.row,column=fold.range.end.column,j=i,cmp=-1;j<this.subFolds.length;j++){cmp=this.subFolds[j].range.compare(row,column);if(1!=cmp)break}this.subFolds[j];if(0==cmp)throw new Error("A fold can't intersect already existing fold"+fold.range+this.range);this.subFolds.splice(i,j-i,fold);fold.setFoldLine(this.foldLine);return fold};this.restoreRange=function(range){return restoreRange(range,this.start)}}).call(Fold.prototype);function consumePoint(point,anchor){point.row-=anchor.row;if(0==point.row)point.column-=anchor.column}function consumeRange(range,anchor){consumePoint(range.start,anchor);consumePoint(range.end,anchor)}function restorePoint(point,anchor){if(0==point.row)point.column+=anchor.column;point.row+=anchor.row}function restoreRange(range,anchor){restorePoint(range.start,anchor);restorePoint(range.end,anchor)}});ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(require,exports){var Range=require("../range").Range,FoldLine=require("./fold_line").FoldLine,Fold=require("./fold").Fold,TokenIterator=require("../token_iterator").TokenIterator;exports.Folding=function(){this.getFoldAt=function(row,column,side){var foldLine=this.getFoldLine(row);if(!foldLine)return null;for(var folds=foldLine.folds,i=0,fold;i<folds.length;i++){fold=folds[i];if(fold.range.contains(row,column)){if(1==side&&fold.range.isEnd(row,column)){continue}else if(-1==side&&fold.range.isStart(row,column)){continue}return fold}}};this.getFoldsInRange=function(range){var start=range.start,end=range.end,foldLines=this.$foldData,foundFolds=[];start.column+=1;end.column-=1;for(var i=0,cmp;i<foldLines.length;i++){cmp=foldLines[i].range.compareRange(range);if(2==cmp){continue}else if(-2==cmp){break}for(var folds=foldLines[i].folds,j=0,fold;j<folds.length;j++){fold=folds[j];cmp=fold.range.compareRange(range);if(-2==cmp){break}else if(2==cmp){continue}else if(42==cmp){break}foundFolds.push(fold)}}start.column-=1;end.column+=1;return foundFolds};this.getFoldsInRangeList=function(ranges){if(Array.isArray(ranges)){var folds=[];ranges.forEach(function(range){folds=folds.concat(this.getFoldsInRange(range))},this)}else{var folds=this.getFoldsInRange(ranges)}return folds};this.getAllFolds=function(){for(var folds=[],foldLines=this.$foldData,i=0;i<foldLines.length;i++)for(var j=0;j<foldLines[i].folds.length;j++)folds.push(foldLines[i].folds[j]);return folds};this.getFoldStringAt=function(row,column,trim,foldLine){foldLine=foldLine||this.getFoldLine(row);if(!foldLine)return null;for(var lastFold={end:{column:0}},str,fold,i=0;i<foldLine.folds.length;i++){fold=foldLine.folds[i];var cmp=fold.range.compareEnd(row,column);if(-1==cmp){str=this.getLine(fold.start.row).substring(lastFold.end.column,fold.start.column);break}else if(0===cmp){return null}lastFold=fold}if(!str)str=this.getLine(fold.start.row).substring(lastFold.end.column);if(-1==trim)return str.substring(0,column-lastFold.end.column);else if(1==trim)return str.substring(column-lastFold.end.column);else return str};this.getFoldLine=function(docRow,startFoldLine){var foldData=this.$foldData,i=0;if(startFoldLine)i=foldData.indexOf(startFoldLine);if(-1==i)i=0;for(i;i<foldData.length;i++){var foldLine=foldData[i];if(foldLine.start.row<=docRow&&foldLine.end.row>=docRow){return foldLine}else if(foldLine.end.row>docRow){return null}}return null};this.getNextFoldLine=function(docRow,startFoldLine){var foldData=this.$foldData,i=0;if(startFoldLine)i=foldData.indexOf(startFoldLine);if(-1==i)i=0;for(i;i<foldData.length;i++){var foldLine=foldData[i];if(foldLine.end.row>=docRow){return foldLine}}return null};this.getFoldedRowCount=function(first,last){for(var foldData=this.$foldData,rowCount=last-first+1,i=0;i<foldData.length;i++){var foldLine=foldData[i],end=foldLine.end.row,start=foldLine.start.row;if(end>=last){if(start<last){if(start>=first)rowCount-=last-start;else rowCount=0}break}else if(end>=first){if(start>=first)rowCount-=end-start;else rowCount-=end-first+1}}return rowCount};this.$addFoldLine=function(foldLine){this.$foldData.push(foldLine);this.$foldData.sort(function(a,b){return a.start.row-b.start.row});return foldLine};this.addFold=function(placeholder,range){var foldData=this.$foldData,added=!1,fold;if(placeholder instanceof Fold)fold=placeholder;else{fold=new Fold(range,placeholder);fold.collapseChildren=range.collapseChildren}this.$clipRangeToDocument(fold.range);var startRow=fold.start.row,startColumn=fold.start.column,endRow=fold.end.row,endColumn=fold.end.column;if(!(startRow<endRow||startRow==endRow&&startColumn<=endColumn-2))throw new Error("The range has to be at least 2 characters width");var startFold=this.getFoldAt(startRow,startColumn,1),endFold=this.getFoldAt(endRow,endColumn,-1);if(startFold&&endFold==startFold)return startFold.addSubFold(fold);if(startFold&&!startFold.range.isStart(startRow,startColumn))this.removeFold(startFold);if(endFold&&!endFold.range.isEnd(endRow,endColumn))this.removeFold(endFold);var folds=this.getFoldsInRange(fold.range);if(0<folds.length){this.removeFolds(folds);folds.forEach(function(subFold){fold.addSubFold(subFold)})}for(var i=0,foldLine;i<foldData.length;i++){foldLine=foldData[i];if(endRow==foldLine.start.row){foldLine.addFold(fold);added=!0;break}else if(startRow==foldLine.end.row){foldLine.addFold(fold);added=!0;if(!fold.sameRow){var foldLineNext=foldData[i+1];if(foldLineNext&&foldLineNext.start.row==endRow){foldLine.merge(foldLineNext);break}}break}else if(endRow<=foldLine.start.row){break}}if(!added)foldLine=this.$addFoldLine(new FoldLine(this.$foldData,fold));if(this.$useWrapMode)this.$updateWrapData(foldLine.start.row,foldLine.start.row);else this.$updateRowLengthCache(foldLine.start.row,foldLine.start.row);this.$modified=!0;this._signal("changeFold",{data:fold,action:"add"});return fold};this.addFolds=function(folds){folds.forEach(function(fold){this.addFold(fold)},this)};this.removeFold=function(fold){var foldLine=fold.foldLine,startRow=foldLine.start.row,endRow=foldLine.end.row,foldLines=this.$foldData,folds=foldLine.folds;if(1==folds.length){foldLines.splice(foldLines.indexOf(foldLine),1)}else if(foldLine.range.isEnd(fold.end.row,fold.end.column)){folds.pop();foldLine.end.row=folds[folds.length-1].end.row;foldLine.end.column=folds[folds.length-1].end.column}else if(foldLine.range.isStart(fold.start.row,fold.start.column)){folds.shift();foldLine.start.row=folds[0].start.row;foldLine.start.column=folds[0].start.column}else if(fold.sameRow){folds.splice(folds.indexOf(fold),1)}else{var newFoldLine=foldLine.split(fold.start.row,fold.start.column);folds=newFoldLine.folds;folds.shift();newFoldLine.start.row=folds[0].start.row;newFoldLine.start.column=folds[0].start.column}if(!this.$updating){if(this.$useWrapMode)this.$updateWrapData(startRow,endRow);else this.$updateRowLengthCache(startRow,endRow)}this.$modified=!0;this._signal("changeFold",{data:fold,action:"remove"})};this.removeFolds=function(folds){for(var cloneFolds=[],i=0;i<folds.length;i++){cloneFolds.push(folds[i])}cloneFolds.forEach(function(fold){this.removeFold(fold)},this);this.$modified=!0};this.expandFold=function(fold){this.removeFold(fold);fold.subFolds.forEach(function(subFold){fold.restoreRange(subFold);this.addFold(subFold)},this);if(0<fold.collapseChildren){this.foldAll(fold.start.row+1,fold.end.row,fold.collapseChildren-1)}fold.subFolds=[]};this.expandFolds=function(folds){folds.forEach(function(fold){this.expandFold(fold)},this)};this.unfold=function(location,expandInner){var range,folds;if(null==location){range=new Range(0,0,this.getLength(),0);expandInner=!0}else if("number"==typeof location)range=new Range(location,0,location,this.getLine(location).length);else if("row"in location)range=Range.fromPoints(location,location);else range=location;folds=this.getFoldsInRangeList(range);if(expandInner){this.removeFolds(folds)}else{var subFolds=folds;while(subFolds.length){this.expandFolds(subFolds);subFolds=this.getFoldsInRangeList(range)}}if(folds.length)return folds};this.isRowFolded=function(docRow,startFoldRow){return!!this.getFoldLine(docRow,startFoldRow)};this.getRowFoldEnd=function(docRow,startFoldRow){var foldLine=this.getFoldLine(docRow,startFoldRow);return foldLine?foldLine.end.row:docRow};this.getRowFoldStart=function(docRow,startFoldRow){var foldLine=this.getFoldLine(docRow,startFoldRow);return foldLine?foldLine.start.row:docRow};this.getFoldDisplayLine=function(foldLine,endRow,endColumn,startRow,startColumn){if(null==startRow)startRow=foldLine.start.row;if(null==startColumn)startColumn=0;if(null==endRow)endRow=foldLine.end.row;if(null==endColumn)endColumn=this.getLine(endRow).length;var doc=this.doc,textLine="";foldLine.walk(function(placeholder,row,column,lastColumn){if(row<startRow)return;if(row==startRow){if(column<startColumn)return;lastColumn=_Mathmax(startColumn,lastColumn)}if(null!=placeholder){textLine+=placeholder}else{textLine+=doc.getLine(row).substring(lastColumn,column)}},endRow,endColumn);return textLine};this.getDisplayLine=function(row,endColumn,startRow,startColumn){var foldLine=this.getFoldLine(row);if(!foldLine){var line=this.doc.getLine(row);return line.substring(startColumn||0,endColumn||line.length)}else{return this.getFoldDisplayLine(foldLine,row,endColumn,startRow,startColumn)}};this.$cloneFoldData=function(){var fd=[];fd=this.$foldData.map(function(foldLine){var folds=foldLine.folds.map(function(fold){return fold.clone()});return new FoldLine(fd,folds)});return fd};this.toggleFold=function(tryToUnfold){var selection=this.selection,range=selection.getRange(),fold,bracketPos;if(range.isEmpty()){var cursor=range.start;fold=this.getFoldAt(cursor.row,cursor.column);if(fold){this.expandFold(fold);return}else if(bracketPos=this.findMatchingBracket(cursor)){if(1==range.comparePoint(bracketPos)){range.end=bracketPos}else{range.start=bracketPos;range.start.column++;range.end.column--}}else if(bracketPos=this.findMatchingBracket({row:cursor.row,column:cursor.column+1})){if(1==range.comparePoint(bracketPos))range.end=bracketPos;else range.start=bracketPos;range.start.column++}else{range=this.getCommentFoldRange(cursor.row,cursor.column)||range}}else{var folds=this.getFoldsInRange(range);if(tryToUnfold&&folds.length){this.expandFolds(folds);return}else if(1==folds.length){fold=folds[0]}}if(!fold)fold=this.getFoldAt(range.start.row,range.start.column);if(fold&&fold.range.toString()==range.toString()){this.expandFold(fold);return}var placeholder="...";if(!range.isMultiLine()){placeholder=this.getTextRange(range);if(4>placeholder.length)return;placeholder=placeholder.trim().substring(0,2)+".."}this.addFold(placeholder,range)};this.getCommentFoldRange=function(row,column,dir){var iterator=new TokenIterator(this,row,column),token=iterator.getCurrentToken(),type=token.type;if(token&&/^comment|string/.test(type)){type=type.match(/comment|string/)[0];if("comment"==type)type+="|doc-start";var re=new RegExp(type),range=new Range;if(1!=dir){do{token=iterator.stepBackward()}while(token&&re.test(token.type));iterator.stepForward()}range.start.row=iterator.getCurrentTokenRow();range.start.column=iterator.getCurrentTokenColumn()+2;iterator=new TokenIterator(this,row,column);if(-1!=dir){var lastRow=-1;do{token=iterator.stepForward();if(-1==lastRow){var state=this.getState(iterator.$row);if(!re.test(state))lastRow=iterator.$row}else if(iterator.$row>lastRow){break}}while(token&&re.test(token.type));token=iterator.stepBackward()}else token=iterator.getCurrentToken();range.end.row=iterator.getCurrentTokenRow();range.end.column=iterator.getCurrentTokenColumn()+token.value.length-2;return range}};this.foldAll=function(startRow,endRow,depth){if(depth==void 0)depth=1e5;var foldWidgets=this.foldWidgets;if(!foldWidgets)return;endRow=endRow||this.getLength();startRow=startRow||0;for(var row=startRow;row<endRow;row++){if(null==foldWidgets[row])foldWidgets[row]=this.getFoldWidget(row);if("start"!=foldWidgets[row])continue;var range=this.getFoldWidgetRange(row);if(range&&range.isMultiLine()&&range.end.row<=endRow&&range.start.row>=startRow){row=range.end.row;try{var fold=this.addFold("...",range);if(fold)fold.collapseChildren=depth}catch(e){}}}};this.$foldStyles={manual:1,markbegin:1,markbeginend:1};this.$foldStyle="markbegin";this.setFoldStyle=function(style){if(!this.$foldStyles[style])throw new Error("invalid fold style: "+style+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle==style)return;this.$foldStyle=style;if("manual"==style)this.unfold();var mode=this.$foldMode;this.$setFolding(null);this.$setFolding(mode)};this.$setFolding=function(foldMode){if(this.$foldMode==foldMode)return;this.$foldMode=foldMode;this.off("change",this.$updateFoldWidgets);this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets);this._signal("changeAnnotation");if(!foldMode||"manual"==this.$foldStyle){this.foldWidgets=null;return}this.foldWidgets=[];this.getFoldWidget=foldMode.getFoldWidget.bind(foldMode,this,this.$foldStyle);this.getFoldWidgetRange=foldMode.getFoldWidgetRange.bind(foldMode,this,this.$foldStyle);this.$updateFoldWidgets=this.updateFoldWidgets.bind(this);this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this);this.on("change",this.$updateFoldWidgets);this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)};this.getParentFoldRangeData=function(row,ignoreCurrent){var fw=this.foldWidgets;if(!fw||ignoreCurrent&&fw[row])return{};var i=row-1,firstRange;while(0<=i){var c=fw[i];if(null==c)c=fw[i]=this.getFoldWidget(i);if("start"==c){var range=this.getFoldWidgetRange(i);if(!firstRange)firstRange=range;if(range&&range.end.row>=row)break}i--}return{range:-1!==i&&range,firstRange:firstRange}};this.onFoldWidgetClick=function(row,e){e=e.domEvent;var options={children:e.shiftKey,all:e.ctrlKey||e.metaKey,siblings:e.altKey},range=this.$toggleFoldWidget(row,options);if(!range){var el=e.target||e.srcElement;if(el&&/ace_fold-widget/.test(el.className))el.className+=" ace_invalid"}};this.$toggleFoldWidget=function(row,options){if(!this.getFoldWidget)return;var type=this.getFoldWidget(row),line=this.getLine(row),dir="end"===type?-1:1,fold=this.getFoldAt(row,-1===dir?0:line.length,dir);if(fold){if(options.children||options.all)this.removeFold(fold);else this.expandFold(fold);return fold}var range=this.getFoldWidgetRange(row,!0);if(range&&!range.isMultiLine()){fold=this.getFoldAt(range.start.row,range.start.column,1);if(fold&&range.isEqual(fold.range)){this.removeFold(fold);return fold}}if(options.siblings){var data=this.getParentFoldRangeData(row);if(data.range){var startRow=data.range.start.row+1,endRow=data.range.end.row}this.foldAll(startRow,endRow,options.all?1e4:0)}else if(options.children){endRow=range?range.end.row:this.getLength();this.foldAll(row+1,endRow,options.all?1e4:0)}else if(range){if(options.all)range.collapseChildren=1e4;this.addFold("...",range)}return range};this.toggleFoldWidget=function(){var row=this.selection.getCursor().row;row=this.getRowFoldStart(row);var range=this.$toggleFoldWidget(row,{});if(range)return;var data=this.getParentFoldRangeData(row,!0);range=data.range||data.firstRange;if(range){row=range.start.row;var fold=this.getFoldAt(row,this.getLine(row).length,1);if(fold){this.removeFold(fold)}else{this.addFold("...",range)}}};this.updateFoldWidgets=function(delta){var firstRow=delta.start.row,len=delta.end.row-firstRow;if(0===len){this.foldWidgets[firstRow]=null}else if("remove"==delta.action){this.foldWidgets.splice(firstRow,len+1,null)}else{var args=Array(len+1);args.unshift(firstRow,1);this.foldWidgets.splice.apply(this.foldWidgets,args)}};this.tokenizerUpdateFoldWidgets=function(e){var rows=e.data;if(rows.first!=rows.last){if(this.foldWidgets.length>rows.first)this.foldWidgets.splice(rows.first,this.foldWidgets.length)}}}});ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(require,exports){var TokenIterator=require("../token_iterator").TokenIterator,Range=require("../range").Range;exports.BracketMatch=function(){this.findMatchingBracket=function(position,chr){if(0==position.column)return null;var charBeforeCursor=chr||this.getLine(position.row).charAt(position.column-1);if(""==charBeforeCursor)return null;var match=charBeforeCursor.match(/([\(\[\{])|([\)\]\}])/);if(!match)return null;if(match[1])return this.$findClosingBracket(match[1],position);else return this.$findOpeningBracket(match[2],position)};this.getBracketRange=function(pos){var line=this.getLine(pos.row),before=!0,range,chr=line.charAt(pos.column-1),match=chr&&chr.match(/([\(\[\{])|([\)\]\}])/);if(!match){chr=line.charAt(pos.column);pos={row:pos.row,column:pos.column+1};match=chr&&chr.match(/([\(\[\{])|([\)\]\}])/);before=!1}if(!match)return null;if(match[1]){var bracketPos=this.$findClosingBracket(match[1],pos);if(!bracketPos)return null;range=Range.fromPoints(pos,bracketPos);if(!before){range.end.column++;range.start.column--}range.cursor=range.end}else{var bracketPos=this.$findOpeningBracket(match[2],pos);if(!bracketPos)return null;range=Range.fromPoints(bracketPos,pos);if(!before){range.start.column++;range.end.column--}range.cursor=range.start}return range};this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"};this.$findOpeningBracket=function(bracket,position,typeRe){var openBracket=this.$brackets[bracket],depth=1,iterator=new TokenIterator(this,position.row,position.column),token=iterator.getCurrentToken();if(!token)token=iterator.stepForward();if(!token)return;if(!typeRe){typeRe=new RegExp("(\\.?"+token.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+")}var valueIndex=position.column-iterator.getCurrentTokenColumn()-2,value=token.value;while(!0){while(0<=valueIndex){var chr=value.charAt(valueIndex);if(chr==openBracket){depth-=1;if(0==depth){return{row:iterator.getCurrentTokenRow(),column:valueIndex+iterator.getCurrentTokenColumn()}}}else if(chr==bracket){depth+=1}valueIndex-=1}do{token=iterator.stepBackward()}while(token&&!typeRe.test(token.type));if(null==token)break;value=token.value;valueIndex=value.length-1}return null};this.$findClosingBracket=function(bracket,position,typeRe){var closingBracket=this.$brackets[bracket],depth=1,iterator=new TokenIterator(this,position.row,position.column),token=iterator.getCurrentToken();if(!token)token=iterator.stepForward();if(!token)return;if(!typeRe){typeRe=new RegExp("(\\.?"+token.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+")}var valueIndex=position.column-iterator.getCurrentTokenColumn();while(!0){var value=token.value,valueLength=value.length;while(valueIndex<valueLength){var chr=value.charAt(valueIndex);if(chr==closingBracket){depth-=1;if(0==depth){return{row:iterator.getCurrentTokenRow(),column:valueIndex+iterator.getCurrentTokenColumn()}}}else if(chr==bracket){depth+=1}valueIndex+=1}do{token=iterator.stepForward()}while(token&&!typeRe.test(token.type));if(null==token)break;valueIndex=0}return null}}});ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(require,exports){var oop=require("./lib/oop"),lang=require("./lib/lang"),BidiHandler=require("./bidihandler").BidiHandler,config=require("./config"),EventEmitter=require("./lib/event_emitter").EventEmitter,Selection=require("./selection").Selection,TextMode=require("./mode/text").Mode,Range=require("./range").Range,Document=require("./document").Document,BackgroundTokenizer=require("./background_tokenizer").BackgroundTokenizer,SearchHighlight=require("./search_highlight").SearchHighlight,EditSession=function(text,mode){this.$breakpoints=[];this.$decorations=[];this.$frontMarkers={};this.$backMarkers={};this.$markerId=1;this.$undoSelect=!0;this.$foldData=[];this.id="session"+ ++EditSession.$uid;this.$foldData.toString=function(){return this.join("\n")};this.on("changeFold",this.onChangeFold.bind(this));this.$onChange=this.onChange.bind(this);if("object"!=typeof text||!text.getLine)text=new Document(text);this.setDocument(text);this.selection=new Selection(this);this.$bidiHandler=new BidiHandler(this);config.resetOptions(this);this.setMode(mode);config._signal("session",this)};EditSession.$uid=0;(function(){oop.implement(this,EventEmitter);this.setDocument=function(doc){if(this.doc)this.doc.removeListener("change",this.$onChange);this.doc=doc;doc.on("change",this.$onChange);if(this.bgTokenizer)this.bgTokenizer.setDocument(this.getDocument());this.resetCaches()};this.getDocument=function(){return this.doc};this.$resetRowCache=function(docRow){if(!docRow){this.$docRowCache=[];this.$screenRowCache=[];return}var l=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,docRow)+1;if(l>i){this.$docRowCache.splice(i,l);this.$screenRowCache.splice(i,l)}};this.$getRowCacheIndex=function(cacheArray,val){var low=0,hi=cacheArray.length-1;while(low<=hi){var mid=low+hi>>1,c=cacheArray[mid];if(val>c)low=mid+1;else if(val<c)hi=mid-1;else return mid}return low-1};this.resetCaches=function(){this.$modified=!0;this.$wrapData=[];this.$rowLengthCache=[];this.$resetRowCache(0);if(this.bgTokenizer)this.bgTokenizer.start(0)};this.onChangeFold=function(e){var fold=e.data;this.$resetRowCache(fold.start.row)};this.onChange=function(delta){this.$modified=!0;this.$bidiHandler.onChange(delta);this.$resetRowCache(delta.start.row);var removedFolds=this.$updateInternalDataOnChange(delta);if(!this.$fromUndo&&this.$undoManager){if(removedFolds&&removedFolds.length){this.$undoManager.add({action:"removeFolds",folds:removedFolds},this.mergeUndoDeltas);this.mergeUndoDeltas=!0}this.$undoManager.add(delta,this.mergeUndoDeltas);this.mergeUndoDeltas=!0;this.$informUndoManager.schedule()}this.bgTokenizer&&this.bgTokenizer.$updateOnChange(delta);this._signal("change",delta)};this.setValue=function(text){this.doc.setValue(text);this.selection.moveTo(0,0);this.$resetRowCache(0);this.setUndoManager(this.$undoManager);this.getUndoManager().reset()};this.getValue=this.toString=function(){return this.doc.getValue()};this.getSelection=function(){return this.selection};this.getState=function(row){return this.bgTokenizer.getState(row)};this.getTokens=function(row){return this.bgTokenizer.getTokens(row)};this.getTokenAt=function(row,column){var tokens=this.bgTokenizer.getTokens(row),token,c=0;if(null==column){var i=tokens.length-1;c=this.getLine(row).length}else{for(var i=0;i<tokens.length;i++){c+=tokens[i].value.length;if(c>=column)break}}token=tokens[i];if(!token)return null;token.index=i;token.start=c-token.value.length;return token};this.setUndoManager=function(undoManager){this.$undoManager=undoManager;if(this.$informUndoManager)this.$informUndoManager.cancel();if(undoManager){var self=this;undoManager.addSession(this);this.$syncInformUndoManager=function(){self.$informUndoManager.cancel();self.mergeUndoDeltas=!1};this.$informUndoManager=lang.delayedCall(this.$syncInformUndoManager)}else{this.$syncInformUndoManager=function(){}}};this.markUndoGroup=function(){if(this.$syncInformUndoManager)this.$syncInformUndoManager()};this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}};this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager};this.getTabString=function(){if(this.getUseSoftTabs()){return lang.stringRepeat(" ",this.getTabSize())}else{return"\t"}};this.setUseSoftTabs=function(val){this.setOption("useSoftTabs",val)};this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs};this.setTabSize=function(tabSize){this.setOption("tabSize",tabSize)};this.getTabSize=function(){return this.$tabSize};this.isTabStop=function(position){return this.$useSoftTabs&&0===position.column%this.$tabSize};this.setNavigateWithinSoftTabs=function(navigateWithinSoftTabs){this.setOption("navigateWithinSoftTabs",navigateWithinSoftTabs)};this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs};this.$overwrite=!1;this.setOverwrite=function(overwrite){this.setOption("overwrite",overwrite)};this.getOverwrite=function(){return this.$overwrite};this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)};this.addGutterDecoration=function(row,className){if(!this.$decorations[row])this.$decorations[row]="";this.$decorations[row]+=" "+className;this._signal("changeBreakpoint",{})};this.removeGutterDecoration=function(row,className){this.$decorations[row]=(this.$decorations[row]||"").replace(" "+className,"");this._signal("changeBreakpoint",{})};this.getBreakpoints=function(){return this.$breakpoints};this.setBreakpoints=function(rows){this.$breakpoints=[];for(var i=0;i<rows.length;i++){this.$breakpoints[rows[i]]="ace_breakpoint"}this._signal("changeBreakpoint",{})};this.clearBreakpoints=function(){this.$breakpoints=[];this._signal("changeBreakpoint",{})};this.setBreakpoint=function(row,className){if(className===void 0)className="ace_breakpoint";if(className)this.$breakpoints[row]=className;else delete this.$breakpoints[row];this._signal("changeBreakpoint",{})};this.clearBreakpoint=function(row){delete this.$breakpoints[row];this._signal("changeBreakpoint",{})};this.addMarker=function(range,clazz,type,inFront){var id=this.$markerId++,marker={range:range,type:type||"line",renderer:"function"==typeof type?type:null,clazz:clazz,inFront:!!inFront,id:id};if(inFront){this.$frontMarkers[id]=marker;this._signal("changeFrontMarker")}else{this.$backMarkers[id]=marker;this._signal("changeBackMarker")}return id};this.addDynamicMarker=function(marker,inFront){if(!marker.update)return;var id=this.$markerId++;marker.id=id;marker.inFront=!!inFront;if(inFront){this.$frontMarkers[id]=marker;this._signal("changeFrontMarker")}else{this.$backMarkers[id]=marker;this._signal("changeBackMarker")}return marker};this.removeMarker=function(markerId){var marker=this.$frontMarkers[markerId]||this.$backMarkers[markerId];if(!marker)return;var markers=marker.inFront?this.$frontMarkers:this.$backMarkers;delete markers[markerId];this._signal(marker.inFront?"changeFrontMarker":"changeBackMarker")};this.getMarkers=function(inFront){return inFront?this.$frontMarkers:this.$backMarkers};this.highlight=function(re){if(!this.$searchHighlight){var highlight=new SearchHighlight(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(highlight)}this.$searchHighlight.setRegexp(re)};this.highlightLines=function(startRow,endRow,clazz,inFront){if("number"!=typeof endRow){clazz=endRow;endRow=startRow}if(!clazz)clazz="ace_step";var range=new Range(startRow,0,endRow,1/0);range.id=this.addMarker(range,clazz,"fullLine",inFront);return range};this.setAnnotations=function(annotations){this.$annotations=annotations;this._signal("changeAnnotation",{})};this.getAnnotations=function(){return this.$annotations||[]};this.clearAnnotations=function(){this.setAnnotations([])};this.$detectNewLine=function(text){var match=text.match(/^.*?(\r?\n)/m);if(match){this.$autoNewLine=match[1]}else{this.$autoNewLine="\n"}};this.getWordRange=function(row,column){var line=this.getLine(row),inToken=!1;if(0<column)inToken=!!line.charAt(column-1).match(this.tokenRe);if(!inToken)inToken=!!line.charAt(column).match(this.tokenRe);if(inToken)var re=this.tokenRe;else if(/^\s+$/.test(line.slice(column-1,column+1)))var re=/\s/;else var re=this.nonTokenRe;var start=column;if(0<start){do{start--}while(0<=start&&line.charAt(start).match(re));start++}var end=column;while(end<line.length&&line.charAt(end).match(re)){end++}return new Range(row,start,row,end)};this.getAWordRange=function(row,column){var wordRange=this.getWordRange(row,column),line=this.getLine(wordRange.end.row);while(line.charAt(wordRange.end.column).match(/[ \t]/)){wordRange.end.column+=1}return wordRange};this.setNewLineMode=function(newLineMode){this.doc.setNewLineMode(newLineMode)};this.getNewLineMode=function(){return this.doc.getNewLineMode()};this.setUseWorker=function(useWorker){this.setOption("useWorker",useWorker)};this.getUseWorker=function(){return this.$useWorker};this.onReloadTokenizer=function(e){var rows=e.data;this.bgTokenizer.start(rows.first);this._signal("tokenizerUpdate",e)};this.$modes=config.$modes;this.$mode=null;this.$modeId=null;this.setMode=function(mode,cb){if(mode&&"object"===typeof mode){if(mode.getTokenizer)return this.$onChangeMode(mode);var options=mode,path=options.path}else{path=mode||"ace/mode/text"}if(!this.$modes["ace/mode/text"])this.$modes["ace/mode/text"]=new TextMode;if(this.$modes[path]&&!options){this.$onChangeMode(this.$modes[path]);cb&&cb();return}this.$modeId=path;config.loadModule(["mode",path],function(m){if(this.$modeId!==path)return cb&&cb();if(this.$modes[path]&&!options){this.$onChangeMode(this.$modes[path])}else if(m&&m.Mode){m=new m.Mode(options);if(!options){this.$modes[path]=m;m.$id=path}this.$onChangeMode(m)}cb&&cb()}.bind(this));if(!this.$mode)this.$onChangeMode(this.$modes["ace/mode/text"],!0)};this.$onChangeMode=function(mode,$isPlaceholder){if(!$isPlaceholder)this.$modeId=mode.$id;if(this.$mode===mode)return;this.$mode=mode;this.$stopWorker();if(this.$useWorker)this.$startWorker();var tokenizer=mode.getTokenizer();if(tokenizer.addEventListener!==void 0){var onReloadTokenizer=this.onReloadTokenizer.bind(this);tokenizer.addEventListener("update",onReloadTokenizer)}if(!this.bgTokenizer){this.bgTokenizer=new BackgroundTokenizer(tokenizer);var _self=this;this.bgTokenizer.addEventListener("update",function(e){_self._signal("tokenizerUpdate",e)})}else{this.bgTokenizer.setTokenizer(tokenizer)}this.bgTokenizer.setDocument(this.getDocument());this.tokenRe=mode.tokenRe;this.nonTokenRe=mode.nonTokenRe;if(!$isPlaceholder){if(mode.attachToSession)mode.attachToSession(this);this.$options.wrapMethod.set.call(this,this.$wrapMethod);this.$setFolding(mode.foldingRules);this.bgTokenizer.start(0);this._emit("changeMode")}};this.$stopWorker=function(){if(this.$worker){this.$worker.terminate();this.$worker=null}};this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){config.warn("Could not load worker",e);this.$worker=null}};this.getMode=function(){return this.$mode};this.$scrollTop=0;this.setScrollTop=function(scrollTop){if(this.$scrollTop===scrollTop||isNaN(scrollTop))return;this.$scrollTop=scrollTop;this._signal("changeScrollTop",scrollTop)};this.getScrollTop=function(){return this.$scrollTop};this.$scrollLeft=0;this.setScrollLeft=function(scrollLeft){if(this.$scrollLeft===scrollLeft||isNaN(scrollLeft))return;this.$scrollLeft=scrollLeft;this._signal("changeScrollLeft",scrollLeft)};this.getScrollLeft=function(){return this.$scrollLeft};this.getScreenWidth=function(){this.$computeWidth();if(this.lineWidgets)return _Mathmax(this.getLineWidgetMaxWidth(),this.screenWidth);return this.screenWidth};this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var width=0;this.lineWidgets.forEach(function(w){if(w&&w.screenWidth>width)width=w.screenWidth});return this.lineWidgetWidth=width};this.$computeWidth=function(force){if(this.$modified||force){this.$modified=!1;if(this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var lines=this.doc.getAllLines(),cache=this.$rowLengthCache,longestScreenLine=0,foldIndex=0,foldLine=this.$foldData[foldIndex],foldStart=foldLine?foldLine.start.row:1/0,len=lines.length,i=0;i<len;i++){if(i>foldStart){i=foldLine.end.row+1;if(i>=len)break;foldLine=this.$foldData[foldIndex++];foldStart=foldLine?foldLine.start.row:1/0}if(null==cache[i])cache[i]=this.$getStringScreenWidth(lines[i])[0];if(cache[i]>longestScreenLine)longestScreenLine=cache[i]}this.screenWidth=longestScreenLine}};this.getLine=function(row){return this.doc.getLine(row)};this.getLines=function(firstRow,lastRow){return this.doc.getLines(firstRow,lastRow)};this.getLength=function(){return this.doc.getLength()};this.getTextRange=function(range){return this.doc.getTextRange(range||this.selection.getRange())};this.insert=function(position,text){return this.doc.insert(position,text)};this.remove=function(range){return this.doc.remove(range)};this.removeFullLines=function(firstRow,lastRow){return this.doc.removeFullLines(firstRow,lastRow)};this.undoChanges=function(deltas,dontSelect){if(!deltas.length)return;this.$fromUndo=!0;for(var i=deltas.length-1,delta;-1!=i;i--){delta=deltas[i];if("insert"==delta.action||"remove"==delta.action){this.doc.revertDelta(delta)}else if(delta.folds){this.addFolds(delta.folds)}}if(!dontSelect&&this.$undoSelect){if(deltas.selectionBefore)this.selection.fromJSON(deltas.selectionBefore);else this.selection.setRange(this.$getUndoSelection(deltas,!0))}this.$fromUndo=!1};this.redoChanges=function(deltas,dontSelect){if(!deltas.length)return;this.$fromUndo=!0;for(var i=0,delta;i<deltas.length;i++){delta=deltas[i];if("insert"==delta.action||"remove"==delta.action){this.doc.applyDelta(delta)}}if(!dontSelect&&this.$undoSelect){if(deltas.selectionAfter)this.selection.fromJSON(deltas.selectionAfter);else this.selection.setRange(this.$getUndoSelection(deltas,!1))}this.$fromUndo=!1};this.setUndoSelect=function(enable){this.$undoSelect=enable};this.$getUndoSelection=function(deltas,isUndo){function isInsert(delta){return isUndo?"insert"!==delta.action:"insert"===delta.action}for(var range,point,i=0,delta;i<deltas.length;i++){delta=deltas[i];if(!delta.start)continue;if(!range){if(isInsert(delta)){range=Range.fromPoints(delta.start,delta.end)}else{range=Range.fromPoints(delta.start,delta.start)}continue}if(isInsert(delta)){point=delta.start;if(-1==range.compare(point.row,point.column)){range.setStart(point)}point=delta.end;if(1==range.compare(point.row,point.column)){range.setEnd(point)}}else{point=delta.start;if(-1==range.compare(point.row,point.column)){range=Range.fromPoints(delta.start,delta.start)}}}return range};this.replace=function(range,text){return this.doc.replace(range,text)};this.moveText=function(fromRange,toPosition,copy){var text=this.getTextRange(fromRange),folds=this.getFoldsInRange(fromRange),toRange=Range.fromPoints(toPosition,toPosition);if(!copy){this.remove(fromRange);var rowDiff=fromRange.start.row-fromRange.end.row,collDiff=rowDiff?-fromRange.end.column:fromRange.start.column-fromRange.end.column;if(collDiff){if(toRange.start.row==fromRange.end.row&&toRange.start.column>fromRange.end.column)toRange.start.column+=collDiff;if(toRange.end.row==fromRange.end.row&&toRange.end.column>fromRange.end.column)toRange.end.column+=collDiff}if(rowDiff&&toRange.start.row>=fromRange.end.row){toRange.start.row+=rowDiff;toRange.end.row+=rowDiff}}toRange.end=this.insert(toRange.start,text);if(folds.length){var oldStart=fromRange.start,newStart=toRange.start,rowDiff=newStart.row-oldStart.row,collDiff=newStart.column-oldStart.column;this.addFolds(folds.map(function(x){x=x.clone();if(x.start.row==oldStart.row)x.start.column+=collDiff;if(x.end.row==oldStart.row)x.end.column+=collDiff;x.start.row+=rowDiff;x.end.row+=rowDiff;return x}))}return toRange};this.indentRows=function(startRow,endRow,indentString){indentString=indentString.replace(/\t/g,this.getTabString());for(var row=startRow;row<=endRow;row++)this.doc.insertInLine({row:row,column:0},indentString)};this.outdentRows=function(range){for(var rowRange=range.collapseRows(),deleteRange=new Range(0,0,0,0),size=this.getTabSize(),i=rowRange.start.row,line;i<=rowRange.end.row;++i){line=this.getLine(i);deleteRange.start.row=i;deleteRange.end.row=i;for(var j=0;j<size;++j)if(" "!=line.charAt(j))break;if(j<size&&"\t"==line.charAt(j)){deleteRange.start.column=j;deleteRange.end.column=j+1}else{deleteRange.start.column=0;deleteRange.end.column=j}this.remove(deleteRange)}};this.$moveLines=function(firstRow,lastRow,dir){firstRow=this.getRowFoldStart(firstRow);lastRow=this.getRowFoldEnd(lastRow);if(0>dir){var row=this.getRowFoldStart(firstRow+dir);if(0>row)return 0;var diff=row-firstRow}else if(0<dir){var row=this.getRowFoldEnd(lastRow+dir);if(row>this.doc.getLength()-1)return 0;var diff=row-lastRow}else{firstRow=this.$clipRowToDocument(firstRow);lastRow=this.$clipRowToDocument(lastRow);var diff=lastRow-firstRow+1}var range=new Range(firstRow,0,lastRow,_NumberMAX_VALUE),folds=this.getFoldsInRange(range).map(function(x){x=x.clone();x.start.row+=diff;x.end.row+=diff;return x}),lines=0==dir?this.doc.getLines(firstRow,lastRow):this.doc.removeFullLines(firstRow,lastRow);this.doc.insertFullLines(firstRow+diff,lines);folds.length&&this.addFolds(folds);return diff};this.moveLinesUp=function(firstRow,lastRow){return this.$moveLines(firstRow,lastRow,-1)};this.moveLinesDown=function(firstRow,lastRow){return this.$moveLines(firstRow,lastRow,1)};this.duplicateLines=function(firstRow,lastRow){return this.$moveLines(firstRow,lastRow,0)};this.$clipRowToDocument=function(row){return _Mathmax(0,_Mathmin(row,this.doc.getLength()-1))};this.$clipColumnToRow=function(row,column){if(0>column)return 0;return _Mathmin(this.doc.getLine(row).length,column)};this.$clipPositionToDocument=function(row,column){column=_Mathmax(0,column);if(0>row){row=0;column=0}else{var len=this.doc.getLength();if(row>=len){row=len-1;column=this.doc.getLine(len-1).length}else{column=_Mathmin(this.doc.getLine(row).length,column)}}return{row:row,column:column}};this.$clipRangeToDocument=function(range){if(0>range.start.row){range.start.row=0;range.start.column=0}else{range.start.column=this.$clipColumnToRow(range.start.row,range.start.column)}var len=this.doc.getLength()-1;if(range.end.row>len){range.end.row=len;range.end.column=this.doc.getLine(len).length}else{range.end.column=this.$clipColumnToRow(range.end.row,range.end.column)}return range};this.$wrapLimit=80;this.$useWrapMode=!1;this.$wrapLimitRange={min:null,max:null};this.setUseWrapMode=function(useWrapMode){if(useWrapMode!=this.$useWrapMode){this.$useWrapMode=useWrapMode;this.$modified=!0;this.$resetRowCache(0);if(useWrapMode){var len=this.getLength();this.$wrapData=Array(len);this.$updateWrapData(0,len-1)}this._signal("changeWrapMode")}};this.getUseWrapMode=function(){return this.$useWrapMode};this.setWrapLimitRange=function(min,max){if(this.$wrapLimitRange.min!==min||this.$wrapLimitRange.max!==max){this.$wrapLimitRange={min:min,max:max};this.$modified=!0;this.$bidiHandler.markAsDirty();if(this.$useWrapMode)this._signal("changeWrapMode")}};this.adjustWrapLimit=function(desiredLimit,$printMargin){var limits=this.$wrapLimitRange;if(0>limits.max)limits={min:$printMargin,max:$printMargin};var wrapLimit=this.$constrainWrapLimit(desiredLimit,limits.min,limits.max);if(wrapLimit!=this.$wrapLimit&&1<wrapLimit){this.$wrapLimit=wrapLimit;this.$modified=!0;if(this.$useWrapMode){this.$updateWrapData(0,this.getLength()-1);this.$resetRowCache(0);this._signal("changeWrapLimit")}return!0}return!1};this.$constrainWrapLimit=function(wrapLimit,min,max){if(min)wrapLimit=_Mathmax(min,wrapLimit);if(max)wrapLimit=_Mathmin(max,wrapLimit);return wrapLimit};this.getWrapLimit=function(){return this.$wrapLimit};this.setWrapLimit=function(limit){this.setWrapLimitRange(limit,limit)};this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}};this.$updateInternalDataOnChange=function(delta){var useWrapMode=this.$useWrapMode,action=delta.action,start=delta.start,end=delta.end,firstRow=start.row,lastRow=end.row,len=lastRow-firstRow,removedFolds=null;this.$updating=!0;if(0!=len){if("remove"===action){this[useWrapMode?"$wrapData":"$rowLengthCache"].splice(firstRow,len);var foldLines=this.$foldData;removedFolds=this.getFoldsInRange(delta);this.removeFolds(removedFolds);var foldLine=this.getFoldLine(end.row),idx=0;if(foldLine){foldLine.addRemoveChars(end.row,end.column,start.column-end.column);foldLine.shiftRow(-len);var foldLineBefore=this.getFoldLine(firstRow);if(foldLineBefore&&foldLineBefore!==foldLine){foldLineBefore.merge(foldLine);foldLine=foldLineBefore}idx=foldLines.indexOf(foldLine)+1}for(idx;idx<foldLines.length;idx++){var foldLine=foldLines[idx];if(foldLine.start.row>=end.row){foldLine.shiftRow(-len)}}lastRow=firstRow}else{var args=Array(len);args.unshift(firstRow,0);var arr=useWrapMode?this.$wrapData:this.$rowLengthCache;arr.splice.apply(arr,args);var foldLines=this.$foldData,foldLine=this.getFoldLine(firstRow),idx=0;if(foldLine){var cmp=foldLine.range.compareInside(start.row,start.column);if(0==cmp){foldLine=foldLine.split(start.row,start.column);if(foldLine){foldLine.shiftRow(len);foldLine.addRemoveChars(lastRow,0,end.column-start.column)}}else if(-1==cmp){foldLine.addRemoveChars(firstRow,0,end.column-start.column);foldLine.shiftRow(len)}idx=foldLines.indexOf(foldLine)+1}for(idx;idx<foldLines.length;idx++){var foldLine=foldLines[idx];if(foldLine.start.row>=firstRow){foldLine.shiftRow(len)}}}}else{len=_Mathabs(delta.start.column-delta.end.column);if("remove"===action){removedFolds=this.getFoldsInRange(delta);this.removeFolds(removedFolds);len=-len}var foldLine=this.getFoldLine(firstRow);if(foldLine){foldLine.addRemoveChars(firstRow,start.column,len)}}if(useWrapMode&&this.$wrapData.length!=this.doc.getLength()){console.error("doc.getLength() and $wrapData.length have to be the same!")}this.$updating=!1;if(useWrapMode)this.$updateWrapData(firstRow,lastRow);else this.$updateRowLengthCache(firstRow,lastRow);return removedFolds};this.$updateRowLengthCache=function(firstRow,lastRow){this.$rowLengthCache[firstRow]=null;this.$rowLengthCache[lastRow]=null};this.$updateWrapData=function(firstRow,lastRow){var lines=this.doc.getAllLines(),tabSize=this.getTabSize(),wrapData=this.$wrapData,wrapLimit=this.$wrapLimit,tokens,foldLine,row=firstRow;lastRow=_Mathmin(lastRow,lines.length-1);while(row<=lastRow){foldLine=this.getFoldLine(row,foldLine);if(!foldLine){tokens=this.$getDisplayTokens(lines[row]);wrapData[row]=this.$computeWrapSplits(tokens,wrapLimit,tabSize);row++}else{tokens=[];foldLine.walk(function(placeholder,row,column,lastColumn){var walkTokens;if(null!=placeholder){walkTokens=this.$getDisplayTokens(placeholder,tokens.length);walkTokens[0]=PLACEHOLDER_START;for(var i=1;i<walkTokens.length;i++){walkTokens[i]=PLACEHOLDER_BODY}}else{walkTokens=this.$getDisplayTokens(lines[row].substring(lastColumn,column),tokens.length)}tokens=tokens.concat(walkTokens)}.bind(this),foldLine.end.row,lines[foldLine.end.row].length+1);wrapData[foldLine.start.row]=this.$computeWrapSplits(tokens,wrapLimit,tabSize);row=foldLine.end.row+1}}};var CHAR=1,CHAR_EXT=2,PLACEHOLDER_START=3,PLACEHOLDER_BODY=4,PUNCTUATION=9,SPACE=10,TAB=11,TAB_SPACE=12;this.$computeWrapSplits=function(tokens,wrapLimit,tabSize){if(0==tokens.length){return[]}var splits=[],displayLength=tokens.length,lastSplit=0,lastDocSplit=0,isCode=this.$wrapAsCode,indentedSoftWrap=this.$indentedSoftWrap,maxIndent=wrapLimit<=_Mathmax(2*tabSize,8)||!1===indentedSoftWrap?0:_Mathfloor(wrapLimit/2);function getWrapIndent(){var indentation=0;if(0===maxIndent)return indentation;if(indentedSoftWrap){for(var i=0,token;i<tokens.length;i++){token=tokens[i];if(token==SPACE)indentation+=1;else if(token==TAB)indentation+=tabSize;else if(token==TAB_SPACE)continue;else break}}if(isCode&&!1!==indentedSoftWrap)indentation+=tabSize;return _Mathmin(indentation,maxIndent)}function addSplit(screenPos){for(var len=screenPos-lastSplit,i=lastSplit,ch;i<screenPos;i++){ch=tokens[i];if(12===ch||2===ch)len-=1}if(!splits.length){indent=getWrapIndent();splits.indent=indent}lastDocSplit+=len;splits.push(lastDocSplit);lastSplit=screenPos}var indent=0;while(displayLength-lastSplit>wrapLimit-indent){var split=lastSplit+wrapLimit-indent;if(tokens[split-1]>=SPACE&&tokens[split]>=SPACE){addSplit(split);continue}if(tokens[split]==PLACEHOLDER_START||tokens[split]==PLACEHOLDER_BODY){for(split;split!=lastSplit-1;split--){if(tokens[split]==PLACEHOLDER_START){break}}if(split>lastSplit){addSplit(split);continue}split=lastSplit+wrapLimit;for(split;split<tokens.length;split++){if(tokens[split]!=PLACEHOLDER_BODY){break}}if(split==tokens.length){break}addSplit(split);continue}var minSplit=_Mathmax(split-(wrapLimit-(wrapLimit>>2)),lastSplit-1);while(split>minSplit&&tokens[split]<PLACEHOLDER_START){split--}if(isCode){while(split>minSplit&&tokens[split]<PLACEHOLDER_START){split--}while(split>minSplit&&tokens[split]==PUNCTUATION){split--}}else{while(split>minSplit&&tokens[split]<SPACE){split--}}if(split>minSplit){addSplit(++split);continue}split=lastSplit+wrapLimit;if(tokens[split]==CHAR_EXT)split--;addSplit(split-indent)}return splits};this.$getDisplayTokens=function(str,offset){var arr=[],tabSize;offset=offset||0;for(var i=0,c;i<str.length;i++){c=str.charCodeAt(i);if(9==c){tabSize=this.getScreenTabSize(arr.length+offset);arr.push(TAB);for(var n=1;n<tabSize;n++){arr.push(TAB_SPACE)}}else if(32==c){arr.push(SPACE)}else if(39<c&&48>c||57<c&&64>c){arr.push(PUNCTUATION)}else if(4352<=c&&isFullWidth(c)){arr.push(CHAR,CHAR_EXT)}else{arr.push(CHAR)}}return arr};this.$getStringScreenWidth=function(str,maxScreenColumn,screenColumn){if(0==maxScreenColumn)return[0,0];if(null==maxScreenColumn)maxScreenColumn=1/0;screenColumn=screenColumn||0;var c,column;for(column=0;column<str.length;column++){c=str.charCodeAt(column);if(9==c){screenColumn+=this.getScreenTabSize(screenColumn)}else if(4352<=c&&isFullWidth(c)){screenColumn+=2}else{screenColumn+=1}if(screenColumn>maxScreenColumn){break}}return[screenColumn,column]};this.lineWidgets=null;this.getRowLength=function(row){if(this.lineWidgets)var h=this.lineWidgets[row]&&this.lineWidgets[row].rowCount||0;else h=0;if(!this.$useWrapMode||!this.$wrapData[row]){return 1+h}else{return this.$wrapData[row].length+1+h}};this.getRowLineCount=function(row){if(!this.$useWrapMode||!this.$wrapData[row]){return 1}else{return this.$wrapData[row].length+1}};this.getRowWrapIndent=function(screenRow){if(this.$useWrapMode){var pos=this.screenToDocumentPosition(screenRow,Number.MAX_VALUE),splits=this.$wrapData[pos.row];return splits.length&&splits[0]<pos.column?splits.indent:0}else{return 0}};this.getScreenLastRowColumn=function(screenRow){var pos=this.screenToDocumentPosition(screenRow,Number.MAX_VALUE);return this.documentToScreenColumn(pos.row,pos.column)};this.getDocumentLastRowColumn=function(docRow,docColumn){var screenRow=this.documentToScreenRow(docRow,docColumn);return this.getScreenLastRowColumn(screenRow)};this.getDocumentLastRowColumnPosition=function(docRow,docColumn){var screenRow=this.documentToScreenRow(docRow,docColumn);return this.screenToDocumentPosition(screenRow,_NumberMAX_VALUE/10)};this.getRowSplitData=function(row){if(!this.$useWrapMode){}else{return this.$wrapData[row]}};this.getScreenTabSize=function(screenColumn){return this.$tabSize-screenColumn%this.$tabSize};this.screenToDocumentRow=function(screenRow,screenColumn){return this.screenToDocumentPosition(screenRow,screenColumn).row};this.screenToDocumentColumn=function(screenRow,screenColumn){return this.screenToDocumentPosition(screenRow,screenColumn).column};this.screenToDocumentPosition=function(screenRow,screenColumn,offsetX){if(0>screenRow)return{row:0,column:0};var line,docRow=0,docColumn=0,column,row=0,rowLength=0,rowCache=this.$screenRowCache,i=this.$getRowCacheIndex(rowCache,screenRow),l=rowCache.length;if(l&&0<=i){var row=rowCache[i],docRow=this.$docRowCache[i],doCache=screenRow>rowCache[l-1]}else{var doCache=!l}var maxRow=this.getLength()-1,foldLine=this.getNextFoldLine(docRow),foldStart=foldLine?foldLine.start.row:1/0;while(row<=screenRow){rowLength=this.getRowLength(docRow);if(row+rowLength>screenRow||docRow>=maxRow){break}else{row+=rowLength;docRow++;if(docRow>foldStart){docRow=foldLine.end.row+1;foldLine=this.getNextFoldLine(docRow,foldLine);foldStart=foldLine?foldLine.start.row:1/0}}if(doCache){this.$docRowCache.push(docRow);this.$screenRowCache.push(row)}}if(foldLine&&foldLine.start.row<=docRow){line=this.getFoldDisplayLine(foldLine);docRow=foldLine.start.row}else if(row+rowLength<=screenRow||docRow>maxRow){return{row:maxRow,column:this.getLine(maxRow).length}}else{line=this.getLine(docRow);foldLine=null}var wrapIndent=0,splitIndex=_Mathfloor(screenRow-row);if(this.$useWrapMode){var splits=this.$wrapData[docRow];if(splits){column=splits[splitIndex];if(0<splitIndex&&splits.length){wrapIndent=splits.indent;docColumn=splits[splitIndex-1]||splits[splits.length-1];line=line.substring(docColumn)}}}if(offsetX!==void 0&&this.$bidiHandler.isBidiRow(row+splitIndex,docRow,splitIndex))screenColumn=this.$bidiHandler.offsetToCol(offsetX);docColumn+=this.$getStringScreenWidth(line,screenColumn-wrapIndent)[1];if(this.$useWrapMode&&docColumn>=column)docColumn=column-1;if(foldLine)return foldLine.idxToPosition(docColumn);return{row:docRow,column:docColumn}};this.documentToScreenPosition=function(docRow,docColumn){if("undefined"===typeof docColumn)var pos=this.$clipPositionToDocument(docRow.row,docRow.column);else pos=this.$clipPositionToDocument(docRow,docColumn);docRow=pos.row;docColumn=pos.column;var screenRow=0,foldStartRow=null,fold=null;fold=this.getFoldAt(docRow,docColumn,1);if(fold){docRow=fold.start.row;docColumn=fold.start.column}var rowEnd,row=0,rowCache=this.$docRowCache,i=this.$getRowCacheIndex(rowCache,docRow),l=rowCache.length;if(l&&0<=i){var row=rowCache[i],screenRow=this.$screenRowCache[i],doCache=docRow>rowCache[l-1]}else{var doCache=!l}var foldLine=this.getNextFoldLine(row),foldStart=foldLine?foldLine.start.row:1/0;while(row<docRow){if(row>=foldStart){rowEnd=foldLine.end.row+1;if(rowEnd>docRow)break;foldLine=this.getNextFoldLine(rowEnd,foldLine);foldStart=foldLine?foldLine.start.row:1/0}else{rowEnd=row+1}screenRow+=this.getRowLength(row);row=rowEnd;if(doCache){this.$docRowCache.push(row);this.$screenRowCache.push(screenRow)}}var textLine="";if(foldLine&&row>=foldStart){textLine=this.getFoldDisplayLine(foldLine,docRow,docColumn);foldStartRow=foldLine.start.row}else{textLine=this.getLine(docRow).substring(0,docColumn);foldStartRow=docRow}var wrapIndent=0;if(this.$useWrapMode){var wrapRow=this.$wrapData[foldStartRow];if(wrapRow){var screenRowOffset=0;while(textLine.length>=wrapRow[screenRowOffset]){screenRow++;screenRowOffset++}textLine=textLine.substring(wrapRow[screenRowOffset-1]||0,textLine.length);wrapIndent=0<screenRowOffset?wrapRow.indent:0}}return{row:screenRow,column:wrapIndent+this.$getStringScreenWidth(textLine)[0]}};this.documentToScreenColumn=function(row,docColumn){return this.documentToScreenPosition(row,docColumn).column};this.documentToScreenRow=function(docRow,docColumn){return this.documentToScreenPosition(docRow,docColumn).row};this.getScreenLength=function(){var screenRows=0,fold=null;if(!this.$useWrapMode){screenRows=this.getLength();for(var foldData=this.$foldData,i=0;i<foldData.length;i++){fold=foldData[i];screenRows-=fold.end.row-fold.start.row}}else{var lastRow=this.$wrapData.length,row=0,i=0,fold=this.$foldData[i++],foldStart=fold?fold.start.row:1/0;while(row<lastRow){var splits=this.$wrapData[row];screenRows+=splits?splits.length+1:1;row++;if(row>foldStart){row=fold.end.row+1;fold=this.$foldData[i++];foldStart=fold?fold.start.row:1/0}}}if(this.lineWidgets)screenRows+=this.$getWidgetScreenLength();return screenRows};this.$setFontMetrics=function(fm){if(!this.$enableVarChar)return;this.$getStringScreenWidth=function(str,maxScreenColumn,screenColumn){if(0===maxScreenColumn)return[0,0];if(!maxScreenColumn)maxScreenColumn=1/0;screenColumn=screenColumn||0;var c,column;for(column=0;column<str.length;column++){c=str.charAt(column);if("\t"===c){screenColumn+=this.getScreenTabSize(screenColumn)}else{screenColumn+=fm.getCharacterWidth(c)}if(screenColumn>maxScreenColumn){break}}return[screenColumn,column]}};this.destroy=function(){if(this.bgTokenizer){this.bgTokenizer.setDocument(null);this.bgTokenizer=null}this.$stopWorker()};this.isFullWidth=isFullWidth;function isFullWidth(c){if(4352>c)return!1;return 4352<=c&&4447>=c||4515<=c&&4519>=c||4602<=c&&4607>=c||9001<=c&&9002>=c||11904<=c&&11929>=c||11931<=c&&12019>=c||12032<=c&&12245>=c||12272<=c&&12283>=c||12288<=c&&12350>=c||12353<=c&&12438>=c||12441<=c&&12543>=c||12549<=c&&12589>=c||12593<=c&&12686>=c||12688<=c&&12730>=c||12736<=c&&12771>=c||12784<=c&&12830>=c||12832<=c&&12871>=c||12880<=c&&13054>=c||13056<=c&&19903>=c||19968<=c&&42124>=c||42128<=c&&42182>=c||43360<=c&&43388>=c||44032<=c&&55203>=c||55216<=c&&55238>=c||55243<=c&&55291>=c||63744<=c&&64255>=c||65040<=c&&65049>=c||65072<=c&&65106>=c||65108<=c&&65126>=c||65128<=c&&65131>=c||65281<=c&&65376>=c||65504<=c&&65510>=c}}).call(EditSession.prototype);require("./edit_session/folding").Folding.call(EditSession.prototype);require("./edit_session/bracket_match").BracketMatch.call(EditSession.prototype);config.defineOptions(EditSession.prototype,"session",{wrap:{set:function(value){if(!value||"off"==value)value=!1;else if("free"==value)value=!0;else if("printMargin"==value)value=-1;else if("string"==typeof value)value=parseInt(value,10)||!1;if(this.$wrap==value)return;this.$wrap=value;if(!value){this.setUseWrapMode(!1)}else{var col="number"==typeof value?value:null;this.setWrapLimitRange(col,col);this.setUseWrapMode(!0)}},get:function(){if(this.getUseWrapMode()){if(-1==this.$wrap)return"printMargin";if(!this.getWrapLimitRange().min)return"free";return this.$wrap}return"off"},handlesSet:!0},wrapMethod:{set:function(val){val="auto"==val?"text"!=this.$mode.type:"text"!=val;if(val!=this.$wrapAsCode){this.$wrapAsCode=val;if(this.$useWrapMode){this.$useWrapMode=!1;this.setUseWrapMode(!0)}}},initialValue:"auto"},indentedSoftWrap:{set:function(){if(this.$useWrapMode){this.$useWrapMode=!1;this.setUseWrapMode(!0)}},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(useWorker){this.$useWorker=useWorker;this.$stopWorker();if(useWorker)this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(tabSize){if(isNaN(tabSize)||this.$tabSize===tabSize)return;this.$modified=!0;this.$rowLengthCache=[];this.$tabSize=tabSize;this._signal("changeTabSize")},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(val){this.setFoldStyle(val)},handlesSet:!0},overwrite:{set:function(){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(val){this.doc.setNewLineMode(val)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(val){this.setMode(val)},get:function(){return this.$modeId},handlesSet:!0}});exports.EditSession=EditSession});ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(require,exports){var lang=require("./lib/lang"),oop=require("./lib/oop"),Range=require("./range").Range,Search=function(){this.$options={}};(function(){this.set=function(options){oop.mixin(this.$options,options);return this};this.getOptions=function(){return lang.copyObject(this.$options)};this.setOptions=function(options){this.$options=options};this.find=function(session){var options=this.$options,iterator=this.$matchIterator(session,options);if(!iterator)return!1;var firstRange=null;iterator.forEach(function(sr,sc,er,ec){firstRange=new Range(sr,sc,er,ec);if(sc==ec&&options.start&&options.start.start&&!1!=options.skipCurrent&&firstRange.isEqual(options.start)){firstRange=null;return!1}return!0});return firstRange};this.findAll=function(session){var options=this.$options;if(!options.needle)return[];this.$assembleRegExp(options);var range=options.range,lines=range?session.getLines(range.start.row,range.end.row):session.doc.getAllLines(),ranges=[],re=options.re;if(options.$isMultiLine){var len=re.length,maxRow=lines.length-len,prevRange;outer:for(var row=re.offset||0;row<=maxRow;row++){for(var j=0;j<len;j++)if(-1==lines[row+j].search(re[j]))continue outer;var startLine=lines[row],line=lines[row+len-1],startIndex=startLine.length-startLine.match(re[0])[0].length,endIndex=line.match(re[len-1])[0].length;if(prevRange&&prevRange.end.row===row&&prevRange.end.column>startIndex){continue}ranges.push(prevRange=new Range(row,startIndex,row+len-1,endIndex));if(2<len)row=row+len-2}}else{for(var i=0,matches;i<lines.length;i++){matches=lang.getMatchOffsets(lines[i],re);for(var j=0,match;j<matches.length;j++){match=matches[j];ranges.push(new Range(i,match.offset,i,match.offset+match.length))}}}if(range){var startColumn=range.start.column,endColumn=range.start.column,i=0,j=ranges.length-1;while(i<j&&ranges[i].start.column<startColumn&&ranges[i].start.row==range.start.row)i++;while(i<j&&ranges[j].end.column>endColumn&&ranges[j].end.row==range.end.row)j--;ranges=ranges.slice(i,j+1);for(i=0,j=ranges.length;i<j;i++){ranges[i].start.row+=range.start.row;ranges[i].end.row+=range.start.row}}return ranges};this.replace=function(input,replacement){var options=this.$options,re=this.$assembleRegExp(options);if(options.$isMultiLine)return replacement;if(!re)return;var match=re.exec(input);if(!match||match[0].length!=input.length)return null;replacement=input.replace(re,replacement);if(options.preserveCase){replacement=replacement.split("");for(var i=_Mathmin(input.length,input.length),ch;i--;){ch=input[i];if(ch&&ch.toLowerCase()!=ch)replacement[i]=replacement[i].toUpperCase();else replacement[i]=replacement[i].toLowerCase()}replacement=replacement.join("")}return replacement};this.$assembleRegExp=function(options,$disableFakeMultiline){if(options.needle instanceof RegExp)return options.re=options.needle;var needle=options.needle;if(!options.needle)return options.re=!1;if(!options.regExp)needle=lang.escapeRegExp(needle);if(options.wholeWord)needle=addWordBoundary(needle,options);var modifier=options.caseSensitive?"gm":"gmi";options.$isMultiLine=!$disableFakeMultiline&&/[\n\r]/.test(needle);if(options.$isMultiLine)return options.re=this.$assembleMultilineRegExp(needle,modifier);try{var re=new RegExp(needle,modifier)}catch(e){re=!1}return options.re=re};this.$assembleMultilineRegExp=function(needle,modifier){for(var parts=needle.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),re=[],i=0;i<parts.length;i++)try{re.push(new RegExp(parts[i],modifier))}catch(e){return!1}return re};this.$matchIterator=function(session,options){var re=this.$assembleRegExp(options);if(!re)return!1;var backwards=!0==options.backwards,skipCurrent=!1!=options.skipCurrent,range=options.range,start=options.start;if(!start)start=range?range[backwards?"end":"start"]:session.selection.getRange();if(start.start)start=start[skipCurrent!=backwards?"end":"start"];var firstRow=range?range.start.row:0,lastRow=range?range.end.row:session.getLength()-1;if(backwards){var forEach=function(callback){var row=start.row;if(forEachInLine(row,start.column,callback))return;for(row--;row>=firstRow;row--)if(forEachInLine(row,Number.MAX_VALUE,callback))return;if(!1==options.wrap)return;for(row=lastRow,firstRow=start.row;row>=firstRow;row--)if(forEachInLine(row,Number.MAX_VALUE,callback))return}}else{var forEach=function(callback){var row=start.row;if(forEachInLine(row,start.column,callback))return;for(row=row+1;row<=lastRow;row++)if(forEachInLine(row,0,callback))return;if(!1==options.wrap)return;for(row=firstRow,lastRow=start.row;row<=lastRow;row++)if(forEachInLine(row,0,callback))return}}if(options.$isMultiLine){var len=re.length,forEachInLine=function(row,offset,callback){var startRow=backwards?row-len+1:row;if(0>startRow)return;var line=session.getLine(startRow),startIndex=line.search(re[0]);if(!backwards&&startIndex<offset||-1===startIndex)return;for(var i=1;i<len;i++){line=session.getLine(startRow+i);if(-1==line.search(re[i]))return}var endIndex=line.match(re[len-1])[0].length;if(backwards&&endIndex>offset)return;if(callback(startRow,startIndex,startRow+len-1,endIndex))return!0}}else if(backwards){var forEachInLine=function(row,endIndex,callback){var line=session.getLine(row),matches=[],m,last=0;re.lastIndex=0;while(m=re.exec(line)){var length=m[0].length;last=m.index;if(!length){if(last>=line.length)break;re.lastIndex=last+=1}if(m.index+length>endIndex)break;matches.push(m.index,length)}for(var i=matches.length-1;0<=i;i-=2){var column=matches[i-1],length=matches[i];if(callback(row,column,row,column+length))return!0}}}else{var forEachInLine=function(row,startIndex,callback){var line=session.getLine(row),last,m;re.lastIndex=startIndex;while(m=re.exec(line)){var length=m[0].length;last=m.index;if(callback(row,last,row,last+length))return!0;if(!length){re.lastIndex=last+=1;if(last>=line.length)return!1}}}}return{forEach:forEach}}}).call(Search.prototype);function addWordBoundary(needle,options){function wordBoundary(c){if(/\w/.test(c)||options.regExp)return"\\b";return""}return wordBoundary(needle[0])+needle+wordBoundary(needle[needle.length-1])}exports.Search=Search});ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(require,exports){var keyUtil=require("../lib/keys"),useragent=require("../lib/useragent"),KEY_MODS=keyUtil.KEY_MODS;function HashHandler(config,platform){this.platform=platform||(useragent.isMac?"mac":"win");this.commands={};this.commandKeyBinding={};this.addCommands(config);this.$singleCommand=!0}function MultiHashHandler(config,platform){HashHandler.call(this,config,platform);this.$singleCommand=!1}MultiHashHandler.prototype=HashHandler.prototype;(function(){this.addCommand=function(command){if(this.commands[command.name])this.removeCommand(command);this.commands[command.name]=command;if(command.bindKey)this._buildKeyHash(command)};this.removeCommand=function(command,keepCommand){var name=command&&("string"===typeof command?command:command.name);command=this.commands[name];if(!keepCommand)delete this.commands[name];var ckb=this.commandKeyBinding;for(var keyId in ckb){var cmdGroup=ckb[keyId];if(cmdGroup==command){delete ckb[keyId]}else if(Array.isArray(cmdGroup)){var i=cmdGroup.indexOf(command);if(-1!=i){cmdGroup.splice(i,1);if(1==cmdGroup.length)ckb[keyId]=cmdGroup[0]}}}};this.bindKey=function(key,command,position){if("object"==typeof key&&key){if(position==void 0)position=key.position;key=key[this.platform]}if(!key)return;if("function"==typeof command)return this.addCommand({exec:command,bindKey:key,name:command.name||key});key.split("|").forEach(function(keyPart){var chain="";if(-1!=keyPart.indexOf(" ")){var parts=keyPart.split(/\s+/);keyPart=parts.pop();parts.forEach(function(keyPart){var binding=this.parseKeys(keyPart),id=KEY_MODS[binding.hashId]+binding.key;chain+=(chain?" ":"")+id;this._addCommandToBinding(chain,"chainKeys")},this);chain+=" "}var binding=this.parseKeys(keyPart),id=KEY_MODS[binding.hashId]+binding.key;this._addCommandToBinding(chain+id,command,position)},this)};function getPosition(command){return"object"==typeof command&&command.bindKey&&command.bindKey.position||(command.isDefault?-100:0)}this._addCommandToBinding=function(keyId,command,position){var ckb=this.commandKeyBinding,i;if(!command){delete ckb[keyId]}else if(!ckb[keyId]||this.$singleCommand){ckb[keyId]=command}else{if(!Array.isArray(ckb[keyId])){ckb[keyId]=[ckb[keyId]]}else if(-1!=(i=ckb[keyId].indexOf(command))){ckb[keyId].splice(i,1)}if("number"!=typeof position){position=getPosition(command)}var commands=ckb[keyId];for(i=0;i<commands.length;i++){var other=commands[i],otherPos=getPosition(other);if(otherPos>position)break}commands.splice(i,0,command)}};this.addCommands=function(commands){commands&&Object.keys(commands).forEach(function(name){var command=commands[name];if(!command)return;if("string"===typeof command)return this.bindKey(command,name);if("function"===typeof command)command={exec:command};if("object"!==typeof command)return;if(!command.name)command.name=name;this.addCommand(command)},this)};this.removeCommands=function(commands){Object.keys(commands).forEach(function(name){this.removeCommand(commands[name])},this)};this.bindKeys=function(keyList){Object.keys(keyList).forEach(function(key){this.bindKey(key,keyList[key])},this)};this._buildKeyHash=function(command){this.bindKey(command.bindKey,command)};this.parseKeys=function(keys){var parts=keys.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(x){return x}),key=parts.pop(),keyCode=keyUtil[key];if(keyUtil.FUNCTION_KEYS[keyCode])key=keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();else if(!parts.length)return{key:key,hashId:-1};else if(1==parts.length&&"shift"==parts[0])return{key:key.toUpperCase(),hashId:-1};for(var hashId=0,i=parts.length,modifier;i--;){modifier=keyUtil.KEY_MODS[parts[i]];if(null==modifier){if("undefined"!=typeof console)console.error("invalid modifier "+parts[i]+" in "+keys);return!1}hashId|=modifier}return{key:key,hashId:hashId}};this.findKeyCommand=function(hashId,keyString){var key=KEY_MODS[hashId]+keyString;return this.commandKeyBinding[key]};this.handleKeyboard=function(data,hashId,keyString,keyCode){if(0>keyCode)return;var key=KEY_MODS[hashId]+keyString,command=this.commandKeyBinding[key];if(data.$keyChain){data.$keyChain+=" "+key;command=this.commandKeyBinding[data.$keyChain]||command}if(command){if("chainKeys"==command||"chainKeys"==command[command.length-1]){data.$keyChain=data.$keyChain||key;return{command:"null"}}}if(data.$keyChain){if((!hashId||4==hashId)&&1==keyString.length)data.$keyChain=data.$keyChain.slice(0,-key.length-1);else if(-1==hashId||0<keyCode)data.$keyChain=""}return{command:command}};this.getStatusText=function(editor,data){return data.$keyChain||""}}).call(HashHandler.prototype);exports.HashHandler=HashHandler;exports.MultiHashHandler=MultiHashHandler});ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(require,exports){var oop=require("../lib/oop"),MultiHashHandler=require("../keyboard/hash_handler").MultiHashHandler,EventEmitter=require("../lib/event_emitter").EventEmitter,CommandManager=function(platform,commands){MultiHashHandler.call(this,commands,platform);this.byName=this.commands;this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};oop.inherits(CommandManager,MultiHashHandler);(function(){oop.implement(this,EventEmitter);this.exec=function(command,editor,args){if(Array.isArray(command)){for(var i=command.length;i--;){if(this.exec(command[i],editor,args))return!0}return!1}if("string"===typeof command)command=this.commands[command];if(!command)return!1;if(editor&&editor.$readOnly&&!command.readOnly)return!1;if(!1!=this.$checkCommandState&&command.isAvailable&&!command.isAvailable(editor))return!1;var e={editor:editor,command:command,args:args};e.returnValue=this._emit("exec",e);this._signal("afterExec",e);return!1===e.returnValue?!1:!0};this.toggleRecording=function(editor){if(this.$inReplay)return;editor&&editor._emit("changeStatus");if(this.recording){this.macro.pop();this.removeEventListener("exec",this.$addCommandToMacro);if(!this.macro.length)this.macro=this.oldMacro;return this.recording=!1}if(!this.$addCommandToMacro){this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)}this.oldMacro=this.macro;this.macro=[];this.on("exec",this.$addCommandToMacro);return this.recording=!0};this.replay=function(editor){if(this.$inReplay||!this.macro)return;if(this.recording)return this.toggleRecording(editor);try{this.$inReplay=!0;this.macro.forEach(function(x){if("string"==typeof x)this.exec(x,editor);else this.exec(x[0],editor,x[1])},this)}finally{this.$inReplay=!1}};this.trimMacro=function(m){return m.map(function(x){if("string"!=typeof x[0])x[0]=x[0].name;if(!x[1])x=x[0];return x})}}).call(CommandManager.prototype);exports.CommandManager=CommandManager});ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(require,exports){var lang=require("../lib/lang"),config=require("../config"),Range=require("../range").Range;function bindKey(win,mac){return{win:win,mac:mac}}exports.commands=[{name:"showSettingsMenu",bindKey:bindKey("Ctrl-,","Command-,"),exec:function(editor){config.loadModule("ace/ext/settings_menu",function(module){module.init(editor);editor.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:bindKey("Alt-E","F4"),exec:function(editor){config.loadModule("./ext/error_marker",function(module){module.showErrorMarker(editor,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:bindKey("Alt-Shift-E","Shift-F4"),exec:function(editor){config.loadModule("./ext/error_marker",function(module){module.showErrorMarker(editor,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:bindKey("Ctrl-A","Command-A"),exec:function(editor){editor.selectAll()},readOnly:!0},{name:"centerselection",bindKey:bindKey(null,"Ctrl-L"),exec:function(editor){editor.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:bindKey("Ctrl-L","Command-L"),exec:function(editor,line){if("number"!==typeof line)line=parseInt(prompt("Enter line number:"),10);if(!isNaN(line)){editor.gotoLine(line)}},readOnly:!0},{name:"fold",bindKey:bindKey("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(editor){editor.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:bindKey("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(editor){editor.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:bindKey("F2","F2"),exec:function(editor){editor.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:bindKey("Alt-F2","Alt-F2"),exec:function(editor){editor.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:bindKey(null,"Ctrl-Command-Option-0"),exec:function(editor){editor.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:bindKey("Alt-0","Command-Option-0"),exec:function(editor){editor.session.foldAll();editor.session.unfold(editor.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:bindKey("Alt-Shift-0","Command-Option-Shift-0"),exec:function(editor){editor.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:bindKey("Ctrl-K","Command-G"),exec:function(editor){editor.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:bindKey("Ctrl-Shift-K","Command-Shift-G"),exec:function(editor){editor.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:bindKey("Alt-K","Ctrl-G"),exec:function(editor){if(editor.selection.isEmpty())editor.selection.selectWord();else editor.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:bindKey("Alt-Shift-K","Ctrl-Shift-G"),exec:function(editor){if(editor.selection.isEmpty())editor.selection.selectWord();else editor.findPrevious()},readOnly:!0},{name:"find",bindKey:bindKey("Ctrl-F","Command-F"),exec:function(editor){config.loadModule("ace/ext/searchbox",function(e){e.Search(editor)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(editor){editor.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:bindKey("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(editor){editor.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:bindKey("Ctrl-Home","Command-Home|Command-Up"),exec:function(editor){editor.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:bindKey("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(editor){editor.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:bindKey("Up","Up|Ctrl-P"),exec:function(editor,args){editor.navigateUp(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:bindKey("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(editor){editor.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:bindKey("Ctrl-End","Command-End|Command-Down"),exec:function(editor){editor.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:bindKey("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(editor){editor.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:bindKey("Down","Down|Ctrl-N"),exec:function(editor,args){editor.navigateDown(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:bindKey("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(editor){editor.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:bindKey("Ctrl-Left","Option-Left"),exec:function(editor){editor.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:bindKey("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(editor){editor.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:bindKey("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(editor){editor.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:bindKey("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(editor){editor.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:bindKey("Left","Left|Ctrl-B"),exec:function(editor,args){editor.navigateLeft(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:bindKey("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(editor){editor.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:bindKey("Ctrl-Right","Option-Right"),exec:function(editor){editor.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:bindKey("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(editor){editor.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:bindKey("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(editor){editor.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:bindKey("Shift-Right","Shift-Right"),exec:function(editor){editor.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:bindKey("Right","Right|Ctrl-F"),exec:function(editor,args){editor.navigateRight(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(editor){editor.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:bindKey(null,"Option-PageDown"),exec:function(editor){editor.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:bindKey("PageDown","PageDown|Ctrl-V"),exec:function(editor){editor.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(editor){editor.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:bindKey(null,"Option-PageUp"),exec:function(editor){editor.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(editor){editor.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:bindKey("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:bindKey("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(editor){editor.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(editor){editor.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:bindKey("Ctrl-Alt-E","Command-Option-E"),exec:function(editor){editor.commands.toggleRecording(editor)},readOnly:!0},{name:"replaymacro",bindKey:bindKey("Ctrl-Shift-E","Command-Shift-E"),exec:function(editor){editor.commands.replay(editor)},readOnly:!0},{name:"jumptomatching",bindKey:bindKey("Ctrl-P","Ctrl-P"),exec:function(editor){editor.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:bindKey("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(editor){editor.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:bindKey("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(editor){editor.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:bindKey(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(){},readOnly:!0},{name:"cut",exec:function(editor){var cutLine=editor.$copyWithEmptySelection&&editor.selection.isEmpty(),range=cutLine?editor.selection.getLineRange():editor.selection.getRange();editor._emit("cut",range);if(!range.isEmpty())editor.session.remove(range);editor.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(editor,args){editor.$handlePaste(args)},scrollIntoView:"cursor"},{name:"removeline",bindKey:bindKey("Ctrl-D","Command-D"),exec:function(editor){editor.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:bindKey("Ctrl-Shift-D","Command-Shift-D"),exec:function(editor){editor.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:bindKey("Ctrl-Alt-S","Command-Alt-S"),exec:function(editor){editor.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:bindKey("Ctrl-/","Command-/"),exec:function(editor){editor.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:bindKey("Ctrl-Shift-/","Command-Shift-/"),exec:function(editor){editor.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:bindKey("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(editor){editor.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:bindKey("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(editor){editor.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:bindKey("Ctrl-H","Command-Option-F"),exec:function(editor){config.loadModule("ace/ext/searchbox",function(e){e.Search(editor,!0)})}},{name:"undo",bindKey:bindKey("Ctrl-Z","Command-Z"),exec:function(editor){editor.undo()}},{name:"redo",bindKey:bindKey("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(editor){editor.redo()}},{name:"copylinesup",bindKey:bindKey("Alt-Shift-Up","Command-Option-Up"),exec:function(editor){editor.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:bindKey("Alt-Up","Option-Up"),exec:function(editor){editor.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:bindKey("Alt-Shift-Down","Command-Option-Down"),exec:function(editor){editor.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:bindKey("Alt-Down","Option-Down"),exec:function(editor){editor.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:bindKey("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(editor){editor.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:bindKey("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(editor){editor.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:bindKey("Shift-Delete",null),exec:function(editor){if(editor.selection.isEmpty()){editor.remove("left")}else{return!1}},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:bindKey("Alt-Backspace","Command-Backspace"),exec:function(editor){editor.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:bindKey("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(editor){editor.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",bindKey:bindKey("Ctrl-Shift-Backspace",null),exec:function(editor){var range=editor.selection.getRange();range.start.column=0;editor.session.remove(range)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",bindKey:bindKey("Ctrl-Shift-Delete",null),exec:function(editor){var range=editor.selection.getRange();range.end.column=_NumberMAX_VALUE;editor.session.remove(range)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:bindKey("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(editor){editor.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:bindKey("Ctrl-Delete","Alt-Delete"),exec:function(editor){editor.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:bindKey("Shift-Tab","Shift-Tab"),exec:function(editor){editor.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:bindKey("Tab","Tab"),exec:function(editor){editor.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:bindKey("Ctrl-[","Ctrl-["),exec:function(editor){editor.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:bindKey("Ctrl-]","Ctrl-]"),exec:function(editor){editor.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(editor,str){editor.insert(str)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(editor,args){editor.insert(lang.stringRepeat(args.text||"",args.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:bindKey(null,"Ctrl-O"),exec:function(editor){editor.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:bindKey("Alt-Shift-X","Ctrl-T"),exec:function(editor){editor.transposeLetters()},multiSelectAction:function(editor){editor.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:bindKey("Ctrl-U","Ctrl-U"),exec:function(editor){editor.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:bindKey("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(editor){editor.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:bindKey("Ctrl-Shift-L","Command-Shift-L"),exec:function(editor){var range=editor.selection.getRange();range.start.column=range.end.column=0;range.end.row++;editor.selection.setRange(range,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:bindKey(null,null),exec:function(editor){for(var isBackwards=editor.selection.isBackwards(),selectionStart=isBackwards?editor.selection.getSelectionLead():editor.selection.getSelectionAnchor(),selectionEnd=isBackwards?editor.selection.getSelectionAnchor():editor.selection.getSelectionLead(),firstLineEndCol=editor.session.doc.getLine(selectionStart.row).length,selectedText=editor.session.doc.getTextRange(editor.selection.getRange()),selectedCount=selectedText.replace(/\n\s*/," ").length,insertLine=editor.session.doc.getLine(selectionStart.row),i=selectionStart.row+1,curLine;i<=selectionEnd.row+1;i++){curLine=lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));if(0!==curLine.length){curLine=" "+curLine}insertLine+=curLine}if(selectionEnd.row+1<editor.session.doc.getLength()-1){insertLine+=editor.session.doc.getNewLineCharacter()}editor.clearSelection();editor.session.doc.replace(new Range(selectionStart.row,0,selectionEnd.row+2,0),insertLine);if(0<selectedCount){editor.selection.moveCursorTo(selectionStart.row,selectionStart.column);editor.selection.selectTo(selectionStart.row,selectionStart.column+selectedCount)}else{firstLineEndCol=editor.session.doc.getLine(selectionStart.row).length>firstLineEndCol?firstLineEndCol+1:firstLineEndCol;editor.selection.moveCursorTo(selectionStart.row,firstLineEndCol)}},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:bindKey(null,null),exec:function(editor){var endRow=editor.session.doc.getLength()-1,endCol=editor.session.doc.getLine(endRow).length,ranges=editor.selection.rangeList.ranges,newRanges=[];if(1>ranges.length){ranges=[editor.selection.getRange()]}for(var i=0;i<ranges.length;i++){if(i==ranges.length-1){if(!(ranges[i].end.row===endRow&&ranges[i].end.column===endCol)){newRanges.push(new Range(ranges[i].end.row,ranges[i].end.column,endRow,endCol))}}if(0===i){if(!(0===ranges[i].start.row&&0===ranges[i].start.column)){newRanges.push(new Range(0,0,ranges[i].start.row,ranges[i].start.column))}}else{newRanges.push(new Range(ranges[i-1].end.row,ranges[i-1].end.column,ranges[i].start.row,ranges[i].start.column))}}editor.exitMultiSelectMode();editor.clearSelection();for(var i=0;i<newRanges.length;i++){editor.selection.addRange(newRanges[i],!1)}},readOnly:!0,scrollIntoView:"none"}]});ace.define("ace/clipboard",["require","exports","module"],function(require,exports,module){module.exports={lineMode:!1}});ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],function(require,exports){require("./lib/fixoldbrowsers");var oop=require("./lib/oop"),dom=require("./lib/dom"),lang=require("./lib/lang"),useragent=require("./lib/useragent"),TextInput=require("./keyboard/textinput").TextInput,MouseHandler=require("./mouse/mouse_handler").MouseHandler,FoldHandler=require("./mouse/fold_handler").FoldHandler,KeyBinding=require("./keyboard/keybinding").KeyBinding,EditSession=require("./edit_session").EditSession,Search=require("./search").Search,Range=require("./range").Range,EventEmitter=require("./lib/event_emitter").EventEmitter,CommandManager=require("./commands/command_manager").CommandManager,defaultCommands=require("./commands/default_commands").commands,config=require("./config"),TokenIterator=require("./token_iterator").TokenIterator,clipboard=require("./clipboard"),Editor=function(renderer,session,options){var container=renderer.getContainerElement();this.container=container;this.renderer=renderer;this.id="editor"+ ++Editor.$uid;this.commands=new CommandManager(useragent.isMac?"mac":"win",defaultCommands);if("object"==typeof document){this.textInput=new TextInput(renderer.getTextAreaContainer(),this);this.renderer.textarea=this.textInput.getElement();this.$mouseHandler=new MouseHandler(this);new FoldHandler(this)}this.keyBinding=new KeyBinding(this);this.$search=new Search().set({wrap:!0});this.$historyTracker=this.$historyTracker.bind(this);this.commands.on("exec",this.$historyTracker);this.$initOperationListeners();this._$emitInputEvent=lang.delayedCall(function(){this._signal("input",{});if(this.session&&this.session.bgTokenizer)this.session.bgTokenizer.scheduleStart()}.bind(this));this.on("change",function(_,_self){_self._$emitInputEvent.schedule(31)});this.setSession(session||options&&options.session||new EditSession(""));config.resetOptions(this);if(options)this.setOptions(options);config._signal("editor",this)};Editor.$uid=0;(function(){oop.implement(this,EventEmitter);this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0);this.commands.on("afterExec",this.endOperation.bind(this),!0);this.$opResetTimer=lang.delayedCall(this.endOperation.bind(this,!0));this.on("change",function(){if(!this.curOp){this.startOperation();this.curOp.selectionBefore=this.$lastSel}this.curOp.docChanged=!0}.bind(this),!0);this.on("changeSelection",function(){if(!this.curOp){this.startOperation();this.curOp.selectionBefore=this.$lastSel}this.curOp.selectionChanged=!0}.bind(this),!0)};this.curOp=null;this.prevOp={};this.startOperation=function(commandEvent){if(this.curOp){if(!commandEvent||this.curOp.command)return;this.prevOp=this.curOp}if(!commandEvent){this.previousCommand=null;commandEvent={}}this.$opResetTimer.schedule();this.curOp=this.session.curOp={command:commandEvent.command||{},args:commandEvent.args,scrollTop:this.renderer.scrollTop};this.curOp.selectionBefore=this.selection.toJSON()};this.endOperation=function(e){if(this.curOp){if(e&&!1===e.returnValue)return this.curOp=null;if(!0==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;this._signal("beforeEndOperation");if(!this.curOp)return;var command=this.curOp.command,scrollIntoView=command&&command.scrollIntoView;if(scrollIntoView){switch(scrollIntoView){case"center-animate":scrollIntoView="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var range=this.selection.getRange(),config=this.renderer.layerConfig;if(range.start.row>=config.lastRow||range.end.row<=config.firstRow){this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}break;default:break;}if("animate"==scrollIntoView)this.renderer.animateScrolling(this.curOp.scrollTop)}var sel=this.selection.toJSON();this.curOp.selectionAfter=sel;this.$lastSel=this.selection.toJSON();this.session.getUndoManager().addSelection(sel);this.prevOp=this.curOp;this.curOp=null}};this.$mergeableCommands=["backspace","del","insertstring"];this.$historyTracker=function(e){if(!this.$mergeUndoDeltas)return;var prev=this.prevOp,mergeableCommands=this.$mergeableCommands,shouldMerge=prev.command&&e.command.name==prev.command.name;if("insertstring"==e.command.name){var text=e.args;if(this.mergeNextCommand===void 0)this.mergeNextCommand=!0;shouldMerge=shouldMerge&&this.mergeNextCommand&&(!/\s/.test(text)||/\s/.test(prev.args));this.mergeNextCommand=!0}else{shouldMerge=shouldMerge&&-1!==mergeableCommands.indexOf(e.command.name)}if("always"!=this.$mergeUndoDeltas&&2e3<Date.now()-this.sequenceStartTime){shouldMerge=!1}if(shouldMerge)this.session.mergeUndoDeltas=!0;else if(-1!==mergeableCommands.indexOf(e.command.name))this.sequenceStartTime=Date.now()};this.setKeyboardHandler=function(keyboardHandler,cb){if(keyboardHandler&&"string"===typeof keyboardHandler&&"ace"!=keyboardHandler){this.$keybindingId=keyboardHandler;var _self=this;config.loadModule(["keybinding",keyboardHandler],function(module){if(_self.$keybindingId==keyboardHandler)_self.keyBinding.setKeyboardHandler(module&&module.handler);cb&&cb()})}else{this.$keybindingId=null;this.keyBinding.setKeyboardHandler(keyboardHandler);cb&&cb()}};this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()};this.setSession=function(session){if(this.session==session)return;if(this.curOp)this.endOperation();this.curOp={};var oldSession=this.session;if(oldSession){this.session.off("change",this.$onDocumentChange);this.session.off("changeMode",this.$onChangeMode);this.session.off("tokenizerUpdate",this.$onTokenizerUpdate);this.session.off("changeTabSize",this.$onChangeTabSize);this.session.off("changeWrapLimit",this.$onChangeWrapLimit);this.session.off("changeWrapMode",this.$onChangeWrapMode);this.session.off("changeFold",this.$onChangeFold);this.session.off("changeFrontMarker",this.$onChangeFrontMarker);this.session.off("changeBackMarker",this.$onChangeBackMarker);this.session.off("changeBreakpoint",this.$onChangeBreakpoint);this.session.off("changeAnnotation",this.$onChangeAnnotation);this.session.off("changeOverwrite",this.$onCursorChange);this.session.off("changeScrollTop",this.$onScrollTopChange);this.session.off("changeScrollLeft",this.$onScrollLeftChange);var selection=this.session.getSelection();selection.off("changeCursor",this.$onCursorChange);selection.off("changeSelection",this.$onSelectionChange)}this.session=session;if(session){this.$onDocumentChange=this.onDocumentChange.bind(this);session.on("change",this.$onDocumentChange);this.renderer.setSession(session);this.$onChangeMode=this.onChangeMode.bind(this);session.on("changeMode",this.$onChangeMode);this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this);session.on("tokenizerUpdate",this.$onTokenizerUpdate);this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer);session.on("changeTabSize",this.$onChangeTabSize);this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this);session.on("changeWrapLimit",this.$onChangeWrapLimit);this.$onChangeWrapMode=this.onChangeWrapMode.bind(this);session.on("changeWrapMode",this.$onChangeWrapMode);this.$onChangeFold=this.onChangeFold.bind(this);session.on("changeFold",this.$onChangeFold);this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this);this.session.on("changeFrontMarker",this.$onChangeFrontMarker);this.$onChangeBackMarker=this.onChangeBackMarker.bind(this);this.session.on("changeBackMarker",this.$onChangeBackMarker);this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this);this.session.on("changeBreakpoint",this.$onChangeBreakpoint);this.$onChangeAnnotation=this.onChangeAnnotation.bind(this);this.session.on("changeAnnotation",this.$onChangeAnnotation);this.$onCursorChange=this.onCursorChange.bind(this);this.session.on("changeOverwrite",this.$onCursorChange);this.$onScrollTopChange=this.onScrollTopChange.bind(this);this.session.on("changeScrollTop",this.$onScrollTopChange);this.$onScrollLeftChange=this.onScrollLeftChange.bind(this);this.session.on("changeScrollLeft",this.$onScrollLeftChange);this.selection=session.getSelection();this.selection.on("changeCursor",this.$onCursorChange);this.$onSelectionChange=this.onSelectionChange.bind(this);this.selection.on("changeSelection",this.$onSelectionChange);this.onChangeMode();this.onCursorChange();this.onScrollTopChange();this.onScrollLeftChange();this.onSelectionChange();this.onChangeFrontMarker();this.onChangeBackMarker();this.onChangeBreakpoint();this.onChangeAnnotation();this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit();this.renderer.updateFull()}else{this.selection=null;this.renderer.setSession(session)}this._signal("changeSession",{session:session,oldSession:oldSession});this.curOp=null;oldSession&&oldSession._signal("changeEditor",{oldEditor:this});session&&session._signal("changeEditor",{editor:this});if(session&&session.bgTokenizer)session.bgTokenizer.scheduleStart()};this.getSession=function(){return this.session};this.setValue=function(val,cursorPos){this.session.doc.setValue(val);if(!cursorPos)this.selectAll();else if(1==cursorPos)this.navigateFileEnd();else if(-1==cursorPos)this.navigateFileStart();return val};this.getValue=function(){return this.session.getValue()};this.getSelection=function(){return this.selection};this.resize=function(force){this.renderer.onResize(force)};this.setTheme=function(theme,cb){this.renderer.setTheme(theme,cb)};this.getTheme=function(){return this.renderer.getTheme()};this.setStyle=function(style){this.renderer.setStyle(style)};this.unsetStyle=function(style){this.renderer.unsetStyle(style)};this.getFontSize=function(){return this.getOption("fontSize")||dom.computedStyle(this.container).fontSize};this.setFontSize=function(size){this.setOption("fontSize",size)};this.$highlightBrackets=function(){if(this.session.$bracketHighlight){this.session.removeMarker(this.session.$bracketHighlight);this.session.$bracketHighlight=null}if(this.$highlightPending){return}var self=this;this.$highlightPending=!0;setTimeout(function(){self.$highlightPending=!1;var session=self.session;if(!session||!session.bgTokenizer)return;var pos=session.findMatchingBracket(self.getCursorPosition());if(pos){var range=new Range(pos.row,pos.column,pos.row,pos.column+1)}else if(session.$mode.getMatching){var range=session.$mode.getMatching(self.session)}if(range)session.$bracketHighlight=session.addMarker(range,"ace_bracket","text")},50)};this.$highlightTags=function(){if(this.$highlightTagPending)return;var self=this;this.$highlightTagPending=!0;setTimeout(function(){self.$highlightTagPending=!1;var session=self.session;if(!session||!session.bgTokenizer)return;var pos=self.getCursorPosition(),iterator=new TokenIterator(self.session,pos.row,pos.column),token=iterator.getCurrentToken();if(!token||!/\b(?:tag-open|tag-name)/.test(token.type)){session.removeMarker(session.$tagHighlight);session.$tagHighlight=null;return}if(-1!=token.type.indexOf("tag-open")){token=iterator.stepForward();if(!token)return}var tag=token.value,depth=0,prevToken=iterator.stepBackward();if("<"==prevToken.value){do{prevToken=token;token=iterator.stepForward();if(token&&token.value===tag&&-1!==token.type.indexOf("tag-name")){if("<"===prevToken.value){depth++}else if("</"===prevToken.value){depth--}}}while(token&&0<=depth)}else{do{token=prevToken;prevToken=iterator.stepBackward();if(token&&token.value===tag&&-1!==token.type.indexOf("tag-name")){if("<"===prevToken.value){depth++}else if("</"===prevToken.value){depth--}}}while(prevToken&&0>=depth);iterator.stepForward()}if(!token){session.removeMarker(session.$tagHighlight);session.$tagHighlight=null;return}var row=iterator.getCurrentTokenRow(),column=iterator.getCurrentTokenColumn(),range=new Range(row,column,row,column+token.value.length),sbm=session.$backMarkers[session.$tagHighlight];if(session.$tagHighlight&&sbm!=void 0&&0!==range.compareRange(sbm.range)){session.removeMarker(session.$tagHighlight);session.$tagHighlight=null}if(!session.$tagHighlight)session.$tagHighlight=session.addMarker(range,"ace_bracket","text")},50)};this.focus=function(){var _self=this;setTimeout(function(){if(!_self.isFocused())_self.textInput.focus()});this.textInput.focus()};this.isFocused=function(){return this.textInput.isFocused()};this.blur=function(){this.textInput.blur()};this.onFocus=function(e){if(this.$isFocused)return;this.$isFocused=!0;this.renderer.showCursor();this.renderer.visualizeFocus();this._emit("focus",e)};this.onBlur=function(e){if(!this.$isFocused)return;this.$isFocused=!1;this.renderer.hideCursor();this.renderer.visualizeBlur();this._emit("blur",e)};this.$cursorChange=function(){this.renderer.updateCursor()};this.onDocumentChange=function(delta){var wrap=this.session.$useWrapMode,lastRow=delta.start.row==delta.end.row?delta.end.row:1/0;this.renderer.updateLines(delta.start.row,lastRow,wrap);this._signal("change",delta);this.$cursorChange();this.$updateHighlightActiveLine()};this.onTokenizerUpdate=function(e){var rows=e.data;this.renderer.updateLines(rows.first,rows.last)};this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())};this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())};this.onCursorChange=function(){this.$cursorChange();this.$highlightBrackets();this.$highlightTags();this.$updateHighlightActiveLine();this._signal("changeSelection")};this.$updateHighlightActiveLine=function(){var session=this.getSession(),highlight;if(this.$highlightActiveLine){if("line"!=this.$selectionStyle||!this.selection.isMultiLine())highlight=this.getCursorPosition();if(this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty())highlight=!1;if(this.renderer.$maxLines&&1===this.session.getLength()&&!(1<this.renderer.$minLines))highlight=!1}if(session.$highlightLineMarker&&!highlight){session.removeMarker(session.$highlightLineMarker.id);session.$highlightLineMarker=null}else if(!session.$highlightLineMarker&&highlight){var range=new Range(highlight.row,highlight.column,highlight.row,1/0);range.id=session.addMarker(range,"ace_active-line","screenLine");session.$highlightLineMarker=range}else if(highlight){session.$highlightLineMarker.start.row=highlight.row;session.$highlightLineMarker.end.row=highlight.row;session.$highlightLineMarker.start.column=highlight.column;session._signal("changeBackMarker")}};this.onSelectionChange=function(){var session=this.session;if(session.$selectionMarker){session.removeMarker(session.$selectionMarker)}session.$selectionMarker=null;if(!this.selection.isEmpty()){var range=this.selection.getRange(),style=this.getSelectionStyle();session.$selectionMarker=session.addMarker(range,"ace_selection",style)}else{this.$updateHighlightActiveLine()}var re=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(re);this._signal("changeSelection")};this.$getSelectionHighLightRegexp=function(){var session=this.session,selection=this.getSelectionRange();if(selection.isEmpty()||selection.isMultiLine())return;var startColumn=selection.start.column,endColumn=selection.end.column,line=session.getLine(selection.start.row),needle=line.substring(startColumn,endColumn);if(5e3<needle.length||!/[\w\d]/.test(needle))return;var re=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:needle}),wordWithBoundary=line.substring(startColumn-1,endColumn+1);if(!re.test(wordWithBoundary))return;return re};this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()};this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()};this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()};this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())};this.onChangeMode=function(e){this.renderer.updateText();this._emit("changeMode",e)};this.onChangeWrapLimit=function(){this.renderer.updateFull()};this.onChangeWrapMode=function(){this.renderer.onResize(!0)};this.onChangeFold=function(){this.$updateHighlightActiveLine();this.renderer.updateFull()};this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())};this.getCopyText=function(){var text=this.getSelectedText(),nl=this.session.doc.getNewLineCharacter(),copyLine=!1;if(!text&&this.$copyWithEmptySelection){copyLine=!0;for(var ranges=this.selection.getAllRanges(),i=0,range;i<ranges.length;i++){range=ranges[i];if(i&&ranges[i-1].start.row==range.start.row)continue;text+=this.session.getLine(range.start.row)+nl}}var e={text:text};this._signal("copy",e);clipboard.lineMode=copyLine?e.text:"";return e.text};this.onCopy=function(){this.commands.exec("copy",this)};this.onCut=function(){this.commands.exec("cut",this)};this.onPaste=function(text,event){this.commands.exec("paste",this,{text:text,event:event})};this.$handlePaste=function(e){if("string"==typeof e)e={text:e};this._signal("paste",e);var text=e.text,lineMode=text==clipboard.lineMode,session=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode){if(lineMode)session.insert({row:this.selection.lead.row,column:0},text);else this.insert(text)}else if(lineMode){this.selection.rangeList.ranges.forEach(function(range){session.insert({row:range.start.row,column:0},text)})}else{var lines=text.split(/\r\n|\r|\n/),ranges=this.selection.rangeList.ranges;if(lines.length>ranges.length||2>lines.length||!lines[1])return this.commands.exec("insertstring",this,text);for(var i=ranges.length,range;i--;){range=ranges[i];if(!range.isEmpty())session.remove(range);session.insert(range.start,lines[i])}}};this.execCommand=function(command,args){return this.commands.exec(command,this,args)};this.insert=function(text,pasted){var session=this.session,mode=session.getMode(),cursor=this.getCursorPosition();if(this.getBehavioursEnabled()&&!pasted){var transform=mode.transformAction(session.getState(cursor.row),"insertion",this,session,text);if(transform){if(text!==transform.text){if(!this.inVirtualSelectionMode){this.session.mergeUndoDeltas=!1;this.mergeNextCommand=!1}}text=transform.text}}if("\t"==text)text=this.session.getTabString();if(!this.selection.isEmpty()){var range=this.getSelectionRange();cursor=this.session.remove(range);this.clearSelection()}else if(this.session.getOverwrite()&&-1==text.indexOf("\n")){var range=new Range.fromPoints(cursor,cursor);range.end.column+=text.length;this.session.remove(range)}if("\n"==text||"\r\n"==text){var line=session.getLine(cursor.row);if(cursor.column>line.search(/\S|$/)){var d=line.substr(cursor.column).search(/\S|$/);session.doc.removeInLine(cursor.row,cursor.column,cursor.column+d)}}this.clearSelection();var start=cursor.column,lineState=session.getState(cursor.row),line=session.getLine(cursor.row),shouldOutdent=mode.checkOutdent(lineState,line,text),end=session.insert(cursor,text);if(transform&&transform.selection){if(2==transform.selection.length){this.selection.setSelectionRange(new Range(cursor.row,start+transform.selection[0],cursor.row,start+transform.selection[1]))}else{this.selection.setSelectionRange(new Range(cursor.row+transform.selection[0],transform.selection[1],cursor.row+transform.selection[2],transform.selection[3]))}}if(session.getDocument().isNewLine(text)){var lineIndent=mode.getNextLineIndent(lineState,line.slice(0,cursor.column),session.getTabString());session.insert({row:cursor.row+1,column:0},lineIndent)}if(shouldOutdent)mode.autoOutdent(lineState,session,cursor.row)};this.onTextInput=function(text,composition){if(!composition)return this.keyBinding.onTextInput(text);this.startOperation({command:{name:"insertstring"}});var applyComposition=this.applyComposition.bind(this,text,composition);if(this.selection.rangeCount)this.forEachSelection(applyComposition);else applyComposition();this.endOperation()};this.applyComposition=function(text,composition){if(composition.extendLeft||composition.extendRight){var r=this.selection.getRange();r.start.column-=composition.extendLeft;r.end.column+=composition.extendRight;this.selection.setRange(r);if(!text&&!r.isEmpty())this.remove()}if(text||!this.selection.isEmpty())this.insert(text,!0);if(composition.restoreStart||composition.restoreEnd){var r=this.selection.getRange();r.start.column-=composition.restoreStart;r.end.column-=composition.restoreEnd;this.selection.setRange(r)}};this.onCommandKey=function(e,hashId,keyCode){this.keyBinding.onCommandKey(e,hashId,keyCode)};this.setOverwrite=function(overwrite){this.session.setOverwrite(overwrite)};this.getOverwrite=function(){return this.session.getOverwrite()};this.toggleOverwrite=function(){this.session.toggleOverwrite()};this.setScrollSpeed=function(speed){this.setOption("scrollSpeed",speed)};this.getScrollSpeed=function(){return this.getOption("scrollSpeed")};this.setDragDelay=function(dragDelay){this.setOption("dragDelay",dragDelay)};this.getDragDelay=function(){return this.getOption("dragDelay")};this.setSelectionStyle=function(val){this.setOption("selectionStyle",val)};this.getSelectionStyle=function(){return this.getOption("selectionStyle")};this.setHighlightActiveLine=function(shouldHighlight){this.setOption("highlightActiveLine",shouldHighlight)};this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")};this.setHighlightGutterLine=function(shouldHighlight){this.setOption("highlightGutterLine",shouldHighlight)};this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")};this.setHighlightSelectedWord=function(shouldHighlight){this.setOption("highlightSelectedWord",shouldHighlight)};this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord};this.setAnimatedScroll=function(shouldAnimate){this.renderer.setAnimatedScroll(shouldAnimate)};this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()};this.setShowInvisibles=function(showInvisibles){this.renderer.setShowInvisibles(showInvisibles)};this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()};this.setDisplayIndentGuides=function(display){this.renderer.setDisplayIndentGuides(display)};this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()};this.setShowPrintMargin=function(showPrintMargin){this.renderer.setShowPrintMargin(showPrintMargin)};this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()};this.setPrintMarginColumn=function(showPrintMargin){this.renderer.setPrintMarginColumn(showPrintMargin)};this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()};this.setReadOnly=function(readOnly){this.setOption("readOnly",readOnly)};this.getReadOnly=function(){return this.getOption("readOnly")};this.setBehavioursEnabled=function(enabled){this.setOption("behavioursEnabled",enabled)};this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")};this.setWrapBehavioursEnabled=function(enabled){this.setOption("wrapBehavioursEnabled",enabled)};this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")};this.setShowFoldWidgets=function(show){this.setOption("showFoldWidgets",show)};this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")};this.setFadeFoldWidgets=function(fade){this.setOption("fadeFoldWidgets",fade)};this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")};this.remove=function(dir){if(this.selection.isEmpty()){if("left"==dir)this.selection.selectLeft();else this.selection.selectRight()}var range=this.getSelectionRange();if(this.getBehavioursEnabled()){var session=this.session,state=session.getState(range.start.row),new_range=session.getMode().transformAction(state,"deletion",this,session,range);if(0===range.end.column){var text=session.getTextRange(range);if("\n"==text[text.length-1]){var line=session.getLine(range.end.row);if(/^\s+$/.test(line)){range.end.column=line.length}}}if(new_range)range=new_range}this.session.remove(range);this.clearSelection()};this.removeWordRight=function(){if(this.selection.isEmpty())this.selection.selectWordRight();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeWordLeft=function(){if(this.selection.isEmpty())this.selection.selectWordLeft();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeToLineStart=function(){if(this.selection.isEmpty())this.selection.selectLineStart();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeToLineEnd=function(){if(this.selection.isEmpty())this.selection.selectLineEnd();var range=this.getSelectionRange();if(range.start.column==range.end.column&&range.start.row==range.end.row){range.end.column=0;range.end.row++}this.session.remove(range);this.clearSelection()};this.splitLine=function(){if(!this.selection.isEmpty()){this.session.remove(this.getSelectionRange());this.clearSelection()}var cursor=this.getCursorPosition();this.insert("\n");this.moveCursorToPosition(cursor)};this.transposeLetters=function(){if(!this.selection.isEmpty()){return}var cursor=this.getCursorPosition(),column=cursor.column;if(0===column)return;var line=this.session.getLine(cursor.row),swap,range;if(column<line.length){swap=line.charAt(column)+line.charAt(column-1);range=new Range(cursor.row,column-1,cursor.row,column+1)}else{swap=line.charAt(column-1)+line.charAt(column-2);range=new Range(cursor.row,column-2,cursor.row,column)}this.session.replace(range,swap);this.session.selection.moveToPosition(range.end)};this.toLowerCase=function(){var originalRange=this.getSelectionRange();if(this.selection.isEmpty()){this.selection.selectWord()}var range=this.getSelectionRange(),text=this.session.getTextRange(range);this.session.replace(range,text.toLowerCase());this.selection.setSelectionRange(originalRange)};this.toUpperCase=function(){var originalRange=this.getSelectionRange();if(this.selection.isEmpty()){this.selection.selectWord()}var range=this.getSelectionRange(),text=this.session.getTextRange(range);this.session.replace(range,text.toUpperCase());this.selection.setSelectionRange(originalRange)};this.indent=function(){var session=this.session,range=this.getSelectionRange();if(range.start.row<range.end.row){var rows=this.$getSelectedRows();session.indentRows(rows.first,rows.last,"\t");return}else if(range.start.column<range.end.column){var text=session.getTextRange(range);if(!/^\s+$/.test(text)){var rows=this.$getSelectedRows();session.indentRows(rows.first,rows.last,"\t");return}}var line=session.getLine(range.start.row),position=range.start,size=session.getTabSize(),column=session.documentToScreenColumn(position.row,position.column);if(this.session.getUseSoftTabs()){var count=size-column%size,indentString=lang.stringRepeat(" ",count)}else{var count=column%size;while(" "==line[range.start.column-1]&&count){range.start.column--;count--}this.selection.setSelectionRange(range);indentString="\t"}return this.insert(indentString)};this.blockIndent=function(){var rows=this.$getSelectedRows();this.session.indentRows(rows.first,rows.last,"\t")};this.blockOutdent=function(){var selection=this.session.getSelection();this.session.outdentRows(selection.getRange())};this.sortLines=function(){for(var rows=this.$getSelectedRows(),session=this.session,lines=[],i=rows.first;i<=rows.last;i++)lines.push(session.getLine(i));lines.sort(function(a,b){if(a.toLowerCase()<b.toLowerCase())return-1;if(a.toLowerCase()>b.toLowerCase())return 1;return 0});for(var deleteRange=new Range(0,0,0,0),i=rows.first,line;i<=rows.last;i++){line=session.getLine(i);deleteRange.start.row=i;deleteRange.end.row=i;deleteRange.end.column=line.length;session.replace(deleteRange,lines[i-rows.first])}};this.toggleCommentLines=function(){var state=this.session.getState(this.getCursorPosition().row),rows=this.$getSelectedRows();this.session.getMode().toggleCommentLines(state,this.session,rows.first,rows.last)};this.toggleBlockComment=function(){var cursor=this.getCursorPosition(),state=this.session.getState(cursor.row),range=this.getSelectionRange();this.session.getMode().toggleBlockComment(state,this.session,range,cursor)};this.getNumberAt=function(row,column){var _numberRx=/[\-]?[0-9]+(?:\.[0-9]+)?/g;_numberRx.lastIndex=0;var s=this.session.getLine(row);while(_numberRx.lastIndex<column){var m=_numberRx.exec(s);if(m.index<=column&&m.index+m[0].length>=column){var number={value:m[0],start:m.index,end:m.index+m[0].length};return number}}return null};this.modifyNumber=function(amount){var row=this.selection.getCursor().row,column=this.selection.getCursor().column,charRange=new Range(row,column-1,row,column),c=this.session.getTextRange(charRange);if(!isNaN(parseFloat(c))&&isFinite(c)){var nr=this.getNumberAt(row,column);if(nr){var fp=0<=nr.value.indexOf(".")?nr.start+nr.value.indexOf(".")+1:nr.end,decimals=nr.start+nr.value.length-fp,t=parseFloat(nr.value);t*=_Mathpow(10,decimals);if(fp!==nr.end&&column<fp){amount*=_Mathpow(10,nr.end-column-1)}else{amount*=_Mathpow(10,nr.end-column)}t+=amount;t/=_Mathpow(10,decimals);var nnr=t.toFixed(decimals),replaceRange=new Range(row,nr.start,row,nr.end);this.session.replace(replaceRange,nnr);this.moveCursorTo(row,_Mathmax(nr.start+1,column+nnr.length-nr.value.length))}}else{this.toggleWord()}};this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]];this.toggleWord=function(){var row=this.selection.getCursor().row,column=this.selection.getCursor().column;this.selection.selectWord();var currentState=this.getSelectedText(),currWordStart=this.selection.getWordRange().start.column,wordParts=currentState.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),delta=column-currWordStart-1;if(0>delta)delta=0;var curLength=0,itLength=0,that=this;if(currentState.match(/[A-Za-z0-9_]+/)){wordParts.forEach(function(item){itLength=curLength+item.length;if(delta>=curLength&&delta<=itLength){currentState=item;that.selection.clearSelection();that.moveCursorTo(row,curLength+currWordStart);that.selection.selectTo(row,itLength+currWordStart)}curLength=itLength})}for(var wordPairs=this.$toggleWordPairs,reg,i=0,item;i<wordPairs.length;i++){item=wordPairs[i];for(var j=0;1>=j;j++){var negate=+!j,firstCondition=currentState.match(new RegExp("^\\s?_?("+lang.escapeRegExp(item[j])+")\\s?$","i"));if(firstCondition){var secondCondition=currentState.match(new RegExp("([_]|^|\\s)("+lang.escapeRegExp(firstCondition[1])+")($|\\s)","g"));if(secondCondition){reg=currentState.replace(new RegExp(lang.escapeRegExp(item[j]),"i"),function(result){var res=item[negate];if(result.toUpperCase()==result){res=res.toUpperCase()}else if(result.charAt(0).toUpperCase()==result.charAt(0)){res=res.substr(0,0)+item[negate].charAt(0).toUpperCase()+res.substr(1)}return res});this.insert(reg);reg=""}}}}};this.removeLines=function(){var rows=this.$getSelectedRows();this.session.removeFullLines(rows.first,rows.last);this.clearSelection()};this.duplicateSelection=function(){var sel=this.selection,doc=this.session,range=sel.getRange(),reverse=sel.isBackwards();if(range.isEmpty()){var row=range.start.row;doc.duplicateLines(row,row)}else{var point=reverse?range.start:range.end,endPoint=doc.insert(point,doc.getTextRange(range),!1);range.start=point;range.end=endPoint;sel.setSelectionRange(range,reverse)}};this.moveLinesDown=function(){this.$moveLines(1,!1)};this.moveLinesUp=function(){this.$moveLines(-1,!1)};this.moveText=function(range,toPosition,copy){return this.session.moveText(range,toPosition,copy)};this.copyLinesUp=function(){this.$moveLines(-1,!0)};this.copyLinesDown=function(){this.$moveLines(1,!0)};this.$moveLines=function(dir,copy){var rows,moved,selection=this.selection;if(!selection.inMultiSelectMode||this.inVirtualSelectionMode){var range=selection.toOrientedRange();rows=this.$getSelectedRows(range);moved=this.session.$moveLines(rows.first,rows.last,copy?0:dir);if(copy&&-1==dir)moved=0;range.moveBy(moved,0);selection.fromOrientedRange(range)}else{var ranges=selection.rangeList.ranges;selection.rangeList.detach(this.session);this.inVirtualSelectionMode=!0;for(var diff=0,totalDiff=0,l=ranges.length,i=0,rangeIndex;i<l;i++){rangeIndex=i;ranges[i].moveBy(diff,0);rows=this.$getSelectedRows(ranges[i]);var first=rows.first,last=rows.last;while(++i<l){if(totalDiff)ranges[i].moveBy(totalDiff,0);var subRows=this.$getSelectedRows(ranges[i]);if(copy&&subRows.first!=last)break;else if(!copy&&subRows.first>last+1)break;last=subRows.last}i--;diff=this.session.$moveLines(first,last,copy?0:dir);if(copy&&-1==dir)rangeIndex=i+1;while(rangeIndex<=i){ranges[rangeIndex].moveBy(diff,0);rangeIndex++}if(!copy)diff=0;totalDiff+=diff}selection.fromOrientedRange(selection.ranges[0]);selection.rangeList.attach(this.session);this.inVirtualSelectionMode=!1}};this.$getSelectedRows=function(range){range=(range||this.getSelectionRange()).collapseRows();return{first:this.session.getRowFoldStart(range.start.row),last:this.session.getRowFoldEnd(range.end.row)}};this.onCompositionStart=function(compositionState){this.renderer.showComposition(compositionState)};this.onCompositionUpdate=function(text){this.renderer.setCompositionText(text)};this.onCompositionEnd=function(){this.renderer.hideComposition()};this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()};this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()};this.isRowVisible=function(row){return row>=this.getFirstVisibleRow()&&row<=this.getLastVisibleRow()};this.isRowFullyVisible=function(row){return row>=this.renderer.getFirstFullyVisibleRow()&&row<=this.renderer.getLastFullyVisibleRow()};this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1};this.$moveByPage=function(dir,select){var renderer=this.renderer,config=this.renderer.layerConfig,rows=dir*_Mathfloor(config.height/config.lineHeight);if(!0===select){this.selection.$moveSelection(function(){this.moveCursorBy(rows,0)})}else if(!1===select){this.selection.moveCursorBy(rows,0);this.selection.clearSelection()}var scrollTop=renderer.scrollTop;renderer.scrollBy(0,rows*config.lineHeight);if(null!=select)renderer.scrollCursorIntoView(null,.5);renderer.animateScrolling(scrollTop)};this.selectPageDown=function(){this.$moveByPage(1,!0)};this.selectPageUp=function(){this.$moveByPage(-1,!0)};this.gotoPageDown=function(){this.$moveByPage(1,!1)};this.gotoPageUp=function(){this.$moveByPage(-1,!1)};this.scrollPageDown=function(){this.$moveByPage(1)};this.scrollPageUp=function(){this.$moveByPage(-1)};this.scrollToRow=function(row){this.renderer.scrollToRow(row)};this.scrollToLine=function(line,center,animate,callback){this.renderer.scrollToLine(line,center,animate,callback)};this.centerSelection=function(){var range=this.getSelectionRange(),pos={row:_Mathfloor(range.start.row+(range.end.row-range.start.row)/2),column:_Mathfloor(range.start.column+(range.end.column-range.start.column)/2)};this.renderer.alignCursor(pos,.5)};this.getCursorPosition=function(){return this.selection.getCursor()};this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())};this.getSelectionRange=function(){return this.selection.getRange()};this.selectAll=function(){this.selection.selectAll()};this.clearSelection=function(){this.selection.clearSelection()};this.moveCursorTo=function(row,column){this.selection.moveCursorTo(row,column)};this.moveCursorToPosition=function(pos){this.selection.moveCursorToPosition(pos)};this.jumpToMatching=function(select,expand){var cursor=this.getCursorPosition(),iterator=new TokenIterator(this.session,cursor.row,cursor.column),prevToken=iterator.getCurrentToken(),token=prevToken||iterator.stepForward();if(!token)return;var matchType,found=!1,depth={},i=cursor.column-token.start,bracketType,brackets={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(token.value.match(/[{}()\[\]]/g)){for(;i<token.value.length&&!found;i++){if(!brackets[token.value[i]]){continue}bracketType=brackets[token.value[i]]+"."+token.type.replace("rparen","lparen");if(isNaN(depth[bracketType])){depth[bracketType]=0}switch(token.value[i]){case"(":case"[":case"{":depth[bracketType]++;break;case")":case"]":case"}":depth[bracketType]--;if(-1===depth[bracketType]){matchType="bracket";found=!0}break;}}}else if(-1!==token.type.indexOf("tag-name")){if(isNaN(depth[token.value])){depth[token.value]=0}if("<"===prevToken.value){depth[token.value]++}else if("</"===prevToken.value){depth[token.value]--}if(-1===depth[token.value]){matchType="tag";found=!0}}if(!found){prevToken=token;token=iterator.stepForward();i=0}}while(token&&!found);if(!matchType)return;var range,pos;if("bracket"===matchType){range=this.session.getBracketRange(cursor);if(!range){range=new Range(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+i-1,iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+i-1);pos=range.start;if(expand||pos.row===cursor.row&&2>_Mathabs(pos.column-cursor.column))range=this.session.getBracketRange(pos)}}else if("tag"===matchType){if(token&&-1!==token.type.indexOf("tag-name"))var tag=token.value;else return;range=new Range(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()-2,iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()-2);if(0===range.compare(cursor.row,cursor.column)){found=!1;do{token=prevToken;prevToken=iterator.stepBackward();if(prevToken){if(-1!==prevToken.type.indexOf("tag-close")){range.setEnd(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+1)}if(token.value===tag&&-1!==token.type.indexOf("tag-name")){if("<"===prevToken.value){depth[tag]++}else if("</"===prevToken.value){depth[tag]--}if(0===depth[tag])found=!0}}}while(prevToken&&!found)}if(token&&token.type.indexOf("tag-name")){pos=range.start;if(pos.row==cursor.row&&2>_Mathabs(pos.column-cursor.column))pos=range.end}}pos=range&&range.cursor||pos;if(pos){if(select){if(range&&expand){this.selection.setRange(range)}else if(range&&range.isEqual(this.getSelectionRange())){this.clearSelection()}else{this.selection.selectTo(pos.row,pos.column)}}else{this.selection.moveTo(pos.row,pos.column)}}};this.gotoLine=function(lineNumber,column,animate){this.selection.clearSelection();this.session.unfold({row:lineNumber-1,column:column||0});this.exitMultiSelectMode&&this.exitMultiSelectMode();this.moveCursorTo(lineNumber-1,column||0);if(!this.isRowFullyVisible(lineNumber-1))this.scrollToLine(lineNumber-1,!0,animate)};this.navigateTo=function(row,column){this.selection.moveTo(row,column)};this.navigateUp=function(times){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var selectionStart=this.selection.anchor.getPosition();return this.moveCursorToPosition(selectionStart)}this.selection.clearSelection();this.selection.moveCursorBy(-times||-1,0)};this.navigateDown=function(times){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var selectionEnd=this.selection.anchor.getPosition();return this.moveCursorToPosition(selectionEnd)}this.selection.clearSelection();this.selection.moveCursorBy(times||1,0)};this.navigateLeft=function(times){if(!this.selection.isEmpty()){var selectionStart=this.getSelectionRange().start;this.moveCursorToPosition(selectionStart)}else{times=times||1;while(times--){this.selection.moveCursorLeft()}}this.clearSelection()};this.navigateRight=function(times){if(!this.selection.isEmpty()){var selectionEnd=this.getSelectionRange().end;this.moveCursorToPosition(selectionEnd)}else{times=times||1;while(times--){this.selection.moveCursorRight()}}this.clearSelection()};this.navigateLineStart=function(){this.selection.moveCursorLineStart();this.clearSelection()};this.navigateLineEnd=function(){this.selection.moveCursorLineEnd();this.clearSelection()};this.navigateFileEnd=function(){this.selection.moveCursorFileEnd();this.clearSelection()};this.navigateFileStart=function(){this.selection.moveCursorFileStart();this.clearSelection()};this.navigateWordRight=function(){this.selection.moveCursorWordRight();this.clearSelection()};this.navigateWordLeft=function(){this.selection.moveCursorWordLeft();this.clearSelection()};this.replace=function(replacement,options){if(options)this.$search.set(options);var range=this.$search.find(this.session),replaced=0;if(!range)return replaced;if(this.$tryReplace(range,replacement)){replaced=1}this.selection.setSelectionRange(range);this.renderer.scrollSelectionIntoView(range.start,range.end);return replaced};this.replaceAll=function(replacement,options){if(options){this.$search.set(options)}var ranges=this.$search.findAll(this.session),replaced=0;if(!ranges.length)return replaced;var selection=this.getSelectionRange();this.selection.moveTo(0,0);for(var i=ranges.length-1;0<=i;--i){if(this.$tryReplace(ranges[i],replacement)){replaced++}}this.selection.setSelectionRange(selection);return replaced};this.$tryReplace=function(range,replacement){var input=this.session.getTextRange(range);replacement=this.$search.replace(input,replacement);if(null!==replacement){range.end=this.session.replace(range,replacement);return range}else{return null}};this.getLastSearchOptions=function(){return this.$search.getOptions()};this.find=function(needle,options,animate){if(!options)options={};if("string"==typeof needle||needle instanceof RegExp)options.needle=needle;else if("object"==typeof needle)oop.mixin(options,needle);var range=this.selection.getRange();if(null==options.needle){needle=this.session.getTextRange(range)||this.$search.$options.needle;if(!needle){range=this.session.getWordRange(range.start.row,range.start.column);needle=this.session.getTextRange(range)}this.$search.set({needle:needle})}this.$search.set(options);if(!options.start)this.$search.set({start:range});var newRange=this.$search.find(this.session);if(options.preventScroll)return newRange;if(newRange){this.revealRange(newRange,animate);return newRange}if(options.backwards)range.start=range.end;else range.end=range.start;this.selection.setRange(range)};this.findNext=function(options,animate){this.find({skipCurrent:!0,backwards:!1},options,animate)};this.findPrevious=function(options,animate){this.find(options,{skipCurrent:!0,backwards:!0},animate)};this.revealRange=function(range,animate){this.session.unfold(range);this.selection.setSelectionRange(range);var scrollTop=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(range.start,range.end,.5);if(!1!==animate)this.renderer.animateScrolling(scrollTop)};this.undo=function(){this.session.getUndoManager().undo(this.session);this.renderer.scrollCursorIntoView(null,.5)};this.redo=function(){this.session.getUndoManager().redo(this.session);this.renderer.scrollCursorIntoView(null,.5)};this.destroy=function(){this.renderer.destroy();this._signal("destroy",this);if(this.session){this.session.destroy()}};this.setAutoScrollEditorIntoView=function(enable){if(!enable)return;var rect,self=this,shouldScroll=!1;if(!this.$scrollAnchor)this.$scrollAnchor=document.createElement("div");var scrollAnchor=this.$scrollAnchor;scrollAnchor.style.cssText="position:absolute";this.container.insertBefore(scrollAnchor,this.container.firstChild);var onChangeSelection=this.on("changeSelection",function(){shouldScroll=!0}),onBeforeRender=this.renderer.on("beforeRender",function(){if(shouldScroll)rect=self.renderer.container.getBoundingClientRect()}),onAfterRender=this.renderer.on("afterRender",function(){if(shouldScroll&&rect&&(self.isFocused()||self.searchBox&&self.searchBox.isFocused())){var renderer=self.renderer,pos=renderer.$cursorLayer.$pixelPos,config=renderer.layerConfig,top=pos.top-config.offset;if(0<=pos.top&&0>top+rect.top){shouldScroll=!0}else if(pos.top<config.height&&pos.top+rect.top+config.lineHeight>window.innerHeight){shouldScroll=!1}else{shouldScroll=null}if(null!=shouldScroll){scrollAnchor.style.top=top+"px";scrollAnchor.style.left=pos.left+"px";scrollAnchor.style.height=config.lineHeight+"px";scrollAnchor.scrollIntoView(shouldScroll)}shouldScroll=rect=null}});this.setAutoScrollEditorIntoView=function(enable){if(enable)return;delete this.setAutoScrollEditorIntoView;this.off("changeSelection",onChangeSelection);this.renderer.off("afterRender",onAfterRender);this.renderer.off("beforeRender",onBeforeRender)}};this.$resetCursorStyle=function(){var style=this.$cursorStyle||"ace",cursorLayer=this.renderer.$cursorLayer;if(!cursorLayer)return;cursorLayer.setSmoothBlinking(/smooth/.test(style));cursorLayer.isBlinking=!this.$readOnly&&"wide"!=style;dom.setCssClass(cursorLayer.element,"ace_slim-cursors",/slim/.test(style))}}).call(Editor.prototype);config.defineOptions(Editor.prototype,"editor",{selectionStyle:{set:function(style){this.onSelectionChange();this._signal("changeSelectionStyle",{data:style})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(readOnly){this.textInput.setReadOnly(readOnly);this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(value){this.textInput.setCopyWithEmptySelection(value)},initialValue:!1},cursorStyle:{set:function(){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(val){this.setAutoScrollEditorIntoView(val)}},keyboardHandler:{set:function(val){this.setKeyboardHandler(val)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(val){this.session.setValue(val)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(val){this.setSession(val)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(show){this.renderer.$gutterLayer.setShowLineNumbers(show);this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER);if(show&&this.$relativeLineNumbers)relativeNumberRenderer.attach(this);else relativeNumberRenderer.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(value){if(this.$showLineNumbers&&value)relativeNumberRenderer.attach(this);else relativeNumberRenderer.detach(this)}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var relativeNumberRenderer={getText:function(session,row){return(_Mathabs(session.selection.lead.row-row)||row+1+(9>row?"\xB7":""))+""},getWidth:function(session,lastLineNumber,config){return _Mathmax(lastLineNumber.toString().length,(config.lastRow+1).toString().length,2)*config.characterWidth},update:function(e,editor){editor.renderer.$loop.schedule(editor.renderer.CHANGE_GUTTER)},attach:function(editor){editor.renderer.$gutterLayer.$renderer=this;editor.on("changeSelection",this.update);this.update(null,editor)},detach:function(editor){if(editor.renderer.$gutterLayer.$renderer==this)editor.renderer.$gutterLayer.$renderer=null;editor.off("changeSelection",this.update);this.update(null,editor)}};exports.Editor=Editor});ace.define("ace/undomanager",["require","exports","module","ace/range"],function(require,exports){var UndoManager=function(){this.$maxRev=0;this.$fromUndo=!1;this.reset()};(function(){this.addSession=function(session){this.$session=session};this.add=function(delta,allowMerge){if(this.$fromUndo)return;if(delta==this.$lastDelta)return;if(!1===allowMerge||!this.lastDeltas){this.lastDeltas=[];this.$undoStack.push(this.lastDeltas);delta.id=this.$rev=++this.$maxRev}if("remove"==delta.action||"insert"==delta.action)this.$lastDelta=delta;this.lastDeltas.push(delta)};this.addSelection=function(selection,rev){this.selections.push({value:selection,rev:rev||this.$rev})};this.startNewGroup=function(){this.lastDeltas=null;return this.$rev};this.markIgnored=function(from,to){if(null==to)to=this.$rev+1;for(var stack=this.$undoStack,i=stack.length,delta;i--;){delta=stack[i][0];if(delta.id<=from)break;if(delta.id<to)delta.ignore=!0}this.lastDeltas=null};this.getSelection=function(rev,after){for(var stack=this.selections,i=stack.length,selection;i--;){selection=stack[i];if(selection.rev<rev){if(after)selection=stack[i+1];return selection}}};this.getRevision=function(){return this.$rev};this.getDeltas=function(from,to){if(null==to)to=this.$rev+1;for(var stack=this.$undoStack,end=null,start=0,i=stack.length,delta;i--;){delta=stack[i][0];if(delta.id<to&&!end)end=i+1;if(delta.id<=from){start=i+1;break}}return stack.slice(start,end)};this.getChangedRanges=function(from,to){if(null==to)to=this.$rev+1};this.getChangedLines=function(from,to){if(null==to)to=this.$rev+1};this.undo=function(session,dontSelect){this.lastDeltas=null;var stack=this.$undoStack;if(!rearrangeUndoStack(stack,stack.length))return;if(!session)session=this.$session;if(this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length)this.$redoStack=[];this.$fromUndo=!0;var deltaSet=stack.pop(),undoSelectionRange=null;if(deltaSet&&deltaSet.length){undoSelectionRange=session.undoChanges(deltaSet,dontSelect);this.$redoStack.push(deltaSet);this.$syncRev()}this.$fromUndo=!1;return undoSelectionRange};this.redo=function(session,dontSelect){this.lastDeltas=null;if(!session)session=this.$session;this.$fromUndo=!0;if(this.$redoStackBaseRev!=this.$rev){var diff=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);rebaseRedoStack(this.$redoStack,diff);this.$redoStackBaseRev=this.$rev;this.$redoStack.forEach(function(x){x[0].id=++this.$maxRev},this)}var deltaSet=this.$redoStack.pop(),redoSelectionRange=null;if(deltaSet){redoSelectionRange=session.redoChanges(deltaSet,dontSelect);this.$undoStack.push(deltaSet);this.$syncRev()}this.$fromUndo=!1;return redoSelectionRange};this.$syncRev=function(){var stack=this.$undoStack,nextDelta=stack[stack.length-1],id=nextDelta&&nextDelta[0].id||0;this.$redoStackBaseRev=id;this.$rev=id};this.reset=function(){this.lastDeltas=null;this.$lastDelta=null;this.$undoStack=[];this.$redoStack=[];this.$rev=0;this.mark=0;this.$redoStackBaseRev=this.$rev;this.selections=[]};this.canUndo=function(){return 0<this.$undoStack.length};this.canRedo=function(){return 0<this.$redoStack.length};this.bookmark=function(rev){if(rev==void 0)rev=this.$rev;this.mark=rev};this.isAtBookmark=function(){return this.$rev===this.mark};this.toJSON=function(){};this.fromJSON=function(){};this.hasUndo=this.canUndo;this.hasRedo=this.canRedo;this.isClean=this.isAtBookmark;this.markClean=this.bookmark;this.$prettyPrint=function(delta){if(delta)return stringifyDelta(delta);return stringifyDelta(this.$undoStack)+"\n---\n"+stringifyDelta(this.$redoStack)}}).call(UndoManager.prototype);function rearrangeUndoStack(stack,pos){for(var i=pos,deltaSet;i--;){deltaSet=stack[i];if(deltaSet&&!deltaSet[0].ignore){while(i<pos-1){var swapped=swapGroups(stack[i],stack[i+1]);stack[i]=swapped[0];stack[i+1]=swapped[1];i++}return!0}}}var Range=require("./range").Range,cmp=Range.comparePoints,comparePoints=Range.comparePoints;function clonePos(pos){return{row:pos.row,column:pos.column}}function cloneDelta(d){return{start:clonePos(d.start),end:clonePos(d.end),action:d.action,lines:d.lines.slice()}}function stringifyDelta(d){d=d||this;if(Array.isArray(d)){return d.map(stringifyDelta).join("\n")}var type="";if(d.action){type="insert"==d.action?"+":"-";type+="["+d.lines+"]"}else if(d.value){if(Array.isArray(d.value)){type=d.value.map(stringifyRange).join("\n")}else{type=stringifyRange(d.value)}}if(d.start){type+=stringifyRange(d)}if(d.id||d.rev){type+="\t("+(d.id||d.rev)+")"}return type}function stringifyRange(r){return r.start.row+":"+r.start.column+"=>"+r.end.row+":"+r.end.column}function swap(d1,d2){var i1="insert"==d1.action,i2="insert"==d2.action;if(i1&&i2){if(0<=cmp(d2.start,d1.end)){shift(d2,d1,-1)}else if(0>=cmp(d2.start,d1.start)){shift(d1,d2,+1)}else{return null}}else if(i1&&!i2){if(0<=cmp(d2.start,d1.end)){shift(d2,d1,-1)}else if(0>=cmp(d2.end,d1.start)){shift(d1,d2,-1)}else{return null}}else if(!i1&&i2){if(0<=cmp(d2.start,d1.start)){shift(d2,d1,+1)}else if(0>=cmp(d2.start,d1.start)){shift(d1,d2,+1)}else{return null}}else if(!i1&&!i2){if(0<=cmp(d2.start,d1.start)){shift(d2,d1,+1)}else if(0>=cmp(d2.end,d1.start)){shift(d1,d2,-1)}else{return null}}return[d2,d1]}function swapGroups(ds1,ds2){for(var i=ds1.length;i--;){for(var j=0;j<ds2.length;j++){if(!swap(ds1[i],ds2[j])){while(i<ds1.length){while(j--){swap(ds2[j],ds1[i])}j=ds2.length;i++}return[ds1,ds2]}}}ds1.selectionBefore=ds2.selectionBefore=ds1.selectionAfter=ds2.selectionAfter=null;return[ds2,ds1]}function xform(d1,c1){var i1="insert"==d1.action,i2="insert"==c1.action;if(i1&&i2){if(0>cmp(d1.start,c1.start)){shift(c1,d1,1)}else{shift(d1,c1,1)}}else if(i1&&!i2){if(0<=cmp(d1.start,c1.end)){shift(d1,c1,-1)}else if(0>=cmp(d1.start,c1.start)){shift(c1,d1,+1)}else{shift(d1,Range.fromPoints(c1.start,d1.start),-1);shift(c1,d1,+1)}}else if(!i1&&i2){if(0<=cmp(c1.start,d1.end)){shift(c1,d1,-1)}else if(0>=cmp(c1.start,d1.start)){shift(d1,c1,+1)}else{shift(c1,Range.fromPoints(d1.start,c1.start),-1);shift(d1,c1,+1)}}else if(!i1&&!i2){if(0<=cmp(c1.start,d1.end)){shift(c1,d1,-1)}else if(0>=cmp(c1.end,d1.start)){shift(d1,c1,-1)}else{var before,after;if(0>cmp(d1.start,c1.start)){before=d1;d1=splitDelta(d1,c1.start)}if(0<cmp(d1.end,c1.end)){after=splitDelta(d1,c1.end)}shiftPos(c1.end,d1.start,d1.end,-1);if(after&&!before){d1.lines=after.lines;d1.start=after.start;d1.end=after.end;after=d1}return[c1,before,after].filter(Boolean)}}return[c1,d1]}function shift(d1,d2,dir){shiftPos(d1.start,d2.start,d2.end,dir);shiftPos(d1.end,d2.start,d2.end,dir)}function shiftPos(pos,start,end,dir){if(pos.row==(1==dir?start:end).row){pos.column+=dir*(end.column-start.column)}pos.row+=dir*(end.row-start.row)}function splitDelta(c,pos){var lines=c.lines,end=c.end;c.end=clonePos(pos);var rowsBefore=c.end.row-c.start.row,otherLines=lines.splice(rowsBefore,lines.length),col=rowsBefore?pos.column:pos.column-c.start.column;lines.push(otherLines[0].substring(0,col));otherLines[0]=otherLines[0].substr(col);var rest={start:clonePos(pos),end:end,lines:otherLines,action:c.action};return rest}function moveDeltasByOne(redoStack,d){d=cloneDelta(d);for(var j=redoStack.length,deltaSet;j--;){deltaSet=redoStack[j];for(var i=0;i<deltaSet.length;i++){var x=deltaSet[i],xformed=xform(x,d);d=xformed[0];if(2!=xformed.length){if(xformed[2]){deltaSet.splice(i+1,1,xformed[1],xformed[2]);i++}else if(!xformed[1]){deltaSet.splice(i,1);i--}}}if(!deltaSet.length){redoStack.splice(j,1)}}return redoStack}function rebaseRedoStack(redoStack,deltaSets){for(var i=0,deltas;i<deltaSets.length;i++){deltas=deltaSets[i];for(var j=0;j<deltas.length;j++){moveDeltasByOne(redoStack,deltas[j])}}}exports.UndoManager=UndoManager});ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(require,exports){var dom=require("../lib/dom"),Lines=function(element,canvasHeight){this.element=element;this.canvasHeight=canvasHeight||5e5;this.element.style.height=2*this.canvasHeight+"px";this.cells=[];this.cellCache=[];this.$offsetCoefficient=0};(function(){this.moveContainer=function(config){dom.translate(this.element,0,-(config.firstRowScreen*config.lineHeight%this.canvasHeight)-config.offset*this.$offsetCoefficient)};this.pageChanged=function(oldConfig,newConfig){return _Mathfloor(oldConfig.firstRowScreen*oldConfig.lineHeight/this.canvasHeight)!==_Mathfloor(newConfig.firstRowScreen*newConfig.lineHeight/this.canvasHeight)};this.computeLineTop=function(row,config,session){var screenTop=config.firstRowScreen*config.lineHeight,screenPage=_Mathfloor(screenTop/this.canvasHeight),lineTop=session.documentToScreenRow(row,0)*config.lineHeight;return lineTop-screenPage*this.canvasHeight};this.computeLineHeight=function(row,config,session){return config.lineHeight*session.getRowLength(row)};this.getLength=function(){return this.cells.length};this.get=function(index){return this.cells[index]};this.shift=function(){this.$cacheCell(this.cells.shift())};this.pop=function(){this.$cacheCell(this.cells.pop())};this.push=function(cell){if(Array.isArray(cell)){this.cells.push.apply(this.cells,cell);for(var fragment=dom.createFragment(this.element),i=0;i<cell.length;i++){fragment.appendChild(cell[i].element)}this.element.appendChild(fragment)}else{this.cells.push(cell);this.element.appendChild(cell.element)}};this.unshift=function(cell){if(Array.isArray(cell)){this.cells.unshift.apply(this.cells,cell);for(var fragment=dom.createFragment(this.element),i=0;i<cell.length;i++){fragment.appendChild(cell[i].element)}if(this.element.firstChild)this.element.insertBefore(fragment,this.element.firstChild);else this.element.appendChild(fragment)}else{this.cells.unshift(cell);this.element.insertAdjacentElement("afterbegin",cell.element)}};this.last=function(){if(this.cells.length)return this.cells[this.cells.length-1];else return null};this.$cacheCell=function(cell){if(!cell)return;cell.element.remove();this.cellCache.push(cell)};this.createCell=function(row,config,session,initElement){var cell=this.cellCache.pop();if(!cell){var element=dom.createElement("div");if(initElement)initElement(element);this.element.appendChild(element);cell={element:element,text:"",row:row}}cell.row=row;return cell}}).call(Lines.prototype);exports.Lines=Lines});ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(require,exports){var dom=require("../lib/dom"),oop=require("../lib/oop"),lang=require("../lib/lang"),EventEmitter=require("../lib/event_emitter").EventEmitter,Lines=require("./lines").Lines,Gutter=function(parentEl){this.element=dom.createElement("div");this.element.className="ace_layer ace_gutter-layer";parentEl.appendChild(this.element);this.setShowFoldWidgets(this.$showFoldWidgets);this.gutterWidth=0;this.$annotations=[];this.$updateAnnotations=this.$updateAnnotations.bind(this);this.$lines=new Lines(this.element);this.$lines.$offsetCoefficient=1};(function(){oop.implement(this,EventEmitter);this.setSession=function(session){if(this.session)this.session.removeEventListener("change",this.$updateAnnotations);this.session=session;if(session)session.on("change",this.$updateAnnotations)};this.addGutterDecoration=function(row,className){if(window.console)console.warn&&console.warn("deprecated use session.addGutterDecoration");this.session.addGutterDecoration(row,className)};this.removeGutterDecoration=function(row,className){if(window.console)console.warn&&console.warn("deprecated use session.removeGutterDecoration");this.session.removeGutterDecoration(row,className)};this.setAnnotations=function(annotations){this.$annotations=[];for(var i=0;i<annotations.length;i++){var annotation=annotations[i],row=annotation.row,rowInfo=this.$annotations[row];if(!rowInfo)rowInfo=this.$annotations[row]={text:[]};var annoText=annotation.text;annoText=annoText?lang.escapeHTML(annoText):annotation.html||"";if(-1===rowInfo.text.indexOf(annoText))rowInfo.text.push(annoText);var type=annotation.type;if("error"==type)rowInfo.className=" ace_error";else if("warning"==type&&" ace_error"!=rowInfo.className)rowInfo.className=" ace_warning";else if("info"==type&&!rowInfo.className)rowInfo.className=" ace_info"}};this.$updateAnnotations=function(delta){if(!this.$annotations.length)return;var firstRow=delta.start.row,len=delta.end.row-firstRow;if(0===len){}else if("remove"==delta.action){this.$annotations.splice(firstRow,len+1,null)}else{var args=Array(len+1);args.unshift(firstRow,1);this.$annotations.splice.apply(this.$annotations,args)}};this.update=function(config){this.config=config;var session=this.session,firstRow=config.firstRow,lastRow=_Mathmin(config.lastRow+config.gutterOffset,session.getLength()-1);this.oldLastRow=lastRow;this.config=config;this.$lines.moveContainer(config);this.$updateCursorRow();var fold=session.getNextFoldLine(firstRow),foldStart=fold?fold.start.row:1/0,cell=null,index=-1,row=firstRow;while(!0){if(row>foldStart){row=fold.end.row+1;fold=session.getNextFoldLine(row,fold);foldStart=fold?fold.start.row:1/0}if(row>lastRow){while(this.$lines.getLength()>index+1)this.$lines.pop();break}cell=this.$lines.get(++index);if(cell){cell.row=row}else{cell=this.$lines.createCell(row,config,this.session,onCreateCell);this.$lines.push(cell)}this.$renderCell(cell,config,fold,row);row++}this._signal("afterRender");this.$updateGutterWidth(config)};this.$updateGutterWidth=function(config){var session=this.session,gutterRenderer=session.gutterRenderer||this.$renderer,firstLineNumber=session.$firstLineNumber,lastLineText=this.$lines.last()?this.$lines.last().text:"";if(this.$fixedWidth||session.$useWrapMode)lastLineText=session.getLength()+firstLineNumber;var gutterWidth=gutterRenderer?gutterRenderer.getWidth(session,lastLineText,config):lastLineText.toString().length*config.characterWidth,padding=this.$padding||this.$computePadding();gutterWidth+=padding.left+padding.right;if(gutterWidth!==this.gutterWidth&&!isNaN(gutterWidth)){this.gutterWidth=gutterWidth;this.element.parentNode.style.width=this.element.style.width=_Mathceil(this.gutterWidth)+"px";this._signal("changeGutterWidth",gutterWidth)}};this.$updateCursorRow=function(){if(!this.$highlightGutterLine)return;var position=this.session.selection.getCursor();if(this.$cursorRow===position.row)return;this.$cursorRow=position.row};this.updateLineHighlight=function(){if(!this.$highlightGutterLine)return;var row=this.session.selection.cursor.row;this.$cursorRow=row;if(this.$cursorCell&&this.$cursorCell.row==row)return;if(this.$cursorCell)this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","");var cells=this.$lines.cells;this.$cursorCell=null;for(var i=0,cell;i<cells.length;i++){cell=cells[i];if(cell.row>=this.$cursorRow){if(cell.row>this.$cursorRow){var fold=this.session.getFoldLine(this.$cursorRow);if(0<i&&fold&&fold.start.row==cells[i-1].row)cell=cells[i-1];else break}cell.element.className="ace_gutter-active-line "+cell.element.className;this.$cursorCell=cell;break}}};this.scrollLines=function(config){var oldConfig=this.config;this.config=config;this.$updateCursorRow();if(this.$lines.pageChanged(oldConfig,config))return this.update(config);this.$lines.moveContainer(config);var lastRow=_Mathmin(config.lastRow+config.gutterOffset,this.session.getLength()-1),oldLastRow=this.oldLastRow;this.oldLastRow=lastRow;if(!oldConfig||oldLastRow<config.firstRow)return this.update(config);if(lastRow<oldConfig.firstRow)return this.update(config);if(oldConfig.firstRow<config.firstRow)for(var row=this.session.getFoldedRowCount(oldConfig.firstRow,config.firstRow-1);0<row;row--)this.$lines.shift();if(oldLastRow>lastRow)for(var row=this.session.getFoldedRowCount(lastRow+1,oldLastRow);0<row;row--)this.$lines.pop();if(config.firstRow<oldConfig.firstRow){this.$lines.unshift(this.$renderLines(config,config.firstRow,oldConfig.firstRow-1))}if(lastRow>oldLastRow){this.$lines.push(this.$renderLines(config,oldLastRow+1,lastRow))}this.updateLineHighlight();this._signal("afterRender");this.$updateGutterWidth(config)};this.$renderLines=function(config,firstRow,lastRow){var fragment=[],row=firstRow,foldLine=this.session.getNextFoldLine(row),foldStart=foldLine?foldLine.start.row:1/0;while(!0){if(row>foldStart){row=foldLine.end.row+1;foldLine=this.session.getNextFoldLine(row,foldLine);foldStart=foldLine?foldLine.start.row:1/0}if(row>lastRow)break;var cell=this.$lines.createCell(row,config,this.session,onCreateCell);this.$renderCell(cell,config,foldLine,row);fragment.push(cell);row++}return fragment};this.$renderCell=function(cell,config,fold,row){var element=cell.element,session=this.session,textNode=element.childNodes[0],foldWidget=element.childNodes[1],firstLineNumber=session.$firstLineNumber,breakpoints=session.$breakpoints,decorations=session.$decorations,gutterRenderer=session.gutterRenderer||this.$renderer,foldWidgets=this.$showFoldWidgets&&session.foldWidgets,foldStart=fold?fold.start.row:_NumberMAX_VALUE,className="ace_gutter-cell ";if(this.$highlightGutterLine){if(row==this.$cursorRow||fold&&row<this.$cursorRow&&row>=foldStart&&this.$cursorRow<=fold.end.row){className+="ace_gutter-active-line ";if(this.$cursorCell!=cell){if(this.$cursorCell)this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","");this.$cursorCell=cell}}}if(breakpoints[row])className+=breakpoints[row];if(decorations[row])className+=decorations[row];if(this.$annotations[row])className+=this.$annotations[row].className;if(element.className!=className)element.className=className;if(foldWidgets){var c=foldWidgets[row];if(null==c)c=foldWidgets[row]=session.getFoldWidget(row)}if(c){var className="ace_fold-widget ace_"+c;if("start"==c&&row==foldStart&&row<fold.end.row)className+=" ace_closed";else className+=" ace_open";if(foldWidget.className!=className)foldWidget.className=className;var foldHeight=config.lineHeight+"px";dom.setStyle(foldWidget.style,"height",foldHeight);dom.setStyle(foldWidget.style,"display","inline-block")}else{if(foldWidget){dom.setStyle(foldWidget.style,"display","none")}}var text=(gutterRenderer?gutterRenderer.getText(session,row):row+firstLineNumber).toString();if(text!==textNode.data){textNode.data=text}dom.setStyle(cell.element.style,"height",this.$lines.computeLineHeight(row,config,session)+"px");dom.setStyle(cell.element.style,"top",this.$lines.computeLineTop(row,config,session)+"px");cell.text=text;return cell};this.$fixedWidth=!1;this.$highlightGutterLine=!0;this.$renderer="";this.setHighlightGutterLine=function(highlightGutterLine){this.$highlightGutterLine=highlightGutterLine};this.$showLineNumbers=!0;this.$renderer="";this.setShowLineNumbers=function(show){this.$renderer=!show&&{getWidth:function(){return""},getText:function(){return""}}};this.getShowLineNumbers=function(){return this.$showLineNumbers};this.$showFoldWidgets=!0;this.setShowFoldWidgets=function(show){if(show)dom.addCssClass(this.element,"ace_folding-enabled");else dom.removeCssClass(this.element,"ace_folding-enabled");this.$showFoldWidgets=show;this.$padding=null};this.getShowFoldWidgets=function(){return this.$showFoldWidgets};this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var style=dom.computedStyle(this.element.firstChild);this.$padding={};this.$padding.left=(parseInt(style.borderLeftWidth)||0)+(parseInt(style.paddingLeft)||0)+1;this.$padding.right=(parseInt(style.borderRightWidth)||0)+(parseInt(style.paddingRight)||0);return this.$padding};this.getRegion=function(point){var padding=this.$padding||this.$computePadding(),rect=this.element.getBoundingClientRect();if(point.x<padding.left+rect.left)return"markers";if(this.$showFoldWidgets&&point.x>rect.right-padding.right)return"foldWidgets"}}).call(Gutter.prototype);function onCreateCell(element){var textNode=document.createTextNode("");element.appendChild(textNode);var foldWidget=dom.createElement("span");element.appendChild(foldWidget);return element}exports.Gutter=Gutter});ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(require,exports){var Range=require("../range").Range,dom=require("../lib/dom"),Marker=function(parentEl){this.element=dom.createElement("div");this.element.className="ace_layer ace_marker-layer";parentEl.appendChild(this.element)};(function(){this.$padding=0;this.setPadding=function(padding){this.$padding=padding};this.setSession=function(session){this.session=session};this.setMarkers=function(markers){this.markers=markers};this.elt=function(className,css){var x=-1!=this.i&&this.element.childNodes[this.i];if(!x){x=document.createElement("div");this.element.appendChild(x);this.i=-1}else{this.i++}x.style.cssText=css;x.className=className};this.update=function(config){if(!config)return;this.config=config;this.i=0;var html;for(var key in this.markers){var marker=this.markers[key];if(!marker.range){marker.update(html,this,this.session,config);continue}var range=marker.range.clipRows(config.firstRow,config.lastRow);if(range.isEmpty())continue;range=range.toScreenRange(this.session);if(marker.renderer){var top=this.$getTop(range.start.row,config),left=this.$padding+range.start.column*config.characterWidth;marker.renderer(html,range,left,top,config)}else if("fullLine"==marker.type){this.drawFullLineMarker(html,range,marker.clazz,config)}else if("screenLine"==marker.type){this.drawScreenLineMarker(html,range,marker.clazz,config)}else if(range.isMultiLine()){if("text"==marker.type)this.drawTextMarker(html,range,marker.clazz,config);else this.drawMultiLineMarker(html,range,marker.clazz,config)}else{this.drawSingleLineMarker(html,range,marker.clazz+" ace_start"+" ace_br15",config)}}if(-1!=this.i){while(this.i<this.element.childElementCount)this.element.removeChild(this.element.lastChild)}};this.$getTop=function(row,layerConfig){return(row-layerConfig.firstRowScreen)*layerConfig.lineHeight};function getBorderClass(tl,tr,br,bl){return(tl?1:0)|(tr?2:0)|(br?4:0)|(bl?8:0)}this.drawTextMarker=function(stringBuilder,range,clazz,layerConfig,extraStyle){var session=this.session,start=range.start.row,end=range.end.row,row=start,prev=0,curr=0,next=session.getScreenLastRowColumn(row),lineRange=new Range(row,range.start.column,row,curr);for(;row<=end;row++){lineRange.start.row=lineRange.end.row=row;lineRange.start.column=row==start?range.start.column:session.getRowWrapIndent(row);lineRange.end.column=next;prev=curr;curr=next;next=row+1<end?session.getScreenLastRowColumn(row+1):row==end?0:range.end.column;this.drawSingleLineMarker(stringBuilder,lineRange,clazz+(row==start?" ace_start":"")+" ace_br"+getBorderClass(row==start||row==start+1&&range.start.column,prev<curr,curr>next,row==end),layerConfig,row==end?0:1,extraStyle)}};this.drawMultiLineMarker=function(stringBuilder,range,clazz,config,extraStyle){var padding=this.$padding,height=config.lineHeight,top=this.$getTop(range.start.row,config),left=padding+range.start.column*config.characterWidth;extraStyle=extraStyle||"";if(this.session.$bidiHandler.isBidiRow(range.start.row)){var range1=range.clone();range1.end.row=range1.start.row;range1.end.column=this.session.getLine(range1.start.row).length;this.drawBidiSingleLineMarker(stringBuilder,range1,clazz+" ace_br1 ace_start",config,null,extraStyle)}else{this.elt(clazz+" ace_br1 ace_start","height:"+height+"px;"+"right:0;"+"top:"+top+"px;left:"+left+"px;"+(extraStyle||""))}if(this.session.$bidiHandler.isBidiRow(range.end.row)){var range1=range.clone();range1.start.row=range1.end.row;range1.start.column=0;this.drawBidiSingleLineMarker(stringBuilder,range1,clazz+" ace_br12",config,null,extraStyle)}else{top=this.$getTop(range.end.row,config);var width=range.end.column*config.characterWidth;this.elt(clazz+" ace_br12","height:"+height+"px;"+"width:"+width+"px;"+"top:"+top+"px;"+"left:"+padding+"px;"+(extraStyle||""))}height=(range.end.row-range.start.row-1)*config.lineHeight;if(0>=height)return;top=this.$getTop(range.start.row+1,config);var radiusClass=(range.start.column?1:0)|(range.end.column?0:8);this.elt(clazz+(radiusClass?" ace_br"+radiusClass:""),"height:"+height+"px;"+"right:0;"+"top:"+top+"px;"+"left:"+padding+"px;"+(extraStyle||""))};this.drawSingleLineMarker=function(stringBuilder,range,clazz,config,extraLength,extraStyle){if(this.session.$bidiHandler.isBidiRow(range.start.row))return this.drawBidiSingleLineMarker(stringBuilder,range,clazz,config,extraLength,extraStyle);var height=config.lineHeight,width=(range.end.column+(extraLength||0)-range.start.column)*config.characterWidth,top=this.$getTop(range.start.row,config),left=this.$padding+range.start.column*config.characterWidth;this.elt(clazz,"height:"+height+"px;"+"width:"+width+"px;"+"top:"+top+"px;"+"left:"+left+"px;"+(extraStyle||""))};this.drawBidiSingleLineMarker=function(stringBuilder,range,clazz,config,extraLength,extraStyle){var height=config.lineHeight,top=this.$getTop(range.start.row,config),padding=this.$padding,selections=this.session.$bidiHandler.getSelections(range.start.column,range.end.column);selections.forEach(function(selection){this.elt(clazz,"height:"+height+"px;"+"width:"+selection.width+(extraLength||0)+"px;"+"top:"+top+"px;"+"left:"+(padding+selection.left)+"px;"+(extraStyle||""))},this)};this.drawFullLineMarker=function(stringBuilder,range,clazz,config,extraStyle){var top=this.$getTop(range.start.row,config),height=config.lineHeight;if(range.start.row!=range.end.row)height+=this.$getTop(range.end.row,config)-top;this.elt(clazz,"height:"+height+"px;"+"top:"+top+"px;"+"left:0;right:0;"+(extraStyle||""))};this.drawScreenLineMarker=function(stringBuilder,range,clazz,config,extraStyle){var top=this.$getTop(range.start.row,config),height=config.lineHeight;this.elt(clazz,"height:"+height+"px;"+"top:"+top+"px;"+"left:0;right:0;"+(extraStyle||""))}}).call(Marker.prototype);exports.Marker=Marker});ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(require,exports){var oop=require("../lib/oop"),dom=require("../lib/dom"),lang=require("../lib/lang"),Lines=require("./lines").Lines,EventEmitter=require("../lib/event_emitter").EventEmitter,Text=function(parentEl){this.dom=dom;this.element=this.dom.createElement("div");this.element.className="ace_layer ace_text-layer";parentEl.appendChild(this.element);this.$updateEolChar=this.$updateEolChar.bind(this);this.$lines=new Lines(this.element)};(function(){oop.implement(this,EventEmitter);this.EOF_CHAR="\xB6";this.EOL_CHAR_LF="\xAC";this.EOL_CHAR_CRLF="\xA4";this.EOL_CHAR=this.EOL_CHAR_LF;this.TAB_CHAR="\u2014";this.SPACE_CHAR="\xB7";this.$padding=0;this.MAX_LINE_LENGTH=1e4;this.$updateEolChar=function(){var doc=this.session.doc,unixMode="\n"==doc.getNewLineCharacter()&&"windows"!=doc.getNewLineMode(),EOL_CHAR=unixMode?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=EOL_CHAR){this.EOL_CHAR=EOL_CHAR;return!0}};this.setPadding=function(padding){this.$padding=padding;this.element.style.margin="0 "+padding+"px"};this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0};this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0};this.$setFontMetrics=function(measure){this.$fontMetrics=measure;this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this));this.$pollSizeChanges()};this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()};this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()};this.setSession=function(session){this.session=session;if(session)this.$computeTabString()};this.showInvisibles=!1;this.setShowInvisibles=function(showInvisibles){if(this.showInvisibles==showInvisibles)return!1;this.showInvisibles=showInvisibles;this.$computeTabString();return!0};this.displayIndentGuides=!0;this.setDisplayIndentGuides=function(display){if(this.displayIndentGuides==display)return!1;this.displayIndentGuides=display;this.$computeTabString();return!0};this.$tabStrings=[];this.onChangeTabSize=this.$computeTabString=function(){var tabSize=this.session.getTabSize();this.tabSize=tabSize;for(var tabStr=this.$tabStrings=[0],i=1;i<tabSize+1;i++){if(this.showInvisibles){var span=this.dom.createElement("span");span.className="ace_invisible ace_invisible_tab";span.textContent=lang.stringRepeat(this.TAB_CHAR,i);tabStr.push(span)}else{tabStr.push(this.dom.createTextNode(lang.stringRepeat(" ",i),this.element))}}if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var className="ace_indent-guide",spaceClass="",tabClass="";if(this.showInvisibles){className+=" ace_invisible";spaceClass=" ace_invisible_space";tabClass=" ace_invisible_tab";var spaceContent=lang.stringRepeat(this.SPACE_CHAR,this.tabSize),tabContent=lang.stringRepeat(this.TAB_CHAR,this.tabSize)}else{var spaceContent=lang.stringRepeat(" ",this.tabSize),tabContent=spaceContent}var span=this.dom.createElement("span");span.className=className+spaceClass;span.textContent=spaceContent;this.$tabStrings[" "]=span;var span=this.dom.createElement("span");span.className=className+tabClass;span.textContent=tabContent;this.$tabStrings["\t"]=span}};this.updateLines=function(config,firstRow,lastRow){if(this.config.lastRow!=config.lastRow||this.config.firstRow!=config.firstRow){return this.update(config)}this.config=config;for(var first=_Mathmax(firstRow,config.firstRow),last=_Mathmin(lastRow,config.lastRow),lineElements=this.element.childNodes,lineElementsIdx=0,row=config.firstRow,foldLine;row<first;row++){foldLine=this.session.getFoldLine(row);if(foldLine){if(foldLine.containsRow(first)){first=foldLine.start.row;break}else{row=foldLine.end.row}}lineElementsIdx++}var heightChanged=!1,row=first,foldLine=this.session.getNextFoldLine(row),foldStart=foldLine?foldLine.start.row:1/0;while(!0){if(row>foldStart){row=foldLine.end.row+1;foldLine=this.session.getNextFoldLine(row,foldLine);foldStart=foldLine?foldLine.start.row:1/0}if(row>last)break;var lineElement=lineElements[lineElementsIdx++];if(lineElement){this.dom.removeChildren(lineElement);this.$renderLine(lineElement,row,row==foldStart?foldLine:!1);var height=config.lineHeight*this.session.getRowLength(row)+"px";if(lineElement.style.height!=height){heightChanged=!0;lineElement.style.height=height}}row++}if(heightChanged){while(lineElementsIdx<this.$lines.cells.length){var cell=this.$lines.cells[lineElementsIdx++];cell.element.style.top=this.$lines.computeLineTop(cell.row,config,this.session)+"px"}}};this.scrollLines=function(config){var oldConfig=this.config;this.config=config;if(this.$lines.pageChanged(oldConfig,config))return this.update(config);this.$lines.moveContainer(config);var lastRow=config.lastRow,oldLastRow=oldConfig?oldConfig.lastRow:-1;if(!oldConfig||oldLastRow<config.firstRow)return this.update(config);if(lastRow<oldConfig.firstRow)return this.update(config);if(!oldConfig||oldConfig.lastRow<config.firstRow)return this.update(config);if(config.lastRow<oldConfig.firstRow)return this.update(config);if(oldConfig.firstRow<config.firstRow)for(var row=this.session.getFoldedRowCount(oldConfig.firstRow,config.firstRow-1);0<row;row--)this.$lines.shift();if(oldConfig.lastRow>config.lastRow)for(var row=this.session.getFoldedRowCount(config.lastRow+1,oldConfig.lastRow);0<row;row--)this.$lines.pop();if(config.firstRow<oldConfig.firstRow){this.$lines.unshift(this.$renderLinesFragment(config,config.firstRow,oldConfig.firstRow-1))}if(config.lastRow>oldConfig.lastRow){this.$lines.push(this.$renderLinesFragment(config,oldConfig.lastRow+1,config.lastRow))}};this.$renderLinesFragment=function(config,firstRow,lastRow){var fragment=[],row=firstRow,foldLine=this.session.getNextFoldLine(row),foldStart=foldLine?foldLine.start.row:1/0;while(!0){if(row>foldStart){row=foldLine.end.row+1;foldLine=this.session.getNextFoldLine(row,foldLine);foldStart=foldLine?foldLine.start.row:1/0}if(row>lastRow)break;var line=this.$lines.createCell(row,config,this.session),lineEl=line.element;this.dom.removeChildren(lineEl);dom.setStyle(lineEl.style,"height",this.$lines.computeLineHeight(row,config,this.session)+"px");dom.setStyle(lineEl.style,"top",this.$lines.computeLineTop(row,config,this.session)+"px");this.$renderLine(lineEl,row,row==foldStart?foldLine:!1);if(this.$useLineGroups()){lineEl.className="ace_line_group"}else{lineEl.className="ace_line"}fragment.push(line);row++}return fragment};this.update=function(config){this.$lines.moveContainer(config);this.config=config;var firstRow=config.firstRow,lastRow=config.lastRow,lines=this.$lines;while(lines.getLength())lines.pop();lines.push(this.$renderLinesFragment(config,firstRow,lastRow))};this.$textToken={text:!0,rparen:!0,lparen:!0};this.$renderToken=function(parent,screenColumn,token,value){var self=this,re=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,valueFragment=this.dom.createFragment(this.element),m,i=0;while(m=re.exec(value)){var tab=m[1],simpleSpace=m[2],controlCharacter=m[3],cjkSpace=m[4],cjk=m[5];if(!self.showInvisibles&&simpleSpace)continue;var before=i!=m.index?value.slice(i,m.index):"";i=m.index+m[0].length;if(before){valueFragment.appendChild(this.dom.createTextNode(before,this.element))}if(tab){var tabSize=self.session.getScreenTabSize(screenColumn+m.index);valueFragment.appendChild(self.$tabStrings[tabSize].cloneNode(!0));screenColumn+=tabSize-1}else if(simpleSpace){if(self.showInvisibles){var span=this.dom.createElement("span");span.className="ace_invisible ace_invisible_space";span.textContent=lang.stringRepeat(self.SPACE_CHAR,simpleSpace.length);valueFragment.appendChild(span)}else{valueFragment.appendChild(this.com.createTextNode(simpleSpace,this.element))}}else if(controlCharacter){var span=this.dom.createElement("span");span.className="ace_invisible ace_invisible_space ace_invalid";span.textContent=lang.stringRepeat(self.SPACE_CHAR,controlCharacter.length);valueFragment.appendChild(span)}else if(cjkSpace){self.showInvisibles?self.SPACE_CHAR:"";screenColumn+=1;var span=this.dom.createElement("span");span.style.width=2*self.config.characterWidth+"px";span.className=self.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk";span.textContent=self.showInvisibles?self.SPACE_CHAR:"";valueFragment.appendChild(span)}else if(cjk){screenColumn+=1;var span=dom.createElement("span");span.style.width=2*self.config.characterWidth+"px";span.className="ace_cjk";span.textContent=cjk;valueFragment.appendChild(span)}}valueFragment.appendChild(this.dom.createTextNode(i?value.slice(i):value,this.element));if(!this.$textToken[token.type]){var classes="ace_"+token.type.replace(/\./g," ace_"),span=this.dom.createElement("span");if("fold"==token.type)span.style.width=token.value.length*this.config.characterWidth+"px";span.className=classes;span.appendChild(valueFragment);parent.appendChild(span)}else{parent.appendChild(valueFragment)}return screenColumn+value.length};this.renderIndentGuide=function(parent,value,max){var cols=value.search(this.$indentGuideRe);if(0>=cols||cols>=max)return value;if(" "==value[0]){cols-=cols%this.tabSize;for(var count=cols/this.tabSize,i=0;i<count;i++){parent.appendChild(this.$tabStrings[" "].cloneNode(!0))}return value.substr(cols)}else if("\t"==value[0]){for(var i=0;i<cols;i++){parent.appendChild(this.$tabStrings["\t"].cloneNode(!0))}return value.substr(cols)}return value};this.$createLineElement=function(){var lineEl=this.dom.createElement("div");lineEl.className="ace_line";lineEl.style.height=this.config.lineHeight+"px";return lineEl};this.$renderWrappedLine=function(parent,tokens,splits){var chars=0,split=0,splitChars=splits[0],screenColumn=0,lineEl=this.$createLineElement();parent.appendChild(lineEl);for(var i=0;i<tokens.length;i++){var token=tokens[i],value=token.value;if(0==i&&this.displayIndentGuides){chars=value.length;value=this.renderIndentGuide(lineEl,value,splitChars);if(!value)continue;chars-=value.length}if(chars+value.length<splitChars){screenColumn=this.$renderToken(lineEl,screenColumn,token,value);chars+=value.length}else{while(chars+value.length>=splitChars){screenColumn=this.$renderToken(lineEl,screenColumn,token,value.substring(0,splitChars-chars));value=value.substring(splitChars-chars);chars=splitChars;lineEl=this.$createLineElement();parent.appendChild(lineEl);lineEl.appendChild(this.dom.createTextNode(lang.stringRepeat("\xA0",splits.indent),this.element));split++;screenColumn=0;splitChars=splits[split]||_NumberMAX_VALUE}if(0!=value.length){chars+=value.length;screenColumn=this.$renderToken(lineEl,screenColumn,token,value)}}}};this.$renderSimpleLine=function(parent,tokens){var screenColumn=0,token=tokens[0],value=token.value;if(this.displayIndentGuides)value=this.renderIndentGuide(parent,value);if(value)screenColumn=this.$renderToken(parent,screenColumn,token,value);for(var i=1;i<tokens.length;i++){token=tokens[i];value=token.value;if(screenColumn+value.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(parent,screenColumn,token,value);screenColumn=this.$renderToken(parent,screenColumn,token,value)}};this.$renderOverflowMessage=function(parent,screenColumn,token,value){this.$renderToken(parent,screenColumn,token,value.slice(0,this.MAX_LINE_LENGTH-screenColumn));var overflowEl=this.dom.createElement("span");overflowEl.className="ace_inline_button ace_keyword ace_toggle_wrap";overflowEl.style.position="absolute";overflowEl.style.right="0";overflowEl.textContent="<click to see more...>";parent.appendChild(overflowEl)};this.$renderLine=function(parent,row,foldLine){if(!foldLine&&!1!=foldLine)foldLine=this.session.getFoldLine(row);if(foldLine)var tokens=this.$getFoldLineTokens(row,foldLine);else var tokens=this.session.getTokens(row);var lastLineEl=parent;if(tokens.length){var splits=this.session.getRowSplitData(row);if(splits&&splits.length){this.$renderWrappedLine(parent,tokens,splits);var lastLineEl=parent.lastChild}else{var lastLineEl=parent;if(this.$useLineGroups()){lastLineEl=this.$createLineElement();parent.appendChild(lastLineEl)}this.$renderSimpleLine(lastLineEl,tokens)}}else if(this.$useLineGroups()){lastLineEl=this.$createLineElement();parent.appendChild(lastLineEl)}if(this.showInvisibles&&lastLineEl){if(foldLine)row=foldLine.end.row;var invisibleEl=this.dom.createElement("span");invisibleEl.className="ace_invisible ace_invisible_eol";invisibleEl.textContent=row==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR;lastLineEl.appendChild(invisibleEl)}};this.$getFoldLineTokens=function(row,foldLine){var session=this.session,renderTokens=[];function addTokens(tokens,from,to){var idx=0,col=0;while(col+tokens[idx].value.length<from){col+=tokens[idx].value.length;idx++;if(idx==tokens.length)return}if(col!=from){var value=tokens[idx].value.substring(from-col);if(value.length>to-from)value=value.substring(0,to-from);renderTokens.push({type:tokens[idx].type,value:value});col=from+value.length;idx+=1}while(col<to&&idx<tokens.length){var value=tokens[idx].value;if(value.length+col>to){renderTokens.push({type:tokens[idx].type,value:value.substring(0,to-col)})}else renderTokens.push(tokens[idx]);col+=value.length;idx+=1}}var tokens=session.getTokens(row);foldLine.walk(function(placeholder,row,column,lastColumn,isNewRow){if(null!=placeholder){renderTokens.push({type:"fold",value:placeholder})}else{if(isNewRow)tokens=session.getTokens(row);if(tokens.length)addTokens(tokens,lastColumn,column)}},foldLine.end.row,this.session.getLine(foldLine.end.row).length);return renderTokens};this.$useLineGroups=function(){return this.session.getUseWrapMode()};this.destroy=function(){}}).call(Text.prototype);exports.Text=Text});ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(require,exports){var dom=require("../lib/dom"),Cursor=function(parentEl){this.element=dom.createElement("div");this.element.className="ace_layer ace_cursor-layer";parentEl.appendChild(this.element);this.isVisible=!1;this.isBlinking=!0;this.blinkInterval=1e3;this.smoothBlinking=!1;this.cursors=[];this.cursor=this.addCursor();dom.addCssClass(this.element,"ace_hidden-cursors");this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(val){for(var cursors=this.cursors,i=cursors.length;i--;)dom.setStyle(cursors[i].style,"opacity",val?"":"0")};this.$startCssAnimation=function(){for(var cursors=this.cursors,i=cursors.length;i--;)cursors[i].style.animationDuration=this.blinkInterval+"ms";setTimeout(function(){dom.addCssClass(this.element,"ace_animate-blinking")}.bind(this))};this.$stopCssAnimation=function(){dom.removeCssClass(this.element,"ace_animate-blinking")};this.$padding=0;this.setPadding=function(padding){this.$padding=padding};this.setSession=function(session){this.session=session};this.setBlinking=function(blinking){if(blinking!=this.isBlinking){this.isBlinking=blinking;this.restartTimer()}};this.setBlinkInterval=function(blinkInterval){if(blinkInterval!=this.blinkInterval){this.blinkInterval=blinkInterval;this.restartTimer()}};this.setSmoothBlinking=function(smoothBlinking){if(smoothBlinking!=this.smoothBlinking){this.smoothBlinking=smoothBlinking;dom.setCssClass(this.element,"ace_smooth-blinking",smoothBlinking);this.$updateCursors(!0);this.restartTimer()}};this.addCursor=function(){var el=dom.createElement("div");el.className="ace_cursor";this.element.appendChild(el);this.cursors.push(el);return el};this.removeCursor=function(){if(1<this.cursors.length){var el=this.cursors.pop();el.parentNode.removeChild(el);return el}};this.hideCursor=function(){this.isVisible=!1;dom.addCssClass(this.element,"ace_hidden-cursors");this.restartTimer()};this.showCursor=function(){this.isVisible=!0;dom.removeCssClass(this.element,"ace_hidden-cursors");this.restartTimer()};this.restartTimer=function(){var update=this.$updateCursors;clearInterval(this.intervalId);clearTimeout(this.timeoutId);this.$stopCssAnimation();if(this.smoothBlinking){dom.removeCssClass(this.element,"ace_smooth-blinking")}update(!0);if(!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking){setTimeout(function(){dom.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))}if(dom.HAS_CSS_ANIMATION){this.$startCssAnimation()}else{var blink=function(){this.timeoutId=setTimeout(function(){update(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){update(!0);blink()},this.blinkInterval);blink()}};this.getPixelPosition=function(position,onScreen){if(!this.config||!this.session)return{left:0,top:0};if(!position)position=this.session.selection.getCursor();var pos=this.session.documentToScreenPosition(position),cursorLeft=this.$padding+(this.session.$bidiHandler.isBidiRow(pos.row,position.row)?this.session.$bidiHandler.getPosLeft(pos.column):pos.column*this.config.characterWidth),cursorTop=(pos.row-(onScreen?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:cursorLeft,top:cursorTop}};this.isCursorInView=function(pixelPos,config){return 0<=pixelPos.top&&pixelPos.top<config.maxHeight};this.update=function(config){this.config=config;var selections=this.session.$selectionMarkers,i=0,cursorIndex=0;if(selections===void 0||0===selections.length){selections=[{cursor:null}]}for(var i=0,n=selections.length,pixelPos;i<n;i++){pixelPos=this.getPixelPosition(selections[i].cursor,!0);if((pixelPos.top>config.height+config.offset||0>pixelPos.top)&&1<i){continue}var element=this.cursors[cursorIndex++]||this.addCursor(),style=element.style;if(!this.drawCursor){if(!this.isCursorInView(pixelPos,config)){dom.setStyle(style,"display","none")}else{dom.setStyle(style,"display","block");dom.translate(element,pixelPos.left,pixelPos.top);dom.setStyle(style,"width",_Mathround(config.characterWidth)+"px");dom.setStyle(style,"height",config.lineHeight+"px")}}else{this.drawCursor(element,pixelPos,config,selections[i],this.session)}}while(this.cursors.length>cursorIndex)this.removeCursor();var overwrite=this.session.getOverwrite();this.$setOverwrite(overwrite);this.$pixelPos=pixelPos;this.restartTimer()};this.drawCursor=null;this.$setOverwrite=function(overwrite){if(overwrite!=this.overwrite){this.overwrite=overwrite;if(overwrite)dom.addCssClass(this.element,"ace_overwrite-cursors");else dom.removeCssClass(this.element,"ace_overwrite-cursors")}};this.destroy=function(){clearInterval(this.intervalId);clearTimeout(this.timeoutId)}}).call(Cursor.prototype);exports.Cursor=Cursor});ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(require,exports){var oop=require("./lib/oop"),dom=require("./lib/dom"),event=require("./lib/event"),EventEmitter=require("./lib/event_emitter").EventEmitter,MAX_SCROLL_H=32768,ScrollBar=function(parent){this.element=dom.createElement("div");this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix;this.inner=dom.createElement("div");this.inner.className="ace_scrollbar-inner";this.element.appendChild(this.inner);parent.appendChild(this.element);this.setVisible(!1);this.skipEvent=!1;event.addListener(this.element,"scroll",this.onScroll.bind(this));event.addListener(this.element,"mousedown",event.preventDefault)};(function(){oop.implement(this,EventEmitter);this.setVisible=function(isVisible){this.element.style.display=isVisible?"":"none";this.isVisible=isVisible;this.coeff=1}}).call(ScrollBar.prototype);var VScrollBar=function(parent,renderer){ScrollBar.call(this,parent);this.scrollTop=0;this.scrollHeight=0;renderer.$scrollbarWidth=this.width=dom.scrollbarWidth(parent.ownerDocument);this.inner.style.width=this.element.style.width=(this.width||15)+5+"px";this.$minWidth=0};oop.inherits(VScrollBar,ScrollBar);(function(){this.classSuffix="-v";this.onScroll=function(){if(!this.skipEvent){this.scrollTop=this.element.scrollTop;if(1!=this.coeff){var h=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-h)/(this.coeff-h)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1};this.getWidth=function(){return _Mathmax(this.isVisible?this.width:0,this.$minWidth||0)};this.setHeight=function(height){this.element.style.height=height+"px"};this.setInnerHeight=this.setScrollHeight=function(height){this.scrollHeight=height;if(height>MAX_SCROLL_H){this.coeff=MAX_SCROLL_H/height;height=MAX_SCROLL_H}else if(1!=this.coeff){this.coeff=1}this.inner.style.height=height+"px"};this.setScrollTop=function(scrollTop){if(this.scrollTop!=scrollTop){this.skipEvent=!0;this.scrollTop=scrollTop;this.element.scrollTop=scrollTop*this.coeff}}}).call(VScrollBar.prototype);var HScrollBar=function(parent,renderer){ScrollBar.call(this,parent);this.scrollLeft=0;this.height=renderer.$scrollbarWidth;this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};oop.inherits(HScrollBar,ScrollBar);(function(){this.classSuffix="-h";this.onScroll=function(){if(!this.skipEvent){this.scrollLeft=this.element.scrollLeft;this._emit("scroll",{data:this.scrollLeft})}this.skipEvent=!1};this.getHeight=function(){return this.isVisible?this.height:0};this.setWidth=function(width){this.element.style.width=width+"px"};this.setInnerWidth=function(width){this.inner.style.width=width+"px"};this.setScrollWidth=function(width){this.inner.style.width=width+"px"};this.setScrollLeft=function(scrollLeft){if(this.scrollLeft!=scrollLeft){this.skipEvent=!0;this.scrollLeft=this.element.scrollLeft=scrollLeft}}}).call(HScrollBar.prototype);exports.ScrollBar=VScrollBar;exports.ScrollBarV=VScrollBar;exports.ScrollBarH=HScrollBar;exports.VScrollBar=VScrollBar;exports.HScrollBar=HScrollBar});ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(require,exports){var event=require("./lib/event"),RenderLoop=function(onRender,win){this.onRender=onRender;this.pending=!1;this.changes=0;this.window=win||window;var _self=this;this._flush=function(){var changes=_self.changes;if(changes){event.blockIdle(100);_self.changes=0;_self.onRender(changes)}if(_self.changes)_self.schedule()}};(function(){this.schedule=function(change){this.changes=this.changes|change;if(this.changes){event.nextFrame(this._flush)}}}).call(RenderLoop.prototype);exports.RenderLoop=RenderLoop});ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(require,exports){var oop=require("../lib/oop"),dom=require("../lib/dom"),lang=require("../lib/lang"),event=require("../lib/event"),useragent=require("../lib/useragent"),EventEmitter=require("../lib/event_emitter").EventEmitter,CHAR_COUNT=256,USE_OBSERVER="function"==typeof ResizeObserver,L=200,FontMetrics=exports.FontMetrics=function(parentEl){this.el=dom.createElement("div");this.$setMeasureNodeStyles(this.el.style,!0);this.$main=dom.createElement("div");this.$setMeasureNodeStyles(this.$main.style);this.$measureNode=dom.createElement("div");this.$setMeasureNodeStyles(this.$measureNode.style);this.el.appendChild(this.$main);this.el.appendChild(this.$measureNode);parentEl.appendChild(this.el);this.$measureNode.innerHTML=lang.stringRepeat("X",CHAR_COUNT);this.$characterSize={width:0,height:0};if(USE_OBSERVER)this.$addObserver();else this.checkForSizeChanges()};(function(){oop.implement(this,EventEmitter);this.$characterSize={width:0,height:0};this.$setMeasureNodeStyles=function(style,isRoot){style.width=style.height="auto";style.left=style.top="0px";style.visibility="hidden";style.position="absolute";style.whiteSpace="pre";if(8>useragent.isIE){style["font-family"]="inherit"}else{style.font="inherit"}style.overflow=isRoot?"hidden":"visible"};this.checkForSizeChanges=function(size){if(size===void 0)size=this.$measureSizes();if(size&&(this.$characterSize.width!==size.width||this.$characterSize.height!==size.height)){this.$measureNode.style.fontWeight="bold";var boldSize=this.$measureSizes();this.$measureNode.style.fontWeight="";this.$characterSize=size;this.charSizes=Object.create(null);this.allowBoldFonts=boldSize&&boldSize.width===size.width&&boldSize.height===size.height;this._emit("changeCharacterSize",{data:size})}};this.$addObserver=function(){var self=this;this.$observer=new window.ResizeObserver(function(e){var rect=e[0].contentRect;self.checkForSizeChanges({height:rect.height,width:rect.width/CHAR_COUNT})});this.$observer.observe(this.$measureNode)};this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var self=this;return this.$pollSizeChangesTimer=event.onIdle(function cb(){self.checkForSizeChanges();event.onIdle(cb,500)},500)};this.setPolling=function(val){if(val){this.$pollSizeChanges()}else if(this.$pollSizeChangesTimer){clearInterval(this.$pollSizeChangesTimer);this.$pollSizeChangesTimer=0}};this.$measureSizes=function(node){var size={height:(node||this.$measureNode).clientHeight,width:(node||this.$measureNode).clientWidth/CHAR_COUNT};if(0===size.width||0===size.height)return null;return size};this.$measureCharWidth=function(ch){this.$main.innerHTML=lang.stringRepeat(ch,CHAR_COUNT);var rect=this.$main.getBoundingClientRect();return rect.width/CHAR_COUNT};this.getCharacterWidth=function(ch){var w=this.charSizes[ch];if(w===void 0){w=this.charSizes[ch]=this.$measureCharWidth(ch)/this.$characterSize.width}return w};this.destroy=function(){clearInterval(this.$pollSizeChangesTimer);if(this.$observer)this.$observer.disconnect();if(this.el&&this.el.parentNode)this.el.parentNode.removeChild(this.el)};this.$getZoom=function getZoom(element){if(!element)return 1;return(window.getComputedStyle(element).zoom||1)*getZoom(element.parentElement)};this.$initTransformMeasureNodes=function(){var t=function(t,l){return["div",{style:"position: absolute;top:"+t+"px;left:"+l+"px;"}]};this.els=dom.buildDom([t(0,0),t(L,0),t(0,L),t(L,L)],this.el)};this.transformCoordinates=function(clientPos,elPos){if(clientPos){var zoom=this.$getZoom(this.el);clientPos=mul(1/zoom,clientPos)}function solve(l1,l2,r){var det=l1[1]*l2[0]-l1[0]*l2[1];return[(-l2[1]*r[0]+l2[0]*r[1])/det,(+l1[1]*r[0]-l1[0]*r[1])/det]}function sub(a,b){return[a[0]-b[0],a[1]-b[1]]}function add(a,b){return[a[0]+b[0],a[1]+b[1]]}function mul(a,b){return[a*b[0],a*b[1]]}if(!this.els)this.$initTransformMeasureNodes();function p(el){var r=el.getBoundingClientRect();return[r.left,r.top]}var a=p(this.els[0]),b=p(this.els[1]),c=p(this.els[2]),d=p(this.els[3]),h=solve(sub(d,b),sub(d,c),sub(add(b,c),add(d,a))),m1=mul(1+h[0],sub(b,a)),m2=mul(1+h[1],sub(c,a));if(elPos){var x=elPos,k=h[0]*x[0]/L+h[1]*x[1]/L+1,ut=add(mul(x[0],m1),mul(x[1],m2));return add(mul(1/k/L,ut),a)}var u=sub(clientPos,a),f=solve(sub(m1,mul(h[0],u)),sub(m2,mul(h[1],u)),u);return mul(L,f)}}).call(FontMetrics.prototype)});ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],function(require,exports){var oop=require("./lib/oop"),dom=require("./lib/dom"),config=require("./config"),GutterLayer=require("./layer/gutter").Gutter,MarkerLayer=require("./layer/marker").Marker,TextLayer=require("./layer/text").Text,CursorLayer=require("./layer/cursor").Cursor,HScrollBar=require("./scrollbar").HScrollBar,VScrollBar=require("./scrollbar").VScrollBar,RenderLoop=require("./renderloop").RenderLoop,FontMetrics=require("./layer/font_metrics").FontMetrics,EventEmitter=require("./lib/event_emitter").EventEmitter,editorCss=".ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: '';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;perspective: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\"),url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\"),url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\");}.ace_fold-widget.ace_closed {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\");}.ace_dark .ace_fold-widget.ace_end {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\");}.ace_dark .ace_fold-widget.ace_closed {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}",useragent=require("./lib/useragent"),HIDE_TEXTAREA=useragent.isIE;dom.importCssString(editorCss,"ace_editor.css");var VirtualRenderer=function(container,theme){var _self=this;this.container=container||dom.createElement("div");dom.addCssClass(this.container,"ace_editor");if(dom.HI_DPI)dom.addCssClass(this.container,"ace_hidpi");this.setTheme(theme);this.$gutter=dom.createElement("div");this.$gutter.className="ace_gutter";this.container.appendChild(this.$gutter);this.$gutter.setAttribute("aria-hidden",!0);this.scroller=dom.createElement("div");this.scroller.className="ace_scroller";this.container.appendChild(this.scroller);this.content=dom.createElement("div");this.content.className="ace_content";this.scroller.appendChild(this.content);this.$gutterLayer=new GutterLayer(this.$gutter);this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this));this.$markerBack=new MarkerLayer(this.content);var textLayer=this.$textLayer=new TextLayer(this.content);this.canvas=textLayer.element;this.$markerFront=new MarkerLayer(this.content);this.$cursorLayer=new CursorLayer(this.content);this.$horizScroll=!1;this.$vScroll=!1;this.scrollBar=this.scrollBarV=new VScrollBar(this.container,this);this.scrollBarH=new HScrollBar(this.container,this);this.scrollBarV.addEventListener("scroll",function(e){if(!_self.$scrollAnimation)_self.session.setScrollTop(e.data-_self.scrollMargin.top)});this.scrollBarH.addEventListener("scroll",function(e){if(!_self.$scrollAnimation)_self.session.setScrollLeft(e.data-_self.scrollMargin.left)});this.scrollTop=0;this.scrollLeft=0;this.cursorPos={row:0,column:0};this.$fontMetrics=new FontMetrics(this.container);this.$textLayer.$setFontMetrics(this.$fontMetrics);this.$textLayer.addEventListener("changeCharacterSize",function(e){_self.updateCharacterSize();_self.onResize(!0,_self.gutterWidth,_self.$size.width,_self.$size.height);_self._signal("changeCharacterSize",e)});this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0};this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1};this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0};this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0};this.$keepTextAreaAtCursor=!0;this.$loop=new RenderLoop(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView);this.$loop.schedule(this.CHANGE_FULL);this.updateCharacterSize();this.setPadding(4);config.resetOptions(this);config._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1;this.CHANGE_MARKER=2;this.CHANGE_GUTTER=4;this.CHANGE_SCROLL=8;this.CHANGE_LINES=16;this.CHANGE_TEXT=32;this.CHANGE_SIZE=64;this.CHANGE_MARKER_BACK=128;this.CHANGE_MARKER_FRONT=256;this.CHANGE_FULL=512;this.CHANGE_H_SCROLL=1024;oop.implement(this,EventEmitter);this.updateCharacterSize=function(){if(this.$textLayer.allowBoldFonts!=this.$allowBoldFonts){this.$allowBoldFonts=this.$textLayer.allowBoldFonts;this.setStyle("ace_nobold",!this.$allowBoldFonts)}this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth();this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight();this.$updatePrintMargin()};this.setSession=function(session){if(this.session)this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode);this.session=session;if(session&&this.scrollMargin.top&&0>=session.getScrollTop())session.setScrollTop(-this.scrollMargin.top);this.$cursorLayer.setSession(session);this.$markerBack.setSession(session);this.$markerFront.setSession(session);this.$gutterLayer.setSession(session);this.$textLayer.setSession(session);if(!session)return;this.$loop.schedule(this.CHANGE_FULL);this.session.$setFontMetrics(this.$fontMetrics);this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null;this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this);this.onChangeNewLineMode();this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode)};this.updateLines=function(firstRow,lastRow,force){if(lastRow===void 0)lastRow=1/0;if(!this.$changedLines){this.$changedLines={firstRow:firstRow,lastRow:lastRow}}else{if(this.$changedLines.firstRow>firstRow)this.$changedLines.firstRow=firstRow;if(this.$changedLines.lastRow<lastRow)this.$changedLines.lastRow=lastRow}if(this.$changedLines.lastRow<this.layerConfig.firstRow){if(force)this.$changedLines.lastRow=this.layerConfig.lastRow;else return}if(this.$changedLines.firstRow>this.layerConfig.lastRow)return;this.$loop.schedule(this.CHANGE_LINES)};this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT);this.$textLayer.$updateEolChar();this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)};this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER);this.$textLayer.onChangeTabSize()};this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)};this.updateFull=function(force){if(force)this.$renderChanges(this.CHANGE_FULL,!0);else this.$loop.schedule(this.CHANGE_FULL)};this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()};this.$changes=0;this.$updateSizeAsync=function(){if(this.$loop.pending)this.$size.$dirty=!0;else this.onResize()};this.onResize=function(force,gutterWidth,width,height){if(2<this.resizing)return;else if(0<this.resizing)this.resizing++;else this.resizing=force?1:0;var el=this.container;if(!height)height=el.clientHeight||el.scrollHeight;if(!width)width=el.clientWidth||el.scrollWidth;var changes=this.$updateCachedSize(force,gutterWidth,width,height);if(!this.$size.scrollerHeight||!width&&!height)return this.resizing=0;if(force)this.$gutterLayer.$padding=null;if(force)this.$renderChanges(changes|this.$changes,!0);else this.$loop.schedule(changes|this.$changes);if(this.resizing)this.resizing=0;this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null};this.$updateCachedSize=function(force,gutterWidth,width,height){height-=this.$extraHeight||0;var changes=0,size=this.$size,oldSize={width:size.width,height:size.height,scrollerHeight:size.scrollerHeight,scrollerWidth:size.scrollerWidth};if(height&&(force||size.height!=height)){size.height=height;changes|=this.CHANGE_SIZE;size.scrollerHeight=size.height;if(this.$horizScroll)size.scrollerHeight-=this.scrollBarH.getHeight();this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px";changes=changes|this.CHANGE_SCROLL}if(width&&(force||size.width!=width)){changes|=this.CHANGE_SIZE;size.width=width;if(null==gutterWidth)gutterWidth=this.$showGutter?this.$gutter.offsetWidth:0;this.gutterWidth=gutterWidth;dom.setStyle(this.scrollBarH.element.style,"left",gutterWidth+"px");dom.setStyle(this.scroller.style,"left",gutterWidth+this.margin.left+"px");size.scrollerWidth=_Mathmax(0,width-gutterWidth-this.scrollBarV.getWidth()-this.margin.h);dom.setStyle(this.$gutter.style,"left",this.margin.left+"px");var right=this.scrollBarV.getWidth()+"px";dom.setStyle(this.scrollBarH.element.style,"right",right);dom.setStyle(this.scroller.style,"right",right);dom.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight());if(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||force){changes|=this.CHANGE_FULL}}size.$dirty=!width||!height;if(changes)this._signal("resize",oldSize);return changes};this.onGutterResize=function(width){var gutterWidth=this.$showGutter?width:0;if(gutterWidth!=this.gutterWidth)this.$changes|=this.$updateCachedSize(!0,gutterWidth,this.$size.width,this.$size.height);if(this.session.getUseWrapMode()&&this.adjustWrapLimit()){this.$loop.schedule(this.CHANGE_FULL)}else if(this.$size.$dirty){this.$loop.schedule(this.CHANGE_FULL)}else{this.$computeLayerConfig()}};this.adjustWrapLimit=function(){var availableWidth=this.$size.scrollerWidth-2*this.$padding,limit=_Mathfloor(availableWidth/this.characterWidth);return this.session.adjustWrapLimit(limit,this.$showPrintMargin&&this.$printMarginColumn)};this.setAnimatedScroll=function(shouldAnimate){this.setOption("animatedScroll",shouldAnimate)};this.getAnimatedScroll=function(){return this.$animatedScroll};this.setShowInvisibles=function(showInvisibles){this.setOption("showInvisibles",showInvisibles);this.session.$bidiHandler.setShowInvisibles(showInvisibles)};this.getShowInvisibles=function(){return this.getOption("showInvisibles")};this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")};this.setDisplayIndentGuides=function(display){this.setOption("displayIndentGuides",display)};this.setShowPrintMargin=function(showPrintMargin){this.setOption("showPrintMargin",showPrintMargin)};this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")};this.setPrintMarginColumn=function(showPrintMargin){this.setOption("printMarginColumn",showPrintMargin)};this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")};this.getShowGutter=function(){return this.getOption("showGutter")};this.setShowGutter=function(show){return this.setOption("showGutter",show)};this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")};this.setFadeFoldWidgets=function(show){this.setOption("fadeFoldWidgets",show)};this.setHighlightGutterLine=function(shouldHighlight){this.setOption("highlightGutterLine",shouldHighlight)};this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")};this.$updatePrintMargin=function(){if(!this.$showPrintMargin&&!this.$printMarginEl)return;if(!this.$printMarginEl){var containerEl=dom.createElement("div");containerEl.className="ace_layer ace_print-margin-layer";this.$printMarginEl=dom.createElement("div");this.$printMarginEl.className="ace_print-margin";containerEl.appendChild(this.$printMarginEl);this.content.insertBefore(containerEl,this.content.firstChild)}var style=this.$printMarginEl.style;style.left=_Mathround(this.characterWidth*this.$printMarginColumn+this.$padding)+"px";style.visibility=this.$showPrintMargin?"visible":"hidden";if(this.session&&-1==this.session.$wrap)this.adjustWrapLimit()};this.getContainerElement=function(){return this.container};this.getMouseEventTarget=function(){return this.scroller};this.getTextAreaContainer=function(){return this.container};this.$moveTextAreaToCursor=function(){var style=this.textarea.style;if(!this.$keepTextAreaAtCursor){dom.translate(this.textarea,-100,0);return}var pixelPos=this.$cursorLayer.$pixelPos;if(!pixelPos)return;var composition=this.$composition;if(composition&&composition.markerRange)pixelPos=this.$cursorLayer.getPixelPosition(composition.markerRange.start,!0);var config=this.layerConfig,posTop=pixelPos.top,posLeft=pixelPos.left;posTop-=config.offset;var h=composition&&composition.useTextareaForIME?this.lineHeight:HIDE_TEXTAREA?0:1;if(0>posTop||posTop>config.height-h){dom.translate(this.textarea,0,0);return}var w=1;if(!composition){posTop+=this.lineHeight}else{if(composition.useTextareaForIME){var val=this.textarea.value;w=this.characterWidth*this.session.$getStringScreenWidth(val)[0];h+=2}else{posTop+=this.lineHeight+2}}posLeft-=this.scrollLeft;if(posLeft>this.$size.scrollerWidth-w)posLeft=this.$size.scrollerWidth-w;posLeft+=this.gutterWidth+this.margin.left;dom.setStyle(style,"height",h+"px");dom.setStyle(style,"width",w+"px");dom.translate(this.textarea,_Mathmin(posLeft,this.$size.scrollerWidth-w),_Mathmin(posTop,this.$size.height-h))};this.getFirstVisibleRow=function(){return this.layerConfig.firstRow};this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)};this.getLastFullyVisibleRow=function(){var config=this.layerConfig,lastRow=config.lastRow,top=this.session.documentToScreenRow(lastRow,0)*config.lineHeight;if(top-this.session.getScrollTop()>config.height-config.lineHeight)return lastRow-1;return lastRow};this.getLastVisibleRow=function(){return this.layerConfig.lastRow};this.$padding=null;this.setPadding=function(padding){this.$padding=padding;this.$textLayer.setPadding(padding);this.$cursorLayer.setPadding(padding);this.$markerFront.setPadding(padding);this.$markerBack.setPadding(padding);this.$loop.schedule(this.CHANGE_FULL);this.$updatePrintMargin()};this.setScrollMargin=function(top,bottom,left,right){var sm=this.scrollMargin;sm.top=0|top;sm.bottom=0|bottom;sm.right=0|right;sm.left=0|left;sm.v=sm.top+sm.bottom;sm.h=sm.left+sm.right;if(sm.top&&0>=this.scrollTop&&this.session)this.session.setScrollTop(-sm.top);this.updateFull()};this.setMargin=function(top,bottom,left,right){var sm=this.margin;sm.top=0|top;sm.bottom=0|bottom;sm.right=0|right;sm.left=0|left;sm.v=sm.top+sm.bottom;sm.h=sm.left+sm.right;this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height);this.updateFull()};this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible};this.setHScrollBarAlwaysVisible=function(alwaysVisible){this.setOption("hScrollBarAlwaysVisible",alwaysVisible)};this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible};this.setVScrollBarAlwaysVisible=function(alwaysVisible){this.setOption("vScrollBarAlwaysVisible",alwaysVisible)};this.$updateScrollBarV=function(){var scrollHeight=this.layerConfig.maxHeight,scrollerHeight=this.$size.scrollerHeight;if(!this.$maxLines&&this.$scrollPastEnd){scrollHeight-=(scrollerHeight-this.lineHeight)*this.$scrollPastEnd;if(this.scrollTop>scrollHeight-scrollerHeight){scrollHeight=this.scrollTop+scrollerHeight;this.scrollBarV.scrollTop=null}}this.scrollBarV.setScrollHeight(scrollHeight+this.scrollMargin.v);this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)};this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h);this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)};this.$frozen=!1;this.freeze=function(){this.$frozen=!0};this.unfreeze=function(){this.$frozen=!1};this.$renderChanges=function(changes,force){if(this.$changes){changes|=this.$changes;this.$changes=0}if(!this.session||!this.container.offsetWidth||this.$frozen||!changes&&!force){this.$changes|=changes;return}if(this.$size.$dirty){this.$changes|=changes;return this.onResize(!0)}if(!this.lineHeight){this.$textLayer.checkForSizeChanges()}this._signal("beforeRender");if(this.session&&this.session.$bidiHandler)this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var config=this.layerConfig;if(changes&this.CHANGE_FULL||changes&this.CHANGE_SIZE||changes&this.CHANGE_TEXT||changes&this.CHANGE_LINES||changes&this.CHANGE_SCROLL||changes&this.CHANGE_H_SCROLL){changes|=this.$computeLayerConfig();if(config.firstRow!=this.layerConfig.firstRow&&config.firstRowScreen==this.layerConfig.firstRowScreen){var st=this.scrollTop+(config.firstRow-this.layerConfig.firstRow)*this.lineHeight;if(0<st){this.scrollTop=st;changes=changes|this.CHANGE_SCROLL;changes|=this.$computeLayerConfig()}}config=this.layerConfig;this.$updateScrollBarV();if(changes&this.CHANGE_H_SCROLL)this.$updateScrollBarH();dom.translate(this.content,-this.scrollLeft,-config.offset);var width=config.width+2*this.$padding+"px",height=config.minHeight+"px";dom.setStyle(this.content.style,"width",width);dom.setStyle(this.content.style,"height",height)}if(changes&this.CHANGE_H_SCROLL){dom.translate(this.content,-this.scrollLeft,-config.offset);this.scroller.className=0>=this.scrollLeft?"ace_scroller":"ace_scroller ace_scroll-left"}if(changes&this.CHANGE_FULL){this.$textLayer.update(config);if(this.$showGutter)this.$gutterLayer.update(config);this.$markerBack.update(config);this.$markerFront.update(config);this.$cursorLayer.update(config);this.$moveTextAreaToCursor();this._signal("afterRender");return}if(changes&this.CHANGE_SCROLL){if(changes&this.CHANGE_TEXT||changes&this.CHANGE_LINES)this.$textLayer.update(config);else this.$textLayer.scrollLines(config);if(this.$showGutter){if(changes&this.CHANGE_GUTTER||changes&this.CHANGE_LINES)this.$gutterLayer.update(config);else this.$gutterLayer.scrollLines(config)}this.$markerBack.update(config);this.$markerFront.update(config);this.$cursorLayer.update(config);this.$moveTextAreaToCursor();this._signal("afterRender");return}if(changes&this.CHANGE_TEXT){this.$textLayer.update(config);if(this.$showGutter)this.$gutterLayer.update(config)}else if(changes&this.CHANGE_LINES){if(this.$updateLines()||changes&this.CHANGE_GUTTER&&this.$showGutter)this.$gutterLayer.update(config)}else if(changes&this.CHANGE_TEXT||changes&this.CHANGE_GUTTER){if(this.$showGutter)this.$gutterLayer.update(config)}else if(changes&this.CHANGE_CURSOR){if(this.$highlightGutterLine)this.$gutterLayer.updateLineHighlight(config)}if(changes&this.CHANGE_CURSOR){this.$cursorLayer.update(config);this.$moveTextAreaToCursor()}if(changes&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)){this.$markerFront.update(config)}if(changes&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)){this.$markerBack.update(config)}this._signal("afterRender")};this.$autosize=function(){var height=this.session.getScreenLength()*this.lineHeight,maxHeight=this.$maxLines*this.lineHeight,desiredHeight=_Mathmin(maxHeight,_Mathmax((this.$minLines||1)*this.lineHeight,height))+this.scrollMargin.v+(this.$extraHeight||0);if(this.$horizScroll)desiredHeight+=this.scrollBarH.getHeight();if(this.$maxPixelHeight&&desiredHeight>this.$maxPixelHeight)desiredHeight=this.$maxPixelHeight;var hideScrollbars=desiredHeight<=2*this.lineHeight,vScroll=!hideScrollbars&&height>maxHeight;if(desiredHeight!=this.desiredHeight||this.$size.height!=this.desiredHeight||vScroll!=this.$vScroll){if(vScroll!=this.$vScroll){this.$vScroll=vScroll;this.scrollBarV.setVisible(vScroll)}var w=this.container.clientWidth;this.container.style.height=desiredHeight+"px";this.$updateCachedSize(!0,this.$gutterWidth,w,desiredHeight);this.desiredHeight=desiredHeight;this._signal("autosize")}};this.$computeLayerConfig=function(){var session=this.session,size=this.$size,hideScrollbars=size.height<=2*this.lineHeight,screenLines=this.session.getScreenLength(),maxHeight=screenLines*this.lineHeight,longestLine=this.$getLongestLine(),horizScroll=!hideScrollbars&&(this.$hScrollBarAlwaysVisible||0>size.scrollerWidth-longestLine-2*this.$padding),hScrollChanged=this.$horizScroll!==horizScroll;if(hScrollChanged){this.$horizScroll=horizScroll;this.scrollBarH.setVisible(horizScroll)}var vScrollBefore=this.$vScroll;if(this.$maxLines&&1<this.lineHeight)this.$autosize();var offset=this.scrollTop%this.lineHeight,minHeight=size.scrollerHeight+this.lineHeight,scrollPastEnd=!this.$maxLines&&this.$scrollPastEnd?(size.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;maxHeight+=scrollPastEnd;var sm=this.scrollMargin;this.session.setScrollTop(_Mathmax(-sm.top,_Mathmin(this.scrollTop,maxHeight-size.scrollerHeight+sm.bottom)));this.session.setScrollLeft(_Mathmax(-sm.left,_Mathmin(this.scrollLeft,longestLine+2*this.$padding-size.scrollerWidth+sm.right)));var vScroll=!hideScrollbars&&(this.$vScrollBarAlwaysVisible||0>size.scrollerHeight-maxHeight+scrollPastEnd||this.scrollTop>sm.top),vScrollChanged=vScrollBefore!==vScroll;if(vScrollChanged){this.$vScroll=vScroll;this.scrollBarV.setVisible(vScroll)}var lineCount=_Mathceil(minHeight/this.lineHeight)-1,firstRow=_Mathmax(0,_Mathround((this.scrollTop-offset)/this.lineHeight)),lastRow=firstRow+lineCount,firstRowScreen,firstRowHeight,lineHeight=this.lineHeight;firstRow=session.screenToDocumentRow(firstRow,0);var foldLine=session.getFoldLine(firstRow);if(foldLine){firstRow=foldLine.start.row}firstRowScreen=session.documentToScreenRow(firstRow,0);firstRowHeight=session.getRowLength(firstRow)*lineHeight;lastRow=_Mathmin(session.screenToDocumentRow(lastRow,0),session.getLength()-1);minHeight=size.scrollerHeight+session.getRowLength(lastRow)*lineHeight+firstRowHeight;offset=this.scrollTop-firstRowScreen*lineHeight;var changes=0;if(this.layerConfig.width!=longestLine||hScrollChanged)changes=this.CHANGE_H_SCROLL;if(hScrollChanged||vScrollChanged){changes=this.$updateCachedSize(!0,this.gutterWidth,size.width,size.height);this._signal("scrollbarVisibilityChanged");if(vScrollChanged)longestLine=this.$getLongestLine()}this.layerConfig={width:longestLine,padding:this.$padding,firstRow:firstRow,firstRowScreen:firstRowScreen,lastRow:lastRow,lineHeight:lineHeight,characterWidth:this.characterWidth,minHeight:minHeight,maxHeight:maxHeight,offset:offset,gutterOffset:lineHeight?_Mathmax(0,_Mathceil((offset+size.height-size.scrollerHeight)/lineHeight)):0,height:this.$size.scrollerHeight};if(this.session.$bidiHandler)this.session.$bidiHandler.setContentWidth(longestLine-this.$padding);return changes};this.$updateLines=function(){if(!this.$changedLines)return;var firstRow=this.$changedLines.firstRow,lastRow=this.$changedLines.lastRow;this.$changedLines=null;var layerConfig=this.layerConfig;if(firstRow>layerConfig.lastRow+1){return}if(lastRow<layerConfig.firstRow){return}if(lastRow===1/0){if(this.$showGutter)this.$gutterLayer.update(layerConfig);this.$textLayer.update(layerConfig);return}this.$textLayer.updateLines(layerConfig,firstRow,lastRow);return!0};this.$getLongestLine=function(){var charCount=this.session.getScreenWidth();if(this.showInvisibles&&!this.session.$useWrapMode)charCount+=1;if(this.$textLayer&&charCount>this.$textLayer.MAX_LINE_LENGTH)charCount=this.$textLayer.MAX_LINE_LENGTH+30;return _Mathmax(this.$size.scrollerWidth-2*this.$padding,_Mathround(charCount*this.characterWidth))};this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0));this.$loop.schedule(this.CHANGE_MARKER_FRONT)};this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers());this.$loop.schedule(this.CHANGE_MARKER_BACK)};this.addGutterDecoration=function(row,className){this.$gutterLayer.addGutterDecoration(row,className)};this.removeGutterDecoration=function(row,className){this.$gutterLayer.removeGutterDecoration(row,className)};this.updateBreakpoints=function(){this.$loop.schedule(this.CHANGE_GUTTER)};this.setAnnotations=function(annotations){this.$gutterLayer.setAnnotations(annotations);this.$loop.schedule(this.CHANGE_GUTTER)};this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)};this.hideCursor=function(){this.$cursorLayer.hideCursor()};this.showCursor=function(){this.$cursorLayer.showCursor()};this.scrollSelectionIntoView=function(anchor,lead,offset){this.scrollCursorIntoView(anchor,offset);this.scrollCursorIntoView(lead,offset)};this.scrollCursorIntoView=function(cursor,offset,$viewMargin){if(0===this.$size.scrollerHeight)return;var pos=this.$cursorLayer.getPixelPosition(cursor),left=pos.left,top=pos.top,topMargin=$viewMargin&&$viewMargin.top||0,bottomMargin=$viewMargin&&$viewMargin.bottom||0,scrollTop=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;if(scrollTop+topMargin>top){if(offset&&scrollTop+topMargin>top+this.lineHeight)top-=offset*this.$size.scrollerHeight;if(0===top)top=-this.scrollMargin.top;this.session.setScrollTop(top)}else if(scrollTop+this.$size.scrollerHeight-bottomMargin<top+this.lineHeight){if(offset&&scrollTop+this.$size.scrollerHeight-bottomMargin<top-this.lineHeight)top+=offset*this.$size.scrollerHeight;this.session.setScrollTop(top+this.lineHeight-this.$size.scrollerHeight)}var scrollLeft=this.scrollLeft;if(scrollLeft>left){if(left<this.$padding+2*this.layerConfig.characterWidth)left=-this.scrollMargin.left;this.session.setScrollLeft(left)}else if(scrollLeft+this.$size.scrollerWidth<left+this.characterWidth){this.session.setScrollLeft(_Mathround(left+this.characterWidth-this.$size.scrollerWidth))}else if(scrollLeft<=this.$padding&&left-scrollLeft<this.characterWidth){this.session.setScrollLeft(0)}};this.getScrollTop=function(){return this.session.getScrollTop()};this.getScrollLeft=function(){return this.session.getScrollLeft()};this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight};this.getScrollBottomRow=function(){return _Mathmax(0,_Mathfloor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)};this.scrollToRow=function(row){this.session.setScrollTop(row*this.lineHeight)};this.alignCursor=function(cursor,alignment){if("number"==typeof cursor)cursor={row:cursor,column:0};var pos=this.$cursorLayer.getPixelPosition(cursor),h=this.$size.scrollerHeight-this.lineHeight,offset=pos.top-h*(alignment||0);this.session.setScrollTop(offset);return offset};this.STEPS=8;this.$calcSteps=function(fromValue,toValue){var i=0,l=this.STEPS,steps=[],func=function(t,x_min,dx){return dx*(_Mathpow(t-1,3)+1)+x_min};for(i=0;i<l;++i)steps.push(func(i/this.STEPS,fromValue,toValue-fromValue));return steps};this.scrollToLine=function(line,center,animate,callback){var pos=this.$cursorLayer.getPixelPosition({row:line,column:0}),offset=pos.top;if(center)offset-=this.$size.scrollerHeight/2;var initialScroll=this.scrollTop;this.session.setScrollTop(offset);if(!1!==animate)this.animateScrolling(initialScroll,callback)};this.animateScrolling=function(fromValue,callback){var toValue=this.scrollTop;if(!this.$animatedScroll)return;var _self=this;if(fromValue==toValue)return;if(this.$scrollAnimation){var oldSteps=this.$scrollAnimation.steps;if(oldSteps.length){fromValue=oldSteps[0];if(fromValue==toValue)return}}var steps=_self.$calcSteps(fromValue,toValue);this.$scrollAnimation={from:fromValue,to:toValue,steps:steps};clearInterval(this.$timer);_self.session.setScrollTop(steps.shift());_self.session.$scrollTop=toValue;this.$timer=setInterval(function(){if(steps.length){_self.session.setScrollTop(steps.shift());_self.session.$scrollTop=toValue}else if(null!=toValue){_self.session.$scrollTop=-1;_self.session.setScrollTop(toValue);toValue=null}else{_self.$timer=clearInterval(_self.$timer);_self.$scrollAnimation=null;callback&&callback()}},10)};this.scrollToY=function(scrollTop){if(this.scrollTop!==scrollTop){this.$loop.schedule(this.CHANGE_SCROLL);this.scrollTop=scrollTop}};this.scrollToX=function(scrollLeft){if(this.scrollLeft!==scrollLeft)this.scrollLeft=scrollLeft;this.$loop.schedule(this.CHANGE_H_SCROLL)};this.scrollTo=function(x,y){this.session.setScrollTop(y);this.session.setScrollLeft(y)};this.scrollBy=function(deltaX,deltaY){deltaY&&this.session.setScrollTop(this.session.getScrollTop()+deltaY);deltaX&&this.session.setScrollLeft(this.session.getScrollLeft()+deltaX)};this.isScrollableBy=function(deltaX,deltaY){if(0>deltaY&&this.session.getScrollTop()>=1-this.scrollMargin.top)return!0;if(0<deltaY&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom)return!0;if(0>deltaX&&this.session.getScrollLeft()>=1-this.scrollMargin.left)return!0;if(0<deltaX&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0};this.pixelToScreenCoordinates=function(x,y){var canvasPos;if(this.$hasCssTransforms){canvasPos={top:0,left:0};var p=this.$fontMetrics.transformCoordinates([x,y]);x=p[1]-this.gutterWidth-this.margin.left;y=p[0]}else{canvasPos=this.scroller.getBoundingClientRect()}var offsetX=x+this.scrollLeft-canvasPos.left-this.$padding,offset=offsetX/this.characterWidth,row=_Mathfloor((y+this.scrollTop-canvasPos.top)/this.lineHeight),col=this.$blockCursor?_Mathfloor(offset):_Mathround(offset);return{row:row,column:col,side:0<offset-col?1:-1,offsetX:offsetX}};this.screenToTextCoordinates=function(x,y){var canvasPos;if(this.$hasCssTransforms){canvasPos={top:0,left:0};var p=this.$fontMetrics.transformCoordinates([x,y]);x=p[1]-this.gutterWidth-this.margin.left;y=p[0]}else{canvasPos=this.scroller.getBoundingClientRect()}var offsetX=x+this.scrollLeft-canvasPos.left-this.$padding,offset=offsetX/this.characterWidth,col=this.$blockCursor?_Mathfloor(offset):_Mathround(offset),row=_Mathfloor((y+this.scrollTop-canvasPos.top)/this.lineHeight);return this.session.screenToDocumentPosition(row,_Mathmax(col,0),offsetX)};this.textToScreenCoordinates=function(row,column){var canvasPos=this.scroller.getBoundingClientRect(),pos=this.session.documentToScreenPosition(row,column),x=this.$padding+(this.session.$bidiHandler.isBidiRow(pos.row,row)?this.session.$bidiHandler.getPosLeft(pos.column):_Mathround(pos.column*this.characterWidth)),y=pos.row*this.lineHeight;return{pageX:canvasPos.left+x-this.scrollLeft,pageY:canvasPos.top+y-this.scrollTop}};this.visualizeFocus=function(){dom.addCssClass(this.container,"ace_focus")};this.visualizeBlur=function(){dom.removeCssClass(this.container,"ace_focus")};this.showComposition=function(composition){this.$composition=composition;if(!composition.cssText){composition.cssText=this.textarea.style.cssText;composition.keepTextAreaAtCursor=this.$keepTextAreaAtCursor}composition.useTextareaForIME=this.$useTextareaForIME;if(this.$useTextareaForIME){this.$keepTextAreaAtCursor=!0;dom.addCssClass(this.textarea,"ace_composition");this.textarea.style.cssText="";this.$moveTextAreaToCursor();this.$cursorLayer.element.style.display="none"}else{composition.markerId=this.session.addMarker(composition.markerRange,"ace_composition_marker","text")}};this.setCompositionText=function(text){var cursor=this.session.selection.cursor;this.addToken(text,"composition_placeholder",cursor.row,cursor.column);this.$moveTextAreaToCursor()};this.hideComposition=function(){if(!this.$composition)return;if(this.$composition.markerId)this.session.removeMarker(this.$composition.markerId);dom.removeCssClass(this.textarea,"ace_composition");this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor;this.textarea.style.cssText=this.$composition.cssText;this.$composition=null;this.$cursorLayer.element.style.display=""};this.addToken=function(text,type,row,column){var session=this.session;session.bgTokenizer.lines[row]=null;var newToken={type:type,value:text},tokens=session.getTokens(row);if(null==column){tokens.push(newToken)}else{for(var l=0,i=0,token;i<tokens.length;i++){token=tokens[i];l+=token.value.length;if(column<=l){var diff=token.value.length-(l-column),before=token.value.slice(0,diff),after=token.value.slice(diff);tokens.splice(i,1,{type:token.type,value:before},newToken,{type:token.type,value:after});break}}}this.updateLines(row,row)};this.setTheme=function(theme,cb){var _self=this;this.$themeId=theme;_self._dispatchEvent("themeChange",{theme:theme});if(!theme||"string"==typeof theme){var moduleName=theme||this.$options.theme.initialValue;config.loadModule(["theme",moduleName],afterLoad)}else{afterLoad(theme)}function afterLoad(module){if(_self.$themeId!=theme)return cb&&cb();if(!module||!module.cssClass)throw new Error("couldn't load module "+theme+" or it didn't call define");if(module.$id)_self.$themeId=module.$id;dom.importCssString(module.cssText,module.cssClass,_self.container);if(_self.theme)dom.removeCssClass(_self.container,_self.theme.cssClass);var padding="padding"in module?module.padding:"padding"in(_self.theme||{})?4:_self.$padding;if(_self.$padding&&padding!=_self.$padding)_self.setPadding(padding);_self.$theme=module.cssClass;_self.theme=module;dom.addCssClass(_self.container,module.cssClass);dom.setCssClass(_self.container,"ace_dark",module.isDark);if(_self.$size){_self.$size.width=0;_self.$updateSizeAsync()}_self._dispatchEvent("themeLoaded",{theme:module});cb&&cb()}};this.getTheme=function(){return this.$themeId};this.setStyle=function(style,include){dom.setCssClass(this.container,style,!1!==include)};this.unsetStyle=function(style){dom.removeCssClass(this.container,style)};this.setCursorStyle=function(style){dom.setStyle(this.scroller.style,"cursor",style)};this.setMouseCursor=function(cursorStyle){dom.setStyle(this.scroller.style,"cursor",cursorStyle)};this.attachToShadowRoot=function(){dom.importCssString(editorCss,"ace_editor.css",this.container)};this.destroy=function(){this.$fontMetrics.destroy();this.$cursorLayer.destroy()}}).call(VirtualRenderer.prototype);config.defineOptions(VirtualRenderer.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(value){if(this.$textLayer.setShowInvisibles(value))this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(val){if("number"==typeof val)this.$printMarginColumn=val;this.$showPrintMargin=!!val;this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(show){this.$gutter.style.display=show?"block":"none";this.$loop.schedule(this.CHANGE_FULL);this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(show){dom.setCssClass(this.$gutter,"ace_fade-fold-widgets",show)},initialValue:!1},showFoldWidgets:{set:function(show){this.$gutterLayer.setShowFoldWidgets(show);this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(show){if(this.$textLayer.setDisplayIndentGuides(show))this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(shouldHighlight){this.$gutterLayer.setHighlightGutterLine(shouldHighlight);this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(){if(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(){if(!this.$vScrollBarAlwaysVisible||!this.$vScroll)this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(size){if("number"==typeof size)size=size+"px";this.container.style.fontSize=size;this.updateFontSize()},initialValue:12},fontFamily:{set:function(name){this.container.style.fontFamily=name;this.updateFontSize()}},maxLines:{set:function(){this.updateFull()}},minLines:{set:function(){if(!(562949953421311>this.$minLines))this.$minLines=0;this.updateFull()}},maxPixelHeight:{set:function(){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(val){val=+val||0;if(this.$scrollPastEnd==val)return;this.$scrollPastEnd=val;this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(val){this.$gutterLayer.$fixedWidth=!!val;this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(val){this.setTheme(val)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!useragent.isMobile&&!useragent.isIE}});exports.VirtualRenderer=VirtualRenderer});ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(require,exports){var oop=require("../lib/oop"),net=require("../lib/net"),EventEmitter=require("../lib/event_emitter").EventEmitter,config=require("../config");function $workerBlob(workerUrl){var script="importScripts('"+net.qualifyURL(workerUrl)+"');";try{return new Blob([script],{type:"application/javascript"})}catch(e){var BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,blobBuilder=new BlobBuilder;blobBuilder.append(script);return blobBuilder.getBlob("application/javascript")}}function createWorker(workerUrl){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};var blob=$workerBlob(workerUrl),URL=window.URL||window.webkitURL,blobURL=URL.createObjectURL(blob);return new Worker(blobURL)}var WorkerClient=function(topLevelNamespaces,mod,classname,workerUrl,importScripts){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this);this.changeListener=this.changeListener.bind(this);this.onMessage=this.onMessage.bind(this);if(require.nameToUrl&&!require.toUrl)require.toUrl=require.nameToUrl;if(config.get("packaged")||!require.toUrl){workerUrl=workerUrl||config.moduleUrl(mod,"worker")}else{var normalizePath=this.$normalizePath;workerUrl=workerUrl||normalizePath(require.toUrl("ace/worker/worker.js",null,"_"));var tlns={};topLevelNamespaces.forEach(function(ns){tlns[ns]=normalizePath(require.toUrl(ns,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}this.$worker=createWorker(workerUrl);if(importScripts){this.send("importScripts",importScripts)}this.$worker.postMessage({init:!0,tlns:tlns,module:mod,classname:classname});this.callbackId=1;this.callbacks={};this.$worker.onmessage=this.onMessage};(function(){oop.implement(this,EventEmitter);this.onMessage=function(e){var msg=e.data;switch(msg.type){case"event":this._signal(msg.name,{data:msg.data});break;case"call":var callback=this.callbacks[msg.id];if(callback){callback(msg.data);delete this.callbacks[msg.id]}break;case"error":this.reportError(msg.data);break;case"log":window.console&&console.log&&console.log.apply(console,msg.data);break;}};this.reportError=function(err){window.console&&console.error&&console.error(err)};this.$normalizePath=function(path){return net.qualifyURL(path)};this.terminate=function(){this._signal("terminate",{});this.deltaQueue=null;this.$worker.terminate();this.$worker=null;if(this.$doc)this.$doc.off("change",this.changeListener);this.$doc=null};this.send=function(cmd,args){this.$worker.postMessage({command:cmd,args:args})};this.call=function(cmd,args,callback){if(callback){var id=this.callbackId++;this.callbacks[id]=callback;args.push(id)}this.send(cmd,args)};this.emit=function(event,data){try{if(data.data&&data.data.err)data.data.err={message:data.data.err.message,stack:data.data.err.stack,code:data.data.err.code};this.$worker.postMessage({event:event,data:{data:data.data}})}catch(ex){console.error(ex.stack)}};this.attachToDocument=function(doc){if(this.$doc)this.terminate();this.$doc=doc;this.call("setValue",[doc.getValue()]);doc.on("change",this.changeListener)};this.changeListener=function(delta){if(!this.deltaQueue){this.deltaQueue=[];setTimeout(this.$sendDeltaQueue,0)}if("insert"==delta.action)this.deltaQueue.push(delta.start,delta.lines);else this.deltaQueue.push(delta.start,delta.end)};this.$sendDeltaQueue=function(){var q=this.deltaQueue;if(!q)return;this.deltaQueue=null;if(50<q.length&&q.length>this.$doc.getLength()>>1){this.call("setValue",[this.$doc.getValue()])}else this.emit("change",{data:q})}}).call(WorkerClient.prototype);var UIWorkerClient=function(topLevelNamespaces,mod,classname){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this);this.changeListener=this.changeListener.bind(this);this.callbackId=1;this.callbacks={};this.messageBuffer=[];var main=null,emitSync=!1,sender=Object.create(EventEmitter),_self=this;this.$worker={};this.$worker.terminate=function(){};this.$worker.postMessage=function(e){_self.messageBuffer.push(e);if(main){if(emitSync)setTimeout(processNext);else processNext()}};this.setEmitSync=function(val){emitSync=val};var processNext=function(){var msg=_self.messageBuffer.shift();if(msg.command)main[msg.command].apply(main,msg.args);else if(msg.event)sender._signal(msg.event,msg.data)};sender.postMessage=function(msg){_self.onMessage({data:msg})};sender.callback=function(data,callbackId){this.postMessage({type:"call",id:callbackId,data:data})};sender.emit=function(name,data){this.postMessage({type:"event",name:name,data:data})};config.loadModule(["worker",mod],function(Main){main=new Main[classname](sender);while(_self.messageBuffer.length)processNext()})};UIWorkerClient.prototype=WorkerClient.prototype;exports.UIWorkerClient=UIWorkerClient;exports.WorkerClient=WorkerClient;exports.createWorker=createWorker});ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(require,exports){var Range=require("./range").Range,EventEmitter=require("./lib/event_emitter").EventEmitter,oop=require("./lib/oop"),PlaceHolder=function(session,length,pos,others,mainClass,othersClass){var _self=this;this.length=length;this.session=session;this.doc=session.getDocument();this.mainClass=mainClass;this.othersClass=othersClass;this.$onUpdate=this.onUpdate.bind(this);this.doc.on("change",this.$onUpdate);this.$others=others;this.$onCursorChange=function(){setTimeout(function(){_self.onCursorChange()})};this.$pos=pos;var undoStack=session.getUndoManager().$undoStack||session.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=undoStack.length;this.setup();session.selection.on("changeCursor",this.$onCursorChange)};(function(){oop.implement(this,EventEmitter);this.setup=function(){var _self=this,doc=this.doc,session=this.session;this.selectionBefore=session.selection.toJSON();if(session.selection.inMultiSelectMode)session.selection.toSingleRange();this.pos=doc.createAnchor(this.$pos.row,this.$pos.column);var pos=this.pos;pos.$insertRight=!0;pos.detach();pos.markerId=session.addMarker(new Range(pos.row,pos.column,pos.row,pos.column+this.length),this.mainClass,null,!1);this.others=[];this.$others.forEach(function(other){var anchor=doc.createAnchor(other.row,other.column);anchor.$insertRight=!0;anchor.detach();_self.others.push(anchor)});session.setUndoSelect(!1)};this.showOtherMarkers=function(){if(this.othersActive)return;var session=this.session,_self=this;this.othersActive=!0;this.others.forEach(function(anchor){anchor.markerId=session.addMarker(new Range(anchor.row,anchor.column,anchor.row,anchor.column+_self.length),_self.othersClass,null,!1)})};this.hideOtherMarkers=function(){if(!this.othersActive)return;this.othersActive=!1;for(var i=0;i<this.others.length;i++){this.session.removeMarker(this.others[i].markerId)}};this.onUpdate=function(delta){if(this.$updating)return this.updateAnchors(delta);var range=delta;if(range.start.row!==range.end.row)return;if(range.start.row!==this.pos.row)return;this.$updating=!0;var lengthDiff="insert"===delta.action?range.end.column-range.start.column:range.start.column-range.end.column,inMainRange=range.start.column>=this.pos.column&&range.start.column<=this.pos.column+this.length+1,distanceFromStart=range.start.column-this.pos.column;this.updateAnchors(delta);if(inMainRange)this.length+=lengthDiff;if(inMainRange&&!this.session.$fromUndo){if("insert"===delta.action){for(var i=this.others.length-1;0<=i;i--){var otherPos=this.others[i],newPos={row:otherPos.row,column:otherPos.column+distanceFromStart};this.doc.insertMergedLines(newPos,delta.lines)}}else if("remove"===delta.action){for(var i=this.others.length-1;0<=i;i--){var otherPos=this.others[i],newPos={row:otherPos.row,column:otherPos.column+distanceFromStart};this.doc.remove(new Range(newPos.row,newPos.column,newPos.row,newPos.column-lengthDiff))}}}this.$updating=!1;this.updateMarkers()};this.updateAnchors=function(delta){this.pos.onChange(delta);for(var i=this.others.length;i--;)this.others[i].onChange(delta);this.updateMarkers()};this.updateMarkers=function(){if(this.$updating)return;var _self=this,session=this.session,updateMarker=function(pos,className){session.removeMarker(pos.markerId);pos.markerId=session.addMarker(new Range(pos.row,pos.column,pos.row,pos.column+_self.length),className,null,!1)};updateMarker(this.pos,this.mainClass);for(var i=this.others.length;i--;)updateMarker(this.others[i],this.othersClass)};this.onCursorChange=function(event){if(this.$updating||!this.session)return;var pos=this.session.selection.getCursor();if(pos.row===this.pos.row&&pos.column>=this.pos.column&&pos.column<=this.pos.column+this.length){this.showOtherMarkers();this._emit("cursorEnter",event)}else{this.hideOtherMarkers();this._emit("cursorLeave",event)}};this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId);this.hideOtherMarkers();this.doc.removeEventListener("change",this.$onUpdate);this.session.selection.removeEventListener("changeCursor",this.$onCursorChange);this.session.setUndoSelect(!0);this.session=null};this.cancel=function(){if(-1===this.$undoStackDepth)return;for(var undoManager=this.session.getUndoManager(),undosRequired=(undoManager.$undoStack||undoManager.$undostack).length-this.$undoStackDepth,i=0;i<undosRequired;i++){undoManager.undo(this.session,!0)}if(this.selectionBefore)this.session.selection.fromJSON(this.selectionBefore)}}).call(PlaceHolder.prototype);exports.PlaceHolder=PlaceHolder});ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(require,exports){var event=require("../lib/event"),useragent=require("../lib/useragent");function isSamePoint(p1,p2){return p1.row==p2.row&&p1.column==p2.column}exports.onMouseDown=function(e){var ev=e.domEvent,alt=ev.altKey,shift=ev.shiftKey,ctrl=ev.ctrlKey,accel=e.getAccelKey(),button=e.getButton();if(ctrl&&useragent.isMac)button=ev.button;if(e.editor.inMultiSelectMode&&2==button){e.editor.textInput.onContextMenu(e.domEvent);return}if(!ctrl&&!alt&&!accel){if(0===button&&e.editor.inMultiSelectMode)e.editor.exitMultiSelectMode();return}if(0!==button)return;var editor=e.editor,selection=editor.selection,isMultiSelect=editor.inMultiSelectMode,pos=e.getDocumentPosition(),cursor=selection.getCursor(),inSelection=e.inSelection()||selection.isEmpty()&&isSamePoint(pos,cursor),mouseX=e.x,mouseY=e.y,onMouseSelection=function(e){mouseX=e.clientX;mouseY=e.clientY},session=editor.session,screenAnchor=editor.renderer.pixelToScreenCoordinates(mouseX,mouseY),screenCursor=screenAnchor,selectionMode;if(editor.$mouseHandler.$enableJumpToDef){if(ctrl&&alt||accel&&alt)selectionMode=shift?"block":"add";else if(alt&&editor.$blockSelectEnabled)selectionMode="block"}else{if(accel&&!alt){selectionMode="add";if(!isMultiSelect&&shift)return}else if(alt&&editor.$blockSelectEnabled){selectionMode="block"}}if(selectionMode&&useragent.isMac&&ev.ctrlKey){editor.$mouseHandler.cancelContextMenu()}if("add"==selectionMode){if(!isMultiSelect&&inSelection)return;if(!isMultiSelect){var range=selection.toOrientedRange();editor.addSelectionMarker(range)}var oldRange=selection.rangeList.rangeAtPoint(pos);editor.inVirtualSelectionMode=!0;if(shift){oldRange=null;range=selection.ranges[0]||range;editor.removeSelectionMarker(range)}editor.once("mouseup",function(){var tmpSel=selection.toOrientedRange();if(oldRange&&tmpSel.isEmpty()&&isSamePoint(oldRange.cursor,tmpSel.cursor))selection.substractPoint(tmpSel.cursor);else{if(shift){selection.substractPoint(range.cursor)}else if(range){editor.removeSelectionMarker(range);selection.addRange(range)}selection.addRange(tmpSel)}editor.inVirtualSelectionMode=!1})}else if("block"==selectionMode){e.stop();editor.inVirtualSelectionMode=!0;var initialRange,rectSel=[],blockSelect=function(){var newCursor=editor.renderer.pixelToScreenCoordinates(mouseX,mouseY),cursor=session.screenToDocumentPosition(newCursor.row,newCursor.column,newCursor.offsetX);if(isSamePoint(screenCursor,newCursor)&&isSamePoint(cursor,selection.lead))return;screenCursor=newCursor;editor.selection.moveToPosition(cursor);editor.renderer.scrollCursorIntoView();editor.removeSelectionMarkers(rectSel);rectSel=selection.rectangularRangeBlock(screenCursor,screenAnchor);if(editor.$mouseHandler.$clickSelection&&1==rectSel.length&&rectSel[0].isEmpty())rectSel[0]=editor.$mouseHandler.$clickSelection.clone();rectSel.forEach(editor.addSelectionMarker,editor);editor.updateSelectionMarkers()};if(isMultiSelect&&!accel){selection.toSingleRange()}else if(!isMultiSelect&&accel){initialRange=selection.toOrientedRange();editor.addSelectionMarker(initialRange)}if(shift)screenAnchor=session.documentToScreenPosition(selection.lead);else selection.moveToPosition(pos);screenCursor={row:-1,column:-1};var onMouseSelectionEnd=function(){blockSelect();clearInterval(timerId);editor.removeSelectionMarkers(rectSel);if(!rectSel.length)rectSel=[selection.toOrientedRange()];if(initialRange){editor.removeSelectionMarker(initialRange);selection.toSingleRange(initialRange)}for(var i=0;i<rectSel.length;i++)selection.addRange(rectSel[i]);editor.inVirtualSelectionMode=!1;editor.$mouseHandler.$clickSelection=null};event.capture(editor.container,onMouseSelection,onMouseSelectionEnd);var timerId=setInterval(function(){blockSelect()},20);return e.preventDefault()}}});ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(require,exports){exports.defaultCommands=[{name:"addCursorAbove",exec:function(editor){editor.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(editor){editor.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(editor){editor.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(editor){editor.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(editor){editor.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(editor){editor.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(editor){editor.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(editor){editor.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(editor){editor.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(editor){editor.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(editor){editor.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}];exports.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(editor){editor.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(editor){return editor&&editor.inMultiSelectMode}}];var HashHandler=require("../keyboard/hash_handler").HashHandler;exports.keyboardHandler=new HashHandler(exports.multiSelectCommands)});ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(require,exports){var RangeList=require("./range_list").RangeList,Range=require("./range").Range,Selection=require("./selection").Selection,onMouseDown=require("./mouse/multi_select_handler").onMouseDown,event=require("./lib/event"),lang=require("./lib/lang"),commands=require("./commands/multi_select_commands");exports.commands=commands.defaultCommands.concat(commands.multiSelectCommands);var Search=require("./search").Search,search=new Search;function find(session,needle,dir){search.$options.wrap=!0;search.$options.needle=needle;search.$options.backwards=-1==dir;return search.find(session)}var EditSession=require("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(EditSession.prototype);(function(){this.ranges=null;this.rangeList=null;this.addRange=function(range,$blockChangeEvents){if(!range)return;if(!this.inMultiSelectMode&&0===this.rangeCount){var oldRange=this.toOrientedRange();this.rangeList.add(oldRange);this.rangeList.add(range);if(2!=this.rangeList.ranges.length){this.rangeList.removeAll();return $blockChangeEvents||this.fromOrientedRange(range)}this.rangeList.removeAll();this.rangeList.add(oldRange);this.$onAddRange(oldRange)}if(!range.cursor)range.cursor=range.end;var removed=this.rangeList.add(range);this.$onAddRange(range);if(removed.length)this.$onRemoveRange(removed);if(1<this.rangeCount&&!this.inMultiSelectMode){this._signal("multiSelect");this.inMultiSelectMode=!0;this.session.$undoSelect=!1;this.rangeList.attach(this.session)}return $blockChangeEvents||this.fromOrientedRange(range)};this.toSingleRange=function(range){range=range||this.ranges[0];var removed=this.rangeList.removeAll();if(removed.length)this.$onRemoveRange(removed);range&&this.fromOrientedRange(range)};this.substractPoint=function(pos){var removed=this.rangeList.substractPoint(pos);if(removed){this.$onRemoveRange(removed);return removed[0]}};this.mergeOverlappingRanges=function(){var removed=this.rangeList.merge();if(removed.length)this.$onRemoveRange(removed)};this.$onAddRange=function(range){this.rangeCount=this.rangeList.ranges.length;this.ranges.unshift(range);this._signal("addRange",{range:range})};this.$onRemoveRange=function(removed){this.rangeCount=this.rangeList.ranges.length;if(1==this.rangeCount&&this.inMultiSelectMode){var lastRange=this.rangeList.ranges.pop();removed.push(lastRange);this.rangeCount=0}for(var i=removed.length,index;i--;){index=this.ranges.indexOf(removed[i]);this.ranges.splice(index,1)}this._signal("removeRange",{ranges:removed});if(0===this.rangeCount&&this.inMultiSelectMode){this.inMultiSelectMode=!1;this._signal("singleSelect");this.session.$undoSelect=!0;this.rangeList.detach(this.session)}lastRange=lastRange||this.ranges[0];if(lastRange&&!lastRange.isEqual(this.getRange()))this.fromOrientedRange(lastRange)};this.$initRangeList=function(){if(this.rangeList)return;this.rangeList=new RangeList;this.ranges=[];this.rangeCount=0};this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]};this.splitIntoLines=function(){if(1<this.rangeCount){var ranges=this.rangeList.ranges,lastRange=ranges[ranges.length-1],range=Range.fromPoints(ranges[0].start,lastRange.end);this.toSingleRange();this.setSelectionRange(range,lastRange.cursor==lastRange.start)}else{var range=this.getRange(),isBackwards=this.isBackwards(),startRow=range.start.row,endRow=range.end.row;if(startRow==endRow){if(isBackwards)var start=range.end,end=range.start;else var start=range.start,end=range.end;this.addRange(Range.fromPoints(end,end));this.addRange(Range.fromPoints(start,start));return}var rectSel=[],r=this.getLineRange(startRow,!0);r.start.column=range.start.column;rectSel.push(r);for(var i=startRow+1;i<endRow;i++)rectSel.push(this.getLineRange(i,!0));r=this.getLineRange(endRow,!0);r.end.column=range.end.column;rectSel.push(r);rectSel.forEach(this.addRange,this)}};this.toggleBlockSelection=function(){if(1<this.rangeCount){var ranges=this.rangeList.ranges,lastRange=ranges[ranges.length-1],range=Range.fromPoints(ranges[0].start,lastRange.end);this.toSingleRange();this.setSelectionRange(range,lastRange.cursor==lastRange.start)}else{var cursor=this.session.documentToScreenPosition(this.cursor),anchor=this.session.documentToScreenPosition(this.anchor),rectSel=this.rectangularRangeBlock(cursor,anchor);rectSel.forEach(this.addRange,this)}};this.rectangularRangeBlock=function(screenCursor,screenAnchor,includeEmptyLines){var rectSel=[],xBackwards=screenCursor.column<screenAnchor.column;if(xBackwards){var startColumn=screenCursor.column,endColumn=screenAnchor.column,startOffsetX=screenCursor.offsetX,endOffsetX=screenAnchor.offsetX}else{var startColumn=screenAnchor.column,endColumn=screenCursor.column,startOffsetX=screenAnchor.offsetX,endOffsetX=screenCursor.offsetX}var yBackwards=screenCursor.row<screenAnchor.row;if(yBackwards){var startRow=screenCursor.row,endRow=screenAnchor.row}else{var startRow=screenAnchor.row,endRow=screenCursor.row}if(0>startColumn)startColumn=0;if(0>startRow)startRow=0;if(startRow==endRow)includeEmptyLines=!0;for(var docEnd,row=startRow,range;row<=endRow;row++){range=Range.fromPoints(this.session.screenToDocumentPosition(row,startColumn,startOffsetX),this.session.screenToDocumentPosition(row,endColumn,endOffsetX));if(range.isEmpty()){if(docEnd&&isSamePoint(range.end,docEnd))break;docEnd=range.end}range.cursor=xBackwards?range.start:range.end;rectSel.push(range)}if(yBackwards)rectSel.reverse();if(!includeEmptyLines){var end=rectSel.length-1;while(rectSel[end].isEmpty()&&0<end)end--;if(0<end){var start=0;while(rectSel[start].isEmpty())start++}for(var i=end;i>=start;i--){if(rectSel[i].isEmpty())rectSel.splice(i,1)}}return rectSel}}).call(Selection.prototype);var Editor=require("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.addSelectionMarker=function(orientedRange){if(!orientedRange.cursor)orientedRange.cursor=orientedRange.end;var style=this.getSelectionStyle();orientedRange.marker=this.session.addMarker(orientedRange,"ace_selection",style);this.session.$selectionMarkers.push(orientedRange);this.session.selectionMarkerCount=this.session.$selectionMarkers.length;return orientedRange};this.removeSelectionMarker=function(range){if(!range.marker)return;this.session.removeMarker(range.marker);var index=this.session.$selectionMarkers.indexOf(range);if(-1!=index)this.session.$selectionMarkers.splice(index,1);this.session.selectionMarkerCount=this.session.$selectionMarkers.length};this.removeSelectionMarkers=function(ranges){for(var markerList=this.session.$selectionMarkers,i=ranges.length,range;i--;){range=ranges[i];if(!range.marker)continue;this.session.removeMarker(range.marker);var index=markerList.indexOf(range);if(-1!=index)markerList.splice(index,1)}this.session.selectionMarkerCount=markerList.length};this.$onAddRange=function(e){this.addSelectionMarker(e.range);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onMultiSelect=function(){if(this.inMultiSelectMode)return;this.inMultiSelectMode=!0;this.setStyle("ace_multiselect");this.keyBinding.addKeyboardHandler(commands.keyboardHandler);this.commands.setDefaultHandler("exec",this.$onMultiSelectExec);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onSingleSelect=function(){if(this.session.multiSelect.inVirtualMode)return;this.inMultiSelectMode=!1;this.unsetStyle("ace_multiselect");this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec);this.renderer.updateCursor();this.renderer.updateBackMarkers();this._emit("changeSelection")};this.$onMultiSelectExec=function(e){var command=e.command,editor=e.editor;if(!editor.multiSelect)return;if(!command.multiSelectAction){var result=command.exec(editor,e.args||{});editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());editor.multiSelect.mergeOverlappingRanges()}else if("forEach"==command.multiSelectAction){result=editor.forEachSelection(command,e.args)}else if("forEachLine"==command.multiSelectAction){result=editor.forEachSelection(command,e.args,!0)}else if("single"==command.multiSelectAction){editor.exitMultiSelectMode();result=command.exec(editor,e.args||{})}else{result=command.multiSelectAction(editor,e.args||{})}return result};this.forEachSelection=function(cmd,args,options){if(this.inVirtualSelectionMode)return;var keepOrder=options&&options.keepOrder,$byLines=!0==options||options&&options.$byLines,session=this.session,selection=this.selection,rangeList=selection.rangeList,ranges=(keepOrder?selection:rangeList).ranges,result;if(!ranges.length)return cmd.exec?cmd.exec(this,args||{}):cmd(this,args||{});var reg=selection._eventRegistry;selection._eventRegistry={};var tmpSel=new Selection(session);this.inVirtualSelectionMode=!0;for(var i=ranges.length;i--;){if($byLines){while(0<i&&ranges[i].start.row==ranges[i-1].end.row)i--}tmpSel.fromOrientedRange(ranges[i]);tmpSel.index=i;this.selection=session.selection=tmpSel;var cmdResult=cmd.exec?cmd.exec(this,args||{}):cmd(this,args||{});if(!result&&cmdResult!==void 0)result=cmdResult;tmpSel.toOrientedRange(ranges[i])}tmpSel.detach();this.selection=session.selection=selection;this.inVirtualSelectionMode=!1;selection._eventRegistry=reg;selection.mergeOverlappingRanges();if(selection.ranges[0])selection.fromOrientedRange(selection.ranges[0]);var anim=this.renderer.$scrollAnimation;this.onCursorChange();this.onSelectionChange();if(anim&&anim.from==anim.to)this.renderer.animateScrolling(anim.from);return result};this.exitMultiSelectMode=function(){if(!this.inMultiSelectMode||this.inVirtualSelectionMode)return;this.multiSelect.toSingleRange()};this.getSelectedText=function(){var text="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var ranges=this.multiSelect.rangeList.ranges,buf=[],i=0;i<ranges.length;i++){buf.push(this.session.getTextRange(ranges[i]))}var nl=this.session.getDocument().getNewLineCharacter();text=buf.join(nl);if(text.length==(buf.length-1)*nl.length)text=""}else if(!this.selection.isEmpty()){text=this.session.getTextRange(this.getSelectionRange())}return text};this.$checkMultiselectChange=function(e,anchor){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var range=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&anchor==this.multiSelect.anchor)return;var pos=anchor==this.multiSelect.anchor?range.cursor==range.start?range.end:range.start:range.cursor;if(pos.row!=anchor.row||this.session.$clipPositionToDocument(pos.row,pos.column).column!=anchor.column)this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());else this.multiSelect.mergeOverlappingRanges()}};this.findAll=function(needle,options,additive){options=options||{};options.needle=needle||options.needle;if(options.needle==void 0){var range=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();options.needle=this.session.getTextRange(range)}this.$search.set(options);var ranges=this.$search.findAll(this.session);if(!ranges.length)return 0;var selection=this.multiSelect;if(!additive)selection.toSingleRange(ranges[0]);for(var i=ranges.length;i--;)selection.addRange(ranges[i],!0);if(range&&selection.rangeList.rangeAtPoint(range.start))selection.addRange(range,!0);return ranges.length};this.selectMoreLines=function(dir,skip){var range=this.selection.toOrientedRange(),isBackwards=range.cursor==range.end,screenLead=this.session.documentToScreenPosition(range.cursor);if(this.selection.$desiredColumn)screenLead.column=this.selection.$desiredColumn;var lead=this.session.screenToDocumentPosition(screenLead.row+dir,screenLead.column);if(!range.isEmpty()){var screenAnchor=this.session.documentToScreenPosition(isBackwards?range.end:range.start),anchor=this.session.screenToDocumentPosition(screenAnchor.row+dir,screenAnchor.column)}else{var anchor=lead}if(isBackwards){var newRange=Range.fromPoints(lead,anchor);newRange.cursor=newRange.start}else{var newRange=Range.fromPoints(anchor,lead);newRange.cursor=newRange.end}newRange.desiredColumn=screenLead.column;if(!this.selection.inMultiSelectMode){this.selection.addRange(range)}else{if(skip)var toRemove=range.cursor}this.selection.addRange(newRange);if(toRemove)this.selection.substractPoint(toRemove)};this.transposeSelections=function(dir){for(var session=this.session,sel=session.multiSelect,all=sel.ranges,i=all.length,range;i--;){range=all[i];if(range.isEmpty()){var tmp=session.getWordRange(range.start.row,range.start.column);range.start.row=tmp.start.row;range.start.column=tmp.start.column;range.end.row=tmp.end.row;range.end.column=tmp.end.column}}sel.mergeOverlappingRanges();for(var words=[],i=all.length,range;i--;){range=all[i];words.unshift(session.getTextRange(range))}if(0>dir)words.unshift(words.pop());else words.push(words.shift());for(var i=all.length;i--;){var range=all[i],tmp=range.clone();session.replace(range,words[i]);range.start.row=tmp.start.row;range.start.column=tmp.start.column}sel.fromOrientedRange(sel.ranges[0])};this.selectMore=function(dir,skip,stopAtFirst){var session=this.session,sel=session.multiSelect,range=sel.toOrientedRange();if(range.isEmpty()){range=session.getWordRange(range.start.row,range.start.column);range.cursor=-1==dir?range.start:range.end;this.multiSelect.addRange(range);if(stopAtFirst)return}var needle=session.getTextRange(range),newRange=find(session,needle,dir);if(newRange){newRange.cursor=-1==dir?newRange.start:newRange.end;this.session.unfold(newRange);this.multiSelect.addRange(newRange);this.renderer.scrollCursorIntoView(null,.5)}if(skip)this.multiSelect.substractPoint(range.cursor)};this.alignCursors=function(){var session=this.session,sel=session.multiSelect,ranges=sel.ranges,row=-1,sameRowRanges=ranges.filter(function(r){if(r.cursor.row==row)return!0;row=r.cursor.row});if(!ranges.length||sameRowRanges.length==ranges.length-1){var range=this.selection.getRange(),fr=range.start.row,lr=range.end.row,guessRange=fr==lr;if(guessRange){var max=this.session.getLength(),line;do{line=this.session.getLine(lr)}while(/[=:]/.test(line)&&++lr<max);do{line=this.session.getLine(fr)}while(/[=:]/.test(line)&&0<--fr);if(0>fr)fr=0;if(lr>=max)lr=max-1}var lines=this.session.removeFullLines(fr,lr);lines=this.$reAlignText(lines,guessRange);this.session.insert({row:fr,column:0},lines.join("\n")+"\n");if(!guessRange){range.start.column=0;range.end.column=lines[lines.length-1].length}this.selection.setRange(range)}else{sameRowRanges.forEach(function(r){sel.substractPoint(r.cursor)});var maxCol=0,minSpace=1/0,spaceOffsets=ranges.map(function(r){var p=r.cursor,line=session.getLine(p.row),spaceOffset=line.substr(p.column).search(/\S/g);if(-1==spaceOffset)spaceOffset=0;if(p.column>maxCol)maxCol=p.column;if(spaceOffset<minSpace)minSpace=spaceOffset;return spaceOffset});ranges.forEach(function(r,i){var p=r.cursor,l=maxCol-p.column,d=spaceOffsets[i]-minSpace;if(l>d)session.insert(p,lang.stringRepeat(" ",l-d));else session.remove(new Range(p.row,p.column,p.row,p.column-l+d));r.start.column=r.end.column=maxCol;r.start.row=r.end.row=p.row;r.cursor=r.end});sel.fromOrientedRange(ranges[0]);this.renderer.updateCursor();this.renderer.updateBackMarkers()}};this.$reAlignText=function(lines,forceLeft){var isLeftAligned=!0,isRightAligned=!0,startW,textW,endW;return lines.map(function(line){var m=line.match(/(\s*)(.*?)(\s*)([=:].*)/);if(!m)return[line];if(null==startW){startW=m[1].length;textW=m[2].length;endW=m[3].length;return m}if(startW+textW+endW!=m[1].length+m[2].length+m[3].length)isRightAligned=!1;if(startW!=m[1].length)isLeftAligned=!1;if(startW>m[1].length)startW=m[1].length;if(textW<m[2].length)textW=m[2].length;if(endW>m[3].length)endW=m[3].length;return m}).map(forceLeft?alignLeft:isLeftAligned?isRightAligned?alignRight:alignLeft:unAlign);function spaces(n){return lang.stringRepeat(" ",n)}function alignLeft(m){return!m[2]?m[0]:spaces(startW)+m[2]+spaces(textW-m[2].length+endW)+m[4].replace(/^([=:])\s+/,"$1 ")}function alignRight(m){return!m[2]?m[0]:spaces(startW+textW-m[2].length)+m[2]+spaces(endW)+m[4].replace(/^([=:])\s+/,"$1 ")}function unAlign(m){return!m[2]?m[0]:spaces(startW)+m[2]+spaces(endW)+m[4].replace(/^([=:])\s+/,"$1 ")}}}).call(Editor.prototype);function isSamePoint(p1,p2){return p1.row==p2.row&&p1.column==p2.column}exports.onSessionChange=function(e){var session=e.session;if(session&&!session.multiSelect){session.$selectionMarkers=[];session.selection.$initRangeList();session.multiSelect=session.selection}this.multiSelect=session&&session.multiSelect;var oldSession=e.oldSession;if(oldSession){oldSession.multiSelect.off("addRange",this.$onAddRange);oldSession.multiSelect.off("removeRange",this.$onRemoveRange);oldSession.multiSelect.off("multiSelect",this.$onMultiSelect);oldSession.multiSelect.off("singleSelect",this.$onSingleSelect);oldSession.multiSelect.lead.off("change",this.$checkMultiselectChange);oldSession.multiSelect.anchor.off("change",this.$checkMultiselectChange)}if(session){session.multiSelect.on("addRange",this.$onAddRange);session.multiSelect.on("removeRange",this.$onRemoveRange);session.multiSelect.on("multiSelect",this.$onMultiSelect);session.multiSelect.on("singleSelect",this.$onSingleSelect);session.multiSelect.lead.on("change",this.$checkMultiselectChange);session.multiSelect.anchor.on("change",this.$checkMultiselectChange)}if(session&&this.inMultiSelectMode!=session.selection.inMultiSelectMode){if(session.selection.inMultiSelectMode)this.$onMultiSelect();else this.$onSingleSelect()}};function MultiSelect(editor){if(editor.$multiselectOnSessionChange)return;editor.$onAddRange=editor.$onAddRange.bind(editor);editor.$onRemoveRange=editor.$onRemoveRange.bind(editor);editor.$onMultiSelect=editor.$onMultiSelect.bind(editor);editor.$onSingleSelect=editor.$onSingleSelect.bind(editor);editor.$multiselectOnSessionChange=exports.onSessionChange.bind(editor);editor.$checkMultiselectChange=editor.$checkMultiselectChange.bind(editor);editor.$multiselectOnSessionChange(editor);editor.on("changeSession",editor.$multiselectOnSessionChange);editor.on("mousedown",onMouseDown);editor.commands.addCommands(commands.defaultCommands);addAltCursorListeners(editor)}function addAltCursorListeners(editor){var el=editor.textInput.getElement(),altCursor=!1;event.addListener(el,"keydown",function(e){var altDown=18==e.keyCode&&!(e.ctrlKey||e.shiftKey||e.metaKey);if(editor.$blockSelectEnabled&&altDown){if(!altCursor){editor.renderer.setMouseCursor("crosshair");altCursor=!0}}else if(altCursor){reset()}});event.addListener(el,"keyup",reset);event.addListener(el,"blur",reset);function reset(){if(altCursor){editor.renderer.setMouseCursor("");altCursor=!1}}}exports.MultiSelect=MultiSelect;require("./config").defineOptions(Editor.prototype,"editor",{enableMultiselect:{set:function(val){MultiSelect(this);if(val){this.on("changeSession",this.$multiselectOnSessionChange);this.on("mousedown",onMouseDown)}else{this.off("changeSession",this.$multiselectOnSessionChange);this.off("mousedown",onMouseDown)}},value:!0},enableBlockSelect:{set:function(val){this.$blockSelectEnabled=val},value:!0}})});ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(require,exports){var Range=require("../../range").Range,FoldMode=exports.FoldMode=function(){};(function(){this.foldingStartMarker=null;this.foldingStopMarker=null;this.getFoldWidget=function(session,foldStyle,row){var line=session.getLine(row);if(this.foldingStartMarker.test(line))return"start";if("markbeginend"==foldStyle&&this.foldingStopMarker&&this.foldingStopMarker.test(line))return"end";return""};this.getFoldWidgetRange=function(){return null};this.indentationBlock=function(session,row,column){var re=/\S/,line=session.getLine(row),startLevel=line.search(re);if(-1==startLevel)return;var startColumn=column||line.length,maxRow=session.getLength(),startRow=row,endRow=row;while(++row<maxRow){var level=session.getLine(row).search(re);if(-1==level)continue;if(level<=startLevel)break;endRow=row}if(endRow>startRow){var endColumn=session.getLine(endRow).length;return new Range(startRow,startColumn,endRow,endColumn)}};this.openingBracketBlock=function(session,bracket,row,column,typeRe){var start={row:row,column:column+1},end=session.$findClosingBracket(bracket,start,typeRe);if(!end)return;var fw=session.foldWidgets[end.row];if(null==fw)fw=session.getFoldWidget(end.row);if("start"==fw&&end.row>start.row){end.row--;end.column=session.getLine(end.row).length}return Range.fromPoints(start,end)};this.closingBracketBlock=function(session,bracket,row,column){var end={row:row,column:column},start=session.$findOpeningBracket(bracket,end);if(!start)return;start.column++;end.column--;return Range.fromPoints(start,end)}}).call(FoldMode.prototype)});ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(require,exports){exports.isDark=!1;exports.cssClass="ace-tm";exports.cssText=".ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\") right repeat-y;}";exports.$id="ace/theme/textmate";var dom=require("../lib/dom");dom.importCssString(exports.cssText,exports.cssClass)});ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(require,exports){var oop=require("./lib/oop"),dom=require("./lib/dom"),Range=require("./range").Range;function LineWidgets(session){this.session=session;this.session.widgetManager=this;this.session.getRowLength=this.getRowLength;this.session.$getWidgetScreenLength=this.$getWidgetScreenLength;this.updateOnChange=this.updateOnChange.bind(this);this.renderWidgets=this.renderWidgets.bind(this);this.measureWidgets=this.measureWidgets.bind(this);this.session._changedWidgets=[];this.$onChangeEditor=this.$onChangeEditor.bind(this);this.session.on("change",this.updateOnChange);this.session.on("changeFold",this.updateOnFold);this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(row){var h;if(this.lineWidgets)h=this.lineWidgets[row]&&this.lineWidgets[row].rowCount||0;else h=0;if(!this.$useWrapMode||!this.$wrapData[row]){return 1+h}else{return this.$wrapData[row].length+1+h}};this.$getWidgetScreenLength=function(){var screenRows=0;this.lineWidgets.forEach(function(w){if(w&&w.rowCount&&!w.hidden)screenRows+=w.rowCount});return screenRows};this.$onChangeEditor=function(e){this.attach(e.editor)};this.attach=function(editor){if(editor&&editor.widgetManager&&editor.widgetManager!=this)editor.widgetManager.detach();if(this.editor==editor)return;this.detach();this.editor=editor;if(editor){editor.widgetManager=this;editor.renderer.on("beforeRender",this.measureWidgets);editor.renderer.on("afterRender",this.renderWidgets)}};this.detach=function(){var editor=this.editor;if(!editor)return;this.editor=null;editor.widgetManager=null;editor.renderer.off("beforeRender",this.measureWidgets);editor.renderer.off("afterRender",this.renderWidgets);var lineWidgets=this.session.lineWidgets;lineWidgets&&lineWidgets.forEach(function(w){if(w&&w.el&&w.el.parentNode){w._inDocument=!1;w.el.parentNode.removeChild(w.el)}})};this.updateOnFold=function(e,session){var lineWidgets=session.lineWidgets;if(!lineWidgets||!e.action)return;for(var fold=e.data,start=fold.start.row,end=fold.end.row,hide="add"==e.action,i=start+1;i<end;i++){if(lineWidgets[i])lineWidgets[i].hidden=hide}if(lineWidgets[end]){if(hide){if(!lineWidgets[start])lineWidgets[start]=lineWidgets[end];else lineWidgets[end].hidden=hide}else{if(lineWidgets[start]==lineWidgets[end])lineWidgets[start]=void 0;lineWidgets[end].hidden=hide}}};this.updateOnChange=function(delta){var lineWidgets=this.session.lineWidgets;if(!lineWidgets)return;var startRow=delta.start.row,len=delta.end.row-startRow;if(0===len){}else if("remove"==delta.action){var removed=lineWidgets.splice(startRow+1,len);removed.forEach(function(w){w&&this.removeLineWidget(w)},this);this.$updateRows()}else{var args=Array(len);args.unshift(startRow,0);lineWidgets.splice.apply(lineWidgets,args);this.$updateRows()}};this.$updateRows=function(){var lineWidgets=this.session.lineWidgets;if(!lineWidgets)return;var noWidgets=!0;lineWidgets.forEach(function(w,i){if(w){noWidgets=!1;w.row=i;while(w.$oldWidget){w.$oldWidget.row=i;w=w.$oldWidget}}});if(noWidgets)this.session.lineWidgets=null};this.addLineWidget=function(w){if(!this.session.lineWidgets)this.session.lineWidgets=Array(this.session.getLength());var old=this.session.lineWidgets[w.row];if(old){w.$oldWidget=old;if(old.el&&old.el.parentNode){old.el.parentNode.removeChild(old.el);old._inDocument=!1}}this.session.lineWidgets[w.row]=w;w.session=this.session;var renderer=this.editor.renderer;if(w.html&&!w.el){w.el=dom.createElement("div");w.el.innerHTML=w.html}if(w.el){dom.addCssClass(w.el,"ace_lineWidgetContainer");w.el.style.position="absolute";w.el.style.zIndex=5;renderer.container.appendChild(w.el);w._inDocument=!0}if(!w.coverGutter){w.el.style.zIndex=3}if(null==w.pixelHeight){w.pixelHeight=w.el.offsetHeight}if(null==w.rowCount){w.rowCount=w.pixelHeight/renderer.layerConfig.lineHeight}var fold=this.session.getFoldAt(w.row,0);w.$fold=fold;if(fold){var lineWidgets=this.session.lineWidgets;if(w.row==fold.end.row&&!lineWidgets[fold.start.row])lineWidgets[fold.start.row]=w;else w.hidden=!0}this.session._emit("changeFold",{data:{start:{row:w.row}}});this.$updateRows();this.renderWidgets(null,renderer);this.onWidgetChanged(w);return w};this.removeLineWidget=function(w){w._inDocument=!1;w.session=null;if(w.el&&w.el.parentNode)w.el.parentNode.removeChild(w.el);if(w.editor&&w.editor.destroy)try{w.editor.destroy()}catch(e){}if(this.session.lineWidgets){var w1=this.session.lineWidgets[w.row];if(w1==w){this.session.lineWidgets[w.row]=w.$oldWidget;if(w.$oldWidget)this.onWidgetChanged(w.$oldWidget)}else{while(w1){if(w1.$oldWidget==w){w1.$oldWidget=w.$oldWidget;break}w1=w1.$oldWidget}}}this.session._emit("changeFold",{data:{start:{row:w.row}}});this.$updateRows()};this.getWidgetsAtRow=function(row){var lineWidgets=this.session.lineWidgets,w=lineWidgets&&lineWidgets[row],list=[];while(w){list.push(w);w=w.$oldWidget}return list};this.onWidgetChanged=function(w){this.session._changedWidgets.push(w);this.editor&&this.editor.renderer.updateFull()};this.measureWidgets=function(e,renderer){var changedWidgets=this.session._changedWidgets,config=renderer.layerConfig;if(!changedWidgets||!changedWidgets.length)return;for(var min=1/0,i=0,w;i<changedWidgets.length;i++){w=changedWidgets[i];if(!w||!w.el)continue;if(w.session!=this.session)continue;if(!w._inDocument){if(this.session.lineWidgets[w.row]!=w)continue;w._inDocument=!0;renderer.container.appendChild(w.el)}w.h=w.el.offsetHeight;if(!w.fixedWidth){w.w=w.el.offsetWidth;w.screenWidth=_Mathceil(w.w/config.characterWidth)}var rowCount=w.h/config.lineHeight;if(w.coverLine){rowCount-=this.session.getRowLineCount(w.row);if(0>rowCount)rowCount=0}if(w.rowCount!=rowCount){w.rowCount=rowCount;if(w.row<min)min=w.row}}if(min!=1/0){this.session._emit("changeFold",{data:{start:{row:min}}});this.session.lineWidgetWidth=null}this.session._changedWidgets=[]};this.renderWidgets=function(e,renderer){var config=renderer.layerConfig,lineWidgets=this.session.lineWidgets;if(!lineWidgets)return;var first=_Mathmin(this.firstRow,config.firstRow),last=_Mathmax(this.lastRow,config.lastRow,lineWidgets.length);while(0<first&&!lineWidgets[first])first--;this.firstRow=config.firstRow;this.lastRow=config.lastRow;renderer.$cursorLayer.config=config;for(var i=first,w;i<=last;i++){w=lineWidgets[i];if(!w||!w.el)continue;if(w.hidden){w.el.style.top=-100-(w.pixelHeight||0)+"px";continue}if(!w._inDocument){w._inDocument=!0;renderer.container.appendChild(w.el)}var top=renderer.$cursorLayer.getPixelPosition({row:i,column:0},!0).top;if(!w.coverLine)top+=config.lineHeight*this.session.getRowLineCount(w.row);w.el.style.top=top-config.offset+"px";var left=w.coverGutter?0:renderer.gutterWidth;if(!w.fixedWidth)left-=renderer.scrollLeft;w.el.style.left=left+"px";if(w.fullWidth&&w.screenWidth){w.el.style.minWidth=config.width+2*config.padding+"px"}if(w.fixedWidth){w.el.style.right=renderer.scrollBar.getWidth()+"px"}else{w.el.style.right=""}}}}).call(LineWidgets.prototype);exports.LineWidgets=LineWidgets});ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(require,exports){var LineWidgets=require("../line_widgets").LineWidgets,dom=require("../lib/dom"),Range=require("../range").Range;function binarySearch(array,needle,comparator){var first=0,last=array.length-1;while(first<=last){var mid=first+last>>1,c=comparator(needle,array[mid]);if(0<c)first=mid+1;else if(0>c)last=mid-1;else return mid}return-(first+1)}function findAnnotations(session,row,dir){var annotations=session.getAnnotations().sort(Range.comparePoints);if(!annotations.length)return;var i=binarySearch(annotations,{row:row,column:-1},Range.comparePoints);if(0>i)i=-i-1;if(i>=annotations.length)i=0<dir?0:annotations.length-1;else if(0===i&&0>dir)i=annotations.length-1;var annotation=annotations[i];if(!annotation||!dir)return;if(annotation.row===row){do{annotation=annotations[i+=dir]}while(annotation&&annotation.row===row);if(!annotation)return annotations.slice()}var matched=[];row=annotation.row;do{matched[0>dir?"unshift":"push"](annotation);annotation=annotations[i+=dir]}while(annotation&&annotation.row==row);return matched.length&&matched}exports.showErrorMarker=function(editor,dir){var session=editor.session;if(!session.widgetManager){session.widgetManager=new LineWidgets(session);session.widgetManager.attach(editor)}var pos=editor.getCursorPosition(),row=pos.row,oldWidget=session.widgetManager.getWidgetsAtRow(row).filter(function(w){return"errorMarker"==w.type})[0];if(oldWidget){oldWidget.destroy()}else{row-=dir}var annotations=findAnnotations(session,row,dir),gutterAnno;if(annotations){var annotation=annotations[0];pos.column=(annotation.pos&&"number"!=typeof annotation.column?annotation.pos.sc:annotation.column)||0;pos.row=annotation.row;gutterAnno=editor.renderer.$gutterLayer.$annotations[pos.row]}else if(oldWidget){return}else{gutterAnno={text:["Looks good!"],className:"ace_ok"}}editor.session.unfold(pos.row);editor.selection.moveToPosition(pos);var w={row:pos.row,fixedWidth:!0,coverGutter:!0,el:dom.createElement("div"),type:"errorMarker"},el=w.el.appendChild(dom.createElement("div")),arrow=w.el.appendChild(dom.createElement("div"));arrow.className="error_widget_arrow "+gutterAnno.className;var left=editor.renderer.$cursorLayer.getPixelPosition(pos).left;arrow.style.left=left+editor.renderer.gutterWidth-5+"px";w.el.className="error_widget_wrapper";el.className="error_widget "+gutterAnno.className;el.innerHTML=gutterAnno.text.join("<br>");el.appendChild(dom.createElement("div"));var kb=function(_,hashId,keyString){if(0===hashId&&("esc"===keyString||"return"===keyString)){w.destroy();return{command:"null"}}};w.destroy=function(){if(editor.$mouseHandler.isMousePressed)return;editor.keyBinding.removeKeyboardHandler(kb);session.widgetManager.removeLineWidget(w);editor.off("changeSelection",w.destroy);editor.off("changeSession",w.destroy);editor.off("mouseup",w.destroy);editor.off("change",w.destroy)};editor.keyBinding.addKeyboardHandler(kb);editor.on("changeSelection",w.destroy);editor.on("changeSession",w.destroy);editor.on("mouseup",w.destroy);editor.on("change",w.destroy);editor.session.widgetManager.addLineWidget(w);w.el.onmousedown=editor.focus.bind(editor);editor.renderer.scrollCursorIntoView(null,.5,{bottom:w.el.offsetHeight})};dom.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")});ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(require,exports){require("./lib/fixoldbrowsers");var dom=require("./lib/dom"),event=require("./lib/event"),Range=require("./range").Range,Editor=require("./editor").Editor,EditSession=require("./edit_session").EditSession,UndoManager=require("./undomanager").UndoManager,Renderer=require("./virtual_renderer").VirtualRenderer;require("./worker/worker_client");require("./keyboard/hash_handler");require("./placeholder");require("./multi_select");require("./mode/folding/fold_mode");require("./theme/textmate");require("./ext/error_marker");exports.config=require("./config");exports.require=require;if("function"===typeof define)exports.define=define;exports.edit=function(el,options){if("string"==typeof el){var _id=el;el=document.getElementById(_id);if(!el)throw new Error("ace.edit can't find div #"+_id)}if(el&&el.env&&el.env.editor instanceof Editor)return el.env.editor;var value="";if(el&&/input|textarea/i.test(el.tagName)){var oldNode=el;value=oldNode.value;el=dom.createElement("pre");oldNode.parentNode.replaceChild(el,oldNode)}else if(el){value=el.textContent;el.innerHTML=""}var doc=exports.createEditSession(value),editor=new Editor(new Renderer(el),doc,options),env={document:doc,editor:editor,onResize:editor.resize.bind(editor,null)};if(oldNode)env.textarea=oldNode;event.addListener(window,"resize",env.onResize);editor.on("destroy",function(){event.removeListener(window,"resize",env.onResize);env.editor.container.env=null});editor.container.env=editor.env=env;return editor};exports.createEditSession=function(text,mode){var doc=new EditSession(text,mode);doc.setUndoManager(new UndoManager);return doc};exports.Range=Range;exports.EditSession=EditSession;exports.UndoManager=UndoManager;exports.VirtualRenderer=Renderer;exports.version="1.4.1"});(function(){ace.require(["ace/ace"],function(a){if(a){a.config.init(!0);a.define=ace.define}if(!window.ace)window.ace=a;for(var key in a)if(a.hasOwnProperty(key))window.ace[key]=a[key];window.ace["default"]=window.ace;if("object"==typeof module&&"object"==typeof exports&&module){module.exports=window.ace}})})();ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"],function(require,exports){var oop=require("./lib/oop"),EventEmitter=require("./lib/event_emitter").EventEmitter,lang=require("./lib/lang"),Range=require("./range").Range,Anchor=require("./anchor").Anchor,HashHandler=require("./keyboard/hash_handler").HashHandler,Tokenizer=require("./tokenizer").Tokenizer,comparePoints=Range.comparePoints,SnippetManager=function(){this.snippetMap={};this.snippetNameMap={}};(function(){oop.implement(this,EventEmitter);this.getTokenizer=function(){function TabstopToken(str,_,stack){str=str.substr(1);if(/^\d+$/.test(str)&&!stack.inFormatString)return[{tabstopId:parseInt(str,10)}];return[{text:str}]}function escape(ch){return"(?:[^\\\\"+ch+"]|\\\\.)"}SnippetManager.$tokenizer=new Tokenizer({start:[{regex:/:/,onMatch:function(val,state,stack){if(stack.length&&stack[0].expectIf){stack[0].expectIf=!1;stack[0].elseBranch=stack[0];return[stack[0]]}return":"}},{regex:/\\./,onMatch:function(val,state,stack){var ch=val[1];if("}"==ch&&stack.length){val=ch}else if(-1!="`$\\".indexOf(ch)){val=ch}else if(stack.inFormatString){if("n"==ch)val="\n";else if("t"==ch)val="\n";else if(-1!="ulULE".indexOf(ch)){val={changeCase:ch,local:"a"<ch}}}return[val]}},{regex:/}/,onMatch:function(val,state,stack){return[stack.length?stack.shift():val]}},{regex:/\$(?:\d+|\w+)/,onMatch:TabstopToken},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(str,state,stack){var t=TabstopToken(str.substr(1),state,stack);stack.unshift(t[0]);return t},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+escape("\\|")+"*\\|",onMatch:function(val,state,stack){stack[0].choices=val.slice(1,-1).split(",")},next:"start"},{regex:"/("+escape("/")+"+)/(?:("+escape("/")+"*)/)(\\w*):?",onMatch:function(val,state,stack){var ts=stack[0];ts.fmtString=val;val=this.splitRegex.exec(val);ts.guard=val[1];ts.fmt=val[2];ts.flag=val[3];return""},next:"start"},{regex:"`"+escape("`")+"*`",onMatch:function(val,state,stack){stack[0].code=val.splice(1,-1);return""},next:"start"},{regex:"\\?",onMatch:function(val,state,stack){if(stack[0])stack[0].expectIf=!0},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+escape("/")+"+)/",token:"regex"},{regex:"",onMatch:function(val,state,stack){stack.inFormatString=!0},next:"start"}]});SnippetManager.prototype.getTokenizer=function(){return SnippetManager.$tokenizer};return SnippetManager.$tokenizer};this.tokenizeTmSnippet=function(str,startState){return this.getTokenizer().getLineTokens(str,startState).tokens.map(function(x){return x.value||x})};this.$getDefaultValue=function(editor,name){if(/^[A-Z]\d+$/.test(name)){var i=name.substr(1);return(this.variables[name[0]+"__"]||{})[i]}if(/^\d+$/.test(name)){return(this.variables.__||{})[name]}name=name.replace(/^TM_/,"");if(!editor)return;var s=editor.session;switch(name){case"CURRENT_WORD":var r=s.getWordRange();case"SELECTION":case"SELECTED_TEXT":return s.getTextRange(r);case"CURRENT_LINE":return s.getLine(editor.getCursorPosition().row);case"PREV_LINE":return s.getLine(editor.getCursorPosition().row-1);case"LINE_INDEX":return editor.getCursorPosition().column;case"LINE_NUMBER":return editor.getCursorPosition().row+1;case"SOFT_TABS":return s.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return s.getTabSize();case"FILENAME":case"FILEPATH":return"";case"FULLNAME":return"Ace";}};this.variables={};this.getVariableValue=function(editor,varName){if(this.variables.hasOwnProperty(varName))return this.variables[varName](editor,varName)||"";return this.$getDefaultValue(editor,varName)||""};this.tmStrFormat=function(str,ch,editor){var flag=ch.flag||"",re=ch.guard;re=new RegExp(re,flag.replace(/[^gi]/,""));var fmtTokens=this.tokenizeTmSnippet(ch.fmt,"formatString"),_self=this,formatted=str.replace(re,function(){_self.variables.__=arguments;for(var fmtParts=_self.resolveVariables(fmtTokens,editor),gChangeCase="E",i=0,ch;i<fmtParts.length;i++){ch=fmtParts[i];if("object"==typeof ch){fmtParts[i]="";if(ch.changeCase&&ch.local){var next=fmtParts[i+1];if(next&&"string"==typeof next){if("u"==ch.changeCase)fmtParts[i]=next[0].toUpperCase();else fmtParts[i]=next[0].toLowerCase();fmtParts[i+1]=next.substr(1)}}else if(ch.changeCase){gChangeCase=ch.changeCase}}else if("U"==gChangeCase){fmtParts[i]=ch.toUpperCase()}else if("L"==gChangeCase){fmtParts[i]=ch.toLowerCase()}}return fmtParts.join("")});this.variables.__=null;return formatted};this.resolveVariables=function(snippet,editor){for(var result=[],i=0,ch;i<snippet.length;i++){ch=snippet[i];if("string"==typeof ch){result.push(ch)}else if("object"!=typeof ch){continue}else if(ch.skip){gotoNext(ch)}else if(ch.processed<i){continue}else if(ch.text){var value=this.getVariableValue(editor,ch.text);if(value&&ch.fmtString)value=this.tmStrFormat(value,ch);ch.processed=i;if(null==ch.expectIf){if(value){result.push(value);gotoNext(ch)}}else{if(value){ch.skip=ch.elseBranch}else gotoNext(ch)}}else if(null!=ch.tabstopId){result.push(ch)}else if(null!=ch.changeCase){result.push(ch)}}function gotoNext(ch){var i1=snippet.indexOf(ch,i+1);if(-1!=i1)i=i1}return result};this.insertSnippetForSelection=function(editor,snippetText){var cursor=editor.getCursorPosition(),line=editor.session.getLine(cursor.row),tabString=editor.session.getTabString(),indentString=line.match(/^\s*/)[0];if(cursor.column<indentString.length)indentString=indentString.slice(0,cursor.column);snippetText=snippetText.replace(/\r/g,"");var tokens=this.tokenizeTmSnippet(snippetText);tokens=this.resolveVariables(tokens,editor);tokens=tokens.map(function(x){if("\n"==x)return x+indentString;if("string"==typeof x)return x.replace(/\t/g,tabString);return x});var tabstops=[];tokens.forEach(function(p,i){if("object"!=typeof p)return;var id=p.tabstopId,ts=tabstops[id];if(!ts){ts=tabstops[id]=[];ts.index=id;ts.value=""}if(-1!==ts.indexOf(p))return;ts.push(p);var i1=tokens.indexOf(p,i+1);if(-1===i1)return;var value=tokens.slice(i+1,i1),isNested=value.some(function(t){return"object"===typeof t});if(isNested&&!ts.value){ts.value=value}else if(value.length&&(!ts.value||"string"!==typeof ts.value)){ts.value=value.join("")}});tabstops.forEach(function(ts){ts.length=0});var expanding={};function copyValue(val){for(var copy=[],i=0,p;i<val.length;i++){p=val[i];if("object"==typeof p){if(expanding[p.tabstopId])continue;var j=val.lastIndexOf(p,i-1);p=copy[j]||{tabstopId:p.tabstopId}}copy[i]=p}return copy}for(var i=0,p;i<tokens.length;i++){p=tokens[i];if("object"!=typeof p)continue;var id=p.tabstopId,i1=tokens.indexOf(p,i+1);if(expanding[id]){if(expanding[id]===p)expanding[id]=null;continue}var ts=tabstops[id],arg="string"==typeof ts.value?[ts.value]:copyValue(ts.value);arg.unshift(i+1,_Mathmax(0,i1-i));arg.push(p);expanding[id]=p;tokens.splice.apply(tokens,arg);if(-1===ts.indexOf(p))ts.push(p)}var row=0,column=0,text="";tokens.forEach(function(t){if("string"===typeof t){var lines=t.split("\n");if(1<lines.length){column=lines[lines.length-1].length;row+=lines.length-1}else column+=t.length;text+=t}else{if(!t.start)t.start={row:row,column:column};else t.end={row:row,column:column}}});var range=editor.getSelectionRange(),end=editor.session.replace(range,text),tabstopManager=new TabstopManager(editor),selectionId=editor.inVirtualSelectionMode&&editor.selection.index;tabstopManager.addTabstops(tabstops,range.start,end,selectionId)};this.insertSnippet=function(editor,snippetText){var self=this;if(editor.inVirtualSelectionMode)return self.insertSnippetForSelection(editor,snippetText);editor.forEachSelection(function(){self.insertSnippetForSelection(editor,snippetText)},null,{keepOrder:!0});if(editor.tabstopManager)editor.tabstopManager.tabNext()};this.$getScope=function(editor){var scope=editor.session.$mode.$id||"";scope=scope.split("/").pop();if("html"===scope||"php"===scope){if("php"===scope&&!editor.session.$mode.inlinePhp)scope="html";var c=editor.getCursorPosition(),state=editor.session.getState(c.row);if("object"===typeof state){state=state[0]}if(state.substring){if("js-"==state.substring(0,3))scope="javascript";else if("css-"==state.substring(0,4))scope="css";else if("php-"==state.substring(0,4))scope="php"}}return scope};this.getActiveScopes=function(editor){var scope=this.$getScope(editor),scopes=[scope],snippetMap=this.snippetMap;if(snippetMap[scope]&&snippetMap[scope].includeScopes){scopes.push.apply(scopes,snippetMap[scope].includeScopes)}scopes.push("_");return scopes};this.expandWithTab=function(editor,options){var self=this,result=editor.forEachSelection(function(){return self.expandSnippetForSelection(editor,options)},null,{keepOrder:!0});if(result&&editor.tabstopManager)editor.tabstopManager.tabNext();return result};this.expandSnippetForSelection=function(editor,options){var cursor=editor.getCursorPosition(),line=editor.session.getLine(cursor.row),before=line.substring(0,cursor.column),after=line.substr(cursor.column),snippetMap=this.snippetMap,snippet;this.getActiveScopes(editor).some(function(scope){var snippets=snippetMap[scope];if(snippets)snippet=this.findMatchingSnippet(snippets,before,after);return!!snippet},this);if(!snippet)return!1;if(options&&options.dryRun)return!0;editor.session.doc.removeInLine(cursor.row,cursor.column-snippet.replaceBefore.length,cursor.column+snippet.replaceAfter.length);this.variables.M__=snippet.matchBefore;this.variables.T__=snippet.matchAfter;this.insertSnippetForSelection(editor,snippet.content);this.variables.M__=this.variables.T__=null;return!0};this.findMatchingSnippet=function(snippetList,before,after){for(var i=snippetList.length,s;i--;){s=snippetList[i];if(s.startRe&&!s.startRe.test(before))continue;if(s.endRe&&!s.endRe.test(after))continue;if(!s.startRe&&!s.endRe)continue;s.matchBefore=s.startRe?s.startRe.exec(before):[""];s.matchAfter=s.endRe?s.endRe.exec(after):[""];s.replaceBefore=s.triggerRe?s.triggerRe.exec(before)[0]:"";s.replaceAfter=s.endTriggerRe?s.endTriggerRe.exec(after)[0]:"";return s}};this.snippetMap={};this.snippetNameMap={};this.register=function(snippets,scope){var snippetMap=this.snippetMap,snippetNameMap=this.snippetNameMap,self=this;if(!snippets)snippets=[];function wrapRegexp(src){if(src&&!/^\^?\(.*\)\$?$|^\\b$/.test(src))src="(?:"+src+")";return src||""}function guardedRegexp(re,guard,opening){re=wrapRegexp(re);guard=wrapRegexp(guard);if(opening){re=guard+re;if(re&&"$"!=re[re.length-1])re=re+"$"}else{re=re+guard;if(re&&"^"!=re[0])re="^"+re}return new RegExp(re)}function addSnippet(s){if(!s.scope)s.scope=scope||"_";scope=s.scope;if(!snippetMap[scope]){snippetMap[scope]=[];snippetNameMap[scope]={}}var map=snippetNameMap[scope];if(s.name){var old=map[s.name];if(old)self.unregister(old);map[s.name]=s}snippetMap[scope].push(s);if(s.tabTrigger&&!s.trigger){if(!s.guard&&/^\w/.test(s.tabTrigger))s.guard="\\b";s.trigger=lang.escapeRegExp(s.tabTrigger)}if(!s.trigger&&!s.guard&&!s.endTrigger&&!s.endGuard)return;s.startRe=guardedRegexp(s.trigger,s.guard,!0);s.triggerRe=new RegExp(s.trigger);s.endRe=guardedRegexp(s.endTrigger,s.endGuard,!0);s.endTriggerRe=new RegExp(s.endTrigger)}if(snippets&&snippets.content)addSnippet(snippets);else if(Array.isArray(snippets))snippets.forEach(addSnippet);this._signal("registerSnippets",{scope:scope})};this.unregister=function(snippets,scope){var snippetMap=this.snippetMap,snippetNameMap=this.snippetNameMap;function removeSnippet(s){var nameMap=snippetNameMap[s.scope||scope];if(nameMap&&nameMap[s.name]){delete nameMap[s.name];var map=snippetMap[s.scope||scope],i=map&&map.indexOf(s);if(0<=i)map.splice(i,1)}}if(snippets.content)removeSnippet(snippets);else if(Array.isArray(snippets))snippets.forEach(removeSnippet)};this.parseSnippetFile=function(str){str=str.replace(/\r/g,"");var list=[],snippet={},re=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,m;while(m=re.exec(str)){if(m[1]){try{snippet=JSON.parse(m[1]);list.push(snippet)}catch(e){}}if(m[4]){snippet.content=m[4].replace(/^\t/gm,"");list.push(snippet);snippet={}}else{var key=m[2],val=m[3];if("regex"==key){var guardRe=/\/((?:[^\/\\]|\\.)*)|$/g;snippet.guard=guardRe.exec(val)[1];snippet.trigger=guardRe.exec(val)[1];snippet.endTrigger=guardRe.exec(val)[1];snippet.endGuard=guardRe.exec(val)[1]}else if("snippet"==key){snippet.tabTrigger=val.match(/^\S*/)[0];if(!snippet.name)snippet.name=val}else{snippet[key]=val}}}return list};this.getSnippetByName=function(name,editor){var snippetMap=this.snippetNameMap,snippet;this.getActiveScopes(editor).some(function(scope){var snippets=snippetMap[scope];if(snippets)snippet=snippets[name];return!!snippet},this);return snippet}}).call(SnippetManager.prototype);var TabstopManager=function(editor){if(editor.tabstopManager)return editor.tabstopManager;editor.tabstopManager=this;this.$onChange=this.onChange.bind(this);this.$onChangeSelection=lang.delayedCall(this.onChangeSelection.bind(this)).schedule;this.$onChangeSession=this.onChangeSession.bind(this);this.$onAfterExec=this.onAfterExec.bind(this);this.attach(editor)};(function(){this.attach=function(editor){this.index=0;this.ranges=[];this.tabstops=[];this.$openTabstops=null;this.selectedTabstop=null;this.editor=editor;this.editor.on("change",this.$onChange);this.editor.on("changeSelection",this.$onChangeSelection);this.editor.on("changeSession",this.$onChangeSession);this.editor.commands.on("afterExec",this.$onAfterExec);this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)};this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this);this.ranges=null;this.tabstops=null;this.selectedTabstop=null;this.editor.removeListener("change",this.$onChange);this.editor.removeListener("changeSelection",this.$onChangeSelection);this.editor.removeListener("changeSession",this.$onChangeSession);this.editor.commands.removeListener("afterExec",this.$onAfterExec);this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);this.editor.tabstopManager=null;this.editor=null};this.onChange=function(delta){var isRemove="r"==delta.action[0],start=delta.start,end=delta.end,startRow=start.row,endRow=end.row,lineDif=endRow-startRow,colDiff=end.column-start.column;if(isRemove){lineDif=-lineDif;colDiff=-colDiff}if(!this.$inChange&&isRemove){var ts=this.selectedTabstop,changedOutside=ts&&!ts.some(function(r){return 0>=comparePoints(r.start,start)&&0<=comparePoints(r.end,end)});if(changedOutside)return this.detach()}for(var ranges=this.ranges,i=0,r;i<ranges.length;i++){r=ranges[i];if(r.end.row<start.row)continue;if(isRemove&&0>comparePoints(start,r.start)&&0<comparePoints(end,r.end)){this.removeRange(r);i--;continue}if(r.start.row==startRow&&r.start.column>start.column)r.start.column+=colDiff;if(r.end.row==startRow&&r.end.column>=start.column)r.end.column+=colDiff;if(r.start.row>=startRow)r.start.row+=lineDif;if(r.end.row>=startRow)r.end.row+=lineDif;if(0<comparePoints(r.start,r.end))this.removeRange(r)}if(!ranges.length)this.detach()};this.updateLinkedFields=function(){var ts=this.selectedTabstop;if(!ts||!ts.hasLinkedRanges)return;this.$inChange=!0;for(var session=this.editor.session,text=session.getTextRange(ts.firstNonLinked),i=ts.length,range;i--;){range=ts[i];if(!range.linked)continue;var fmt=exports.snippetManager.tmStrFormat(text,range.original);session.replace(range,fmt)}this.$inChange=!1};this.onAfterExec=function(e){if(e.command&&!e.command.readOnly)this.updateLinkedFields()};this.onChangeSelection=function(){if(!this.editor)return;for(var lead=this.editor.selection.lead,anchor=this.editor.selection.anchor,isEmpty=this.editor.selection.isEmpty(),i=this.ranges.length;i--;){if(this.ranges[i].linked)continue;var containsLead=this.ranges[i].contains(lead.row,lead.column),containsAnchor=isEmpty||this.ranges[i].contains(anchor.row,anchor.column);if(containsLead&&containsAnchor)return}this.detach()};this.onChangeSession=function(){this.detach()};this.tabNext=function(dir){var max=this.tabstops.length,index=this.index+(dir||1);index=_Mathmin(_Mathmax(index,1),max);if(index==max)index=0;this.selectTabstop(index);if(0===index)this.detach()};this.selectTabstop=function(index){this.$openTabstops=null;var ts=this.tabstops[this.index];if(ts)this.addTabstopMarkers(ts);this.index=index;ts=this.tabstops[this.index];if(!ts||!ts.length)return;this.selectedTabstop=ts;if(!this.editor.inVirtualSelectionMode){var sel=this.editor.multiSelect;sel.toSingleRange(ts.firstNonLinked.clone());for(var i=ts.length;i--;){if(ts.hasLinkedRanges&&ts[i].linked)continue;sel.addRange(ts[i].clone(),!0)}if(sel.ranges[0])sel.addRange(sel.ranges[0].clone())}else{this.editor.selection.setRange(ts.firstNonLinked)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)};this.addTabstops=function(tabstops,start,end){if(!this.$openTabstops)this.$openTabstops=[];if(!tabstops[0]){var p=Range.fromPoints(end,end);moveRelative(p.start,start);moveRelative(p.end,start);tabstops[0]=[p];tabstops[0].index=0}var i=this.index,arg=[i+1,0],ranges=this.ranges;tabstops.forEach(function(ts,index){for(var dest=this.$openTabstops[index]||ts,i=ts.length;i--;){var p=ts[i],range=Range.fromPoints(p.start,p.end||p.start);movePoint(range.start,start);movePoint(range.end,start);range.original=p;range.tabstop=dest;ranges.push(range);if(dest!=ts)dest.unshift(range);else dest[i]=range;if(p.fmtString){range.linked=!0;dest.hasLinkedRanges=!0}else if(!dest.firstNonLinked)dest.firstNonLinked=range}if(!dest.firstNonLinked)dest.hasLinkedRanges=!1;if(dest===ts){arg.push(dest);this.$openTabstops[index]=dest}this.addTabstopMarkers(dest)},this);if(2<arg.length){if(this.tabstops.length)arg.push(arg.splice(2,1)[0]);this.tabstops.splice.apply(this.tabstops,arg)}};this.addTabstopMarkers=function(ts){var session=this.editor.session;ts.forEach(function(range){if(!range.markerId)range.markerId=session.addMarker(range,"ace_snippet-marker","text")})};this.removeTabstopMarkers=function(ts){var session=this.editor.session;ts.forEach(function(range){session.removeMarker(range.markerId);range.markerId=null})};this.removeRange=function(range){var i=range.tabstop.indexOf(range);range.tabstop.splice(i,1);i=this.ranges.indexOf(range);this.ranges.splice(i,1);this.editor.session.removeMarker(range.markerId);if(!range.tabstop.length){i=this.tabstops.indexOf(range.tabstop);if(-1!=i)this.tabstops.splice(i,1);if(!this.tabstops.length)this.detach()}};this.keyboardHandler=new HashHandler;this.keyboardHandler.bindKeys({Tab:function(ed){if(exports.snippetManager&&exports.snippetManager.expandWithTab(ed)){return}ed.tabstopManager.tabNext(1)},"Shift-Tab":function(ed){ed.tabstopManager.tabNext(-1)},Esc:function(ed){ed.tabstopManager.detach()},Return:function(){return!1}})}).call(TabstopManager.prototype);var changeTracker={onChange:Anchor.prototype.onChange,setPosition:function(row,column){this.pos.row=row;this.pos.column=column},update:function(pos,delta,$insertRight){this.$insertRight=$insertRight;this.pos=pos;this.onChange(delta)}},movePoint=function(point,diff){if(0==point.row)point.column+=diff.column;point.row+=diff.row},moveRelative=function(point,start){if(point.row==start.row)point.column-=start.column;point.row-=start.row};require("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}");exports.snippetManager=new SnippetManager;var Editor=require("./editor").Editor;(function(){this.insertSnippet=function(content,options){return exports.snippetManager.insertSnippet(this,content,options)};this.expandSnippet=function(options){return exports.snippetManager.expandWithTab(this,options)}}).call(Editor.prototype)});ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(require,exports){var Renderer=require("../virtual_renderer").VirtualRenderer,Editor=require("../editor").Editor,Range=require("../range").Range,event=require("../lib/event"),lang=require("../lib/lang"),dom=require("../lib/dom"),$singleLineEditor=function(el){var renderer=new Renderer(el);renderer.$maxLines=4;var editor=new Editor(renderer);editor.setHighlightActiveLine(!1);editor.setShowPrintMargin(!1);editor.renderer.setShowGutter(!1);editor.renderer.setHighlightGutterLine(!1);editor.$mouseHandler.$focusTimeout=0;editor.$highlightTagPending=!0;return editor};dom.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #3a674e;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);    position: absolute;    z-index: 2;}.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid rgba(109, 150, 13, 0.8);    background: rgba(58, 103, 78, 0.62);}.ace_completion-meta {    opacity: 0.5;    margin: 0.9em;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #2d69c7;}.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #93ca12;}.ace_editor.ace_autocomplete {    width: 300px;    z-index: 200000;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;    background: #fefefe;    color: #111;}.ace_dark.ace_editor.ace_autocomplete {    border: 1px #484747 solid;    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);    line-height: 1.4;    background: #25282c;    color: #c1c1c1;}","autocompletion.css");exports.AcePopup=function(parentNode){var el=dom.createElement("div"),popup=new $singleLineEditor(el);if(parentNode)parentNode.appendChild(el);el.style.display="none";popup.renderer.content.style.cursor="default";popup.renderer.setStyle("ace_autocomplete");popup.setOption("displayIndentGuides",!1);popup.setOption("dragDelay",150);var noop=function(){};popup.focus=noop;popup.$isFocused=!0;popup.renderer.$cursorLayer.restartTimer=noop;popup.renderer.$cursorLayer.element.style.opacity=0;popup.renderer.$maxLines=8;popup.renderer.$keepTextAreaAtCursor=!1;popup.setHighlightActiveLine(!1);popup.session.highlight("");popup.session.$searchHighlight.clazz="ace_highlight-marker";popup.on("mousedown",function(e){var pos=e.getDocumentPosition();popup.selection.moveToPosition(pos);selectionMarker.start.row=selectionMarker.end.row=pos.row;e.stop()});var lastMouseEvent,hoverMarker=new Range(-1,0,-1,1/0),selectionMarker=new Range(-1,0,-1,1/0);selectionMarker.id=popup.session.addMarker(selectionMarker,"ace_active-line","fullLine");popup.setSelectOnHover=function(val){if(!val){hoverMarker.id=popup.session.addMarker(hoverMarker,"ace_line-hover","fullLine")}else if(hoverMarker.id){popup.session.removeMarker(hoverMarker.id);hoverMarker.id=null}};popup.setSelectOnHover(!1);popup.on("mousemove",function(e){if(!lastMouseEvent){lastMouseEvent=e;return}if(lastMouseEvent.x==e.x&&lastMouseEvent.y==e.y){return}lastMouseEvent=e;lastMouseEvent.scrollTop=popup.renderer.scrollTop;var row=lastMouseEvent.getDocumentPosition().row;if(hoverMarker.start.row!=row){if(!hoverMarker.id)popup.setRow(row);setHoverMarker(row)}});popup.renderer.on("beforeRender",function(){if(lastMouseEvent&&-1!=hoverMarker.start.row){lastMouseEvent.$pos=null;var row=lastMouseEvent.getDocumentPosition().row;if(!hoverMarker.id)popup.setRow(row);setHoverMarker(row,!0)}});popup.renderer.on("afterRender",function(){var row=popup.getRow(),t=popup.renderer.$textLayer,selected=t.element.childNodes[row-t.config.firstRow];if(selected==t.selectedNode)return;if(t.selectedNode)dom.removeCssClass(t.selectedNode,"ace_selected");t.selectedNode=selected;if(selected)dom.addCssClass(selected,"ace_selected")});var hideHoverMarker=function(){setHoverMarker(-1)},setHoverMarker=function(row,suppressRedraw){if(row!==hoverMarker.start.row){hoverMarker.start.row=hoverMarker.end.row=row;if(!suppressRedraw)popup.session._emit("changeBackMarker");popup._emit("changeHoverMarker")}};popup.getHoveredRow=function(){return hoverMarker.start.row};event.addListener(popup.container,"mouseout",hideHoverMarker);popup.on("hide",hideHoverMarker);popup.on("changeSelection",hideHoverMarker);popup.session.doc.getLength=function(){return popup.data.length};popup.session.doc.getLine=function(i){var data=popup.data[i];if("string"==typeof data)return data;return data&&data.value||""};var bgTokenizer=popup.session.bgTokenizer;bgTokenizer.$tokenizeRow=function(row){var data=popup.data[row],tokens=[];if(!data)return tokens;if("string"==typeof data)data={value:data};var caption=data.caption||data.value||data.name;function addToken(value,className){value&&tokens.push({type:(data.className||"")+(className||""),value:value})}for(var lower=caption.toLowerCase(),filterText=(popup.filterText||"").toLowerCase(),lastIndex=0,lastI=0,i=0;i<=filterText.length;i++){if(i!=lastI&&(data.matchMask&1<<i||i==filterText.length)){var sub=filterText.slice(lastI,i);lastI=i;var index=lower.indexOf(sub);if(-1==index)continue;addToken(caption.slice(lastIndex,index),"");lastIndex=index+sub.length;addToken(caption.slice(index,lastIndex),"completion-highlight")}}addToken(caption.slice(lastIndex,caption.length),"");if(data.meta)tokens.push({type:"completion-meta",value:data.meta});return tokens};bgTokenizer.$updateOnChange=noop;bgTokenizer.start=noop;popup.session.$computeWidth=function(){return this.screenWidth=0};popup.isOpen=!1;popup.isTopdown=!1;popup.autoSelect=!0;popup.filterText="";popup.data=[];popup.setData=function(list,filterText){popup.filterText=filterText||"";popup.setValue(lang.stringRepeat("\n",list.length),-1);popup.data=list||[];popup.setRow(0)};popup.getData=function(row){return popup.data[row]};popup.getRow=function(){return selectionMarker.start.row};popup.setRow=function(line){line=_Mathmax(this.autoSelect?0:-1,_Mathmin(this.data.length,line));if(selectionMarker.start.row!=line){popup.selection.clearSelection();selectionMarker.start.row=selectionMarker.end.row=line||0;popup.session._emit("changeBackMarker");popup.moveCursorTo(line||0,0);if(popup.isOpen)popup._signal("select")}};popup.on("changeSelection",function(){if(popup.isOpen)popup.setRow(popup.selection.lead.row);popup.renderer.scrollCursorIntoView()});popup.hide=function(){this.container.style.display="none";this._signal("hide");popup.isOpen=!1};popup.show=function(pos,lineHeight,topdownOnly){var el=this.container,screenHeight=window.innerHeight,screenWidth=window.innerWidth,renderer=this.renderer,maxH=1.4*(renderer.$maxLines*lineHeight),top=pos.top+this.$borderSize,allowTopdown=top>screenHeight/2&&!topdownOnly;if(allowTopdown&&top+lineHeight+maxH>screenHeight){renderer.$maxPixelHeight=top-2*this.$borderSize;el.style.top="";el.style.bottom=screenHeight-top+"px";popup.isTopdown=!1}else{top+=lineHeight;renderer.$maxPixelHeight=screenHeight-top-.2*lineHeight;el.style.top=top+"px";el.style.bottom="";popup.isTopdown=!0}el.style.display="";this.renderer.$textLayer.checkForSizeChanges();var left=pos.left;if(left+el.offsetWidth>screenWidth)left=screenWidth-el.offsetWidth;el.style.left=left+"px";this._signal("show");lastMouseEvent=null;popup.isOpen=!0};popup.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize};popup.$imageSize=0;popup.$borderSize=1;return popup}});ace.define("ace/autocomplete/util",["require","exports","module"],function(require,exports){exports.parForEach=function(array,fn,callback){var completed=0,arLength=array.length;if(0===arLength)callback();for(var i=0;i<arLength;i++){fn(array[i],function(result,err){completed++;if(completed===arLength)callback(result,err)})}};var ID_REGEX=/[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;exports.retrievePrecedingIdentifier=function(text,pos,regex){regex=regex||ID_REGEX;for(var buf=[],i=pos-1;0<=i;i--){if(regex.test(text[i]))buf.push(text[i]);else break}return buf.reverse().join("")};exports.retrieveFollowingIdentifier=function(text,pos,regex){regex=regex||ID_REGEX;for(var buf=[],i=pos;i<text.length;i++){if(regex.test(text[i]))buf.push(text[i]);else break}return buf};exports.getCompletionPrefix=function(editor){var pos=editor.getCursorPosition(),line=editor.session.getLine(pos.row),prefix;editor.completers.forEach(function(completer){if(completer.identifierRegexps){completer.identifierRegexps.forEach(function(identifierRegex){if(!prefix&&identifierRegex)prefix=this.retrievePrecedingIdentifier(line,pos.column,identifierRegex)}.bind(this))}}.bind(this));return prefix||this.retrievePrecedingIdentifier(line,pos.column)}});ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/snippets"],function(require,exports){var HashHandler=require("./keyboard/hash_handler").HashHandler,AcePopup=require("./autocomplete/popup").AcePopup,util=require("./autocomplete/util"),event=require("./lib/event"),lang=require("./lib/lang"),dom=require("./lib/dom"),snippetManager=require("./snippets").snippetManager,Autocomplete=function(){this.autoInsert=!1;this.autoSelect=!0;this.exactMatch=!1;this.gatherCompletionsId=0;this.keyboardHandler=new HashHandler;this.keyboardHandler.bindKeys(this.commands);this.blurListener=this.blurListener.bind(this);this.changeListener=this.changeListener.bind(this);this.mousedownListener=this.mousedownListener.bind(this);this.mousewheelListener=this.mousewheelListener.bind(this);this.changeTimer=lang.delayedCall(function(){this.updateCompletions(!0)}.bind(this));this.tooltipTimer=lang.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){this.popup=new AcePopup(document.body||document.documentElement);this.popup.on("click",function(e){this.insertMatch();e.stop()}.bind(this));this.popup.focus=this.editor.focus.bind(this.editor);this.popup.on("show",this.tooltipTimer.bind(null,null));this.popup.on("select",this.tooltipTimer.bind(null,null));this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null));return this.popup};this.getPopup=function(){return this.popup||this.$init()};this.openPopup=function(editor,prefix,keepPopupPosition){if(!this.popup)this.$init();this.popup.autoSelect=this.autoSelect;this.popup.setData(this.completions.filtered,this.completions.filterText);editor.keyBinding.addKeyboardHandler(this.keyboardHandler);var renderer=editor.renderer;this.popup.setRow(this.autoSelect?0:-1);if(!keepPopupPosition){this.popup.setTheme(editor.getTheme());this.popup.setFontSize(editor.getFontSize());var lineHeight=renderer.layerConfig.lineHeight,pos=renderer.$cursorLayer.getPixelPosition(this.base,!0);pos.left-=this.popup.getTextLeftOffset();var rect=editor.container.getBoundingClientRect();pos.top+=rect.top-renderer.layerConfig.offset;pos.left+=rect.left-editor.renderer.scrollLeft;pos.left+=renderer.gutterWidth;this.popup.show(pos,lineHeight)}else if(keepPopupPosition&&!prefix){this.detach()}};this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);this.editor.off("changeSelection",this.changeListener);this.editor.off("blur",this.blurListener);this.editor.off("mousedown",this.mousedownListener);this.editor.off("mousewheel",this.mousewheelListener);this.changeTimer.cancel();this.hideDocTooltip();this.gatherCompletionsId+=1;if(this.popup&&this.popup.isOpen)this.popup.hide();if(this.base)this.base.detach();this.activated=!1;this.completions=this.base=null};this.changeListener=function(){var cursor=this.editor.selection.lead;if(cursor.row!=this.base.row||cursor.column<this.base.column){this.detach()}if(this.activated)this.changeTimer.schedule();else this.detach()};this.blurListener=function(e){var el=document.activeElement,text=this.editor.textInput.getElement(),fromTooltip=e.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(e.relatedTarget),container=this.popup&&this.popup.container;if(el!=text&&el.parentNode!=container&&!fromTooltip&&el!=this.tooltipNode&&e.relatedTarget!=text){this.detach()}};this.mousedownListener=function(){this.detach()};this.mousewheelListener=function(){this.detach()};this.goTo=function(where){var row=this.popup.getRow(),max=this.popup.session.getLength()-1;switch(where){case"up":row=0>=row?max:row-1;break;case"down":row=row>=max?-1:row+1;break;case"start":row=0;break;case"end":row=max;break;}this.popup.setRow(row)};this.insertMatch=function(data){if(!data)data=this.popup.getData(this.popup.getRow());if(!data)return!1;if(data.completer&&data.completer.insertMatch){data.completer.insertMatch(this.editor,data)}else{if(this.completions.filterText){for(var ranges=this.editor.selection.getAllRanges(),i=0,range;range=ranges[i];i++){range.start.column-=this.completions.filterText.length;this.editor.session.remove(range)}}if(data.snippet)snippetManager.insertSnippet(this.editor,data.snippet);else this.editor.execCommand("insertstring",data.value||data)}this.detach()};this.commands={Up:function(editor){editor.completer.goTo("up")},Down:function(editor){editor.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(editor){editor.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(editor){editor.completer.goTo("end")},Esc:function(editor){editor.completer.detach()},Return:function(editor){return editor.completer.insertMatch()},"Shift-Return":function(editor){editor.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(editor){var result=editor.completer.insertMatch();if(!result&&!editor.tabstopManager)editor.completer.goTo("down");else return result},PageUp:function(editor){editor.completer.popup.gotoPageUp()},PageDown:function(editor){editor.completer.popup.gotoPageDown()}};this.gatherCompletions=function(editor,callback){var session=editor.getSession(),pos=editor.getCursorPosition(),prefix=util.getCompletionPrefix(editor);this.base=session.doc.createAnchor(pos.row,pos.column-prefix.length);this.base.$insertRight=!0;var matches=[],total=editor.completers.length;editor.completers.forEach(function(completer){completer.getCompletions(editor,session,pos,prefix,function(err,results){if(!err&&results)matches=matches.concat(results);callback(null,{prefix:util.getCompletionPrefix(editor),matches:matches,finished:0===--total})})});return!0};this.showPopup=function(editor){if(this.editor)this.detach();this.activated=!0;this.editor=editor;if(editor.completer!=this){if(editor.completer)editor.completer.detach();editor.completer=this}editor.on("changeSelection",this.changeListener);editor.on("blur",this.blurListener);editor.on("mousedown",this.mousedownListener);editor.on("mousewheel",this.mousewheelListener);this.updateCompletions()};this.updateCompletions=function(keepPopupPosition){if(keepPopupPosition&&this.base&&this.completions){var pos=this.editor.getCursorPosition(),prefix=this.editor.session.getTextRange({start:this.base,end:pos});if(prefix==this.completions.filterText)return;this.completions.setFilter(prefix);if(!this.completions.filtered.length)return this.detach();if(1==this.completions.filtered.length&&this.completions.filtered[0].value==prefix&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,prefix,keepPopupPosition);return}var _id=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(err,results){var detachIfFinished=function(){if(!results.finished)return;return this.detach()}.bind(this),prefix=results.prefix,matches=results&&results.matches;if(!matches||!matches.length)return detachIfFinished();if(0!==prefix.indexOf(results.prefix)||_id!=this.gatherCompletionsId)return;this.completions=new FilteredList(matches);if(this.exactMatch)this.completions.exactMatch=!0;this.completions.setFilter(prefix);var filtered=this.completions.filtered;if(!filtered.length)return detachIfFinished();if(1==filtered.length&&filtered[0].value==prefix&&!filtered[0].snippet)return detachIfFinished();if(this.autoInsert&&1==filtered.length&&results.finished)return this.insertMatch(filtered[0]);this.openPopup(this.editor,prefix,keepPopupPosition)}.bind(this))};this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()};this.updateDocTooltip=function(){var popup=this.popup,all=popup.data,selected=all&&(all[popup.getHoveredRow()]||all[popup.getRow()]),doc=null;if(!selected||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();this.editor.completers.some(function(completer){if(completer.getDocTooltip)doc=completer.getDocTooltip(selected);return doc});if(!doc)doc=selected;if("string"==typeof doc)doc={docText:doc};if(!doc||!(doc.docHTML||doc.docText))return this.hideDocTooltip();this.showDocTooltip(doc)};this.showDocTooltip=function(item){if(!this.tooltipNode){this.tooltipNode=dom.createElement("div");this.tooltipNode.className="ace_tooltip ace_doc-tooltip";this.tooltipNode.style.margin=0;this.tooltipNode.style.pointerEvents="auto";this.tooltipNode.tabIndex=-1;this.tooltipNode.onblur=this.blurListener.bind(this);this.tooltipNode.onclick=this.onTooltipClick.bind(this)}var tooltipNode=this.tooltipNode;if(item.docHTML){tooltipNode.innerHTML=item.docHTML}else if(item.docText){tooltipNode.textContent=item.docText}if(!tooltipNode.parentNode)document.body.appendChild(tooltipNode);var popup=this.popup,rect=popup.container.getBoundingClientRect();tooltipNode.style.top=popup.container.style.top;tooltipNode.style.bottom=popup.container.style.bottom;tooltipNode.style.display="block";if(320>window.innerWidth-rect.right){if(320>rect.left){if(popup.isTopdown){tooltipNode.style.top=rect.bottom+"px";tooltipNode.style.left=rect.left+"px";tooltipNode.style.right="";tooltipNode.style.bottom=""}else{tooltipNode.style.top=popup.container.offsetTop-tooltipNode.offsetHeight+"px";tooltipNode.style.left=rect.left+"px";tooltipNode.style.right="";tooltipNode.style.bottom=""}}else{tooltipNode.style.right=window.innerWidth-rect.left+"px";tooltipNode.style.left=""}}else{tooltipNode.style.left=rect.right+1+"px";tooltipNode.style.right=""}};this.hideDocTooltip=function(){this.tooltipTimer.cancel();if(!this.tooltipNode)return;var el=this.tooltipNode;if(!this.editor.isFocused()&&document.activeElement==el)this.editor.focus();this.tooltipNode=null;if(el.parentNode)el.parentNode.removeChild(el)};this.onTooltipClick=function(e){var a=e.target;while(a&&a!=this.tooltipNode){if("A"==a.nodeName&&a.href){a.rel="noreferrer";a.target="_blank";break}a=a.parentNode}}}).call(Autocomplete.prototype);Autocomplete.startCommand={name:"startAutocomplete",exec:function(editor){if(!editor.completer)editor.completer=new Autocomplete;editor.completer.autoInsert=!1;editor.completer.autoSelect=!0;editor.completer.showPopup(editor);editor.completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var FilteredList=function(array,filterText){this.all=array;this.filtered=array;this.filterText=filterText||"";this.exactMatch=!1};(function(){this.setFilter=function(str){if(str.length>this.filterText&&0===str.lastIndexOf(this.filterText,0))var matches=this.filtered;else var matches=this.all;this.filterText=str;matches=this.filterCompletions(matches,this.filterText);matches=matches.sort(function(a,b){return b.exactMatch-a.exactMatch||b.$score-a.$score||(a.caption||a.value)<(b.caption||b.value)});var prev=null;matches=matches.filter(function(item){var caption=item.snippet||item.caption||item.value;if(caption===prev)return!1;prev=caption;return!0});this.filtered=matches};this.filterCompletions=function(items,needle){var results=[],upper=needle.toUpperCase(),lower=needle.toLowerCase();loop:for(var i=0,item,caption;item=items[i];i++){caption=item.caption||item.value||item.snippet;if(!caption)continue;var lastIndex=-1,matchMask=0,penalty=0,index,distance;if(this.exactMatch){if(needle!==caption.substr(0,needle.length))continue loop}else{var fullMatchIndex=caption.toLowerCase().indexOf(lower);if(-1<fullMatchIndex){penalty=fullMatchIndex}else{for(var j=0;j<needle.length;j++){var i1=caption.indexOf(lower[j],lastIndex+1),i2=caption.indexOf(upper[j],lastIndex+1);index=0<=i1?0>i2||i1<i2?i1:i2:i2;if(0>index)continue loop;distance=index-lastIndex-1;if(0<distance){if(-1===lastIndex)penalty+=10;penalty+=distance;matchMask=matchMask|1<<j}lastIndex=index}}}item.matchMask=matchMask;item.exactMatch=penalty?0:1;item.$score=(item.score||0)-penalty;results.push(item)}return results}}).call(FilteredList.prototype);exports.Autocomplete=Autocomplete;exports.FilteredList=FilteredList});ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(require,exports){var Range=require("../range").Range,splitRegex=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function getWordIndex(doc,pos){var textBefore=doc.getTextRange(Range.fromPoints({row:0,column:0},pos));return textBefore.split(splitRegex).length-1}function wordDistance(doc,pos){var prefixPos=getWordIndex(doc,pos),words=doc.getValue().split(splitRegex),wordScores=Object.create(null),currentWord=words[prefixPos];words.forEach(function(word,idx){if(!word||word===currentWord)return;var distance=_Mathabs(prefixPos-idx),score=words.length-distance;if(wordScores[word]){wordScores[word]=_Mathmax(score,wordScores[word])}else{wordScores[word]=score}});return wordScores}exports.getCompletions=function(editor,session,pos,prefix,callback){var wordScore=wordDistance(session,pos),wordList=Object.keys(wordScore);callback(null,wordList.map(function(word){return{caption:word,value:word,score:wordScore[word],meta:"local"}}))}});ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(require,exports){var snippetManager=require("../snippets").snippetManager,Autocomplete=require("../autocomplete").Autocomplete,config=require("../config"),lang=require("../lib/lang"),util=require("../autocomplete/util"),textCompleter=require("../autocomplete/text_completer"),keyWordCompleter={getCompletions:function(editor,session,pos,prefix,callback){if(session.$mode.completer){return session.$mode.completer.getCompletions(editor,session,pos,prefix,callback)}var state=editor.session.getState(pos.row),completions=session.$mode.getCompletions(state,session,pos,prefix);callback(null,completions)}},snippetCompleter={getCompletions:function(editor,session,pos,prefix,callback){var scopes=[],token=session.getTokenAt(pos.row,pos.column);if(token&&token.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/))scopes.push("html-tag");else scopes=snippetManager.getActiveScopes(editor);var snippetMap=snippetManager.snippetMap,completions=[];scopes.forEach(function(scope){for(var snippets=snippetMap[scope]||[],i=snippets.length;i--;){var s=snippets[i],caption=s.name||s.tabTrigger;if(!caption)continue;completions.push({caption:caption,snippet:s.content,meta:s.tabTrigger&&!s.name?s.tabTrigger+"\u21E5 ":"snippet",type:"snippet"})}},this);callback(null,completions)},getDocTooltip:function(item){if("snippet"==item.type&&!item.docHTML){item.docHTML=["<b>",lang.escapeHTML(item.caption),"</b>","<hr></hr>",lang.escapeHTML(item.snippet)].join("")}}},completers=[snippetCompleter,textCompleter,keyWordCompleter];exports.setCompleters=function(val){completers.length=0;if(val)completers.push.apply(completers,val)};exports.addCompleter=function(completer){completers.push(completer)};exports.textCompleter=textCompleter;exports.keyWordCompleter=keyWordCompleter;exports.snippetCompleter=snippetCompleter;var expandSnippet={name:"expandSnippet",exec:function(editor){return snippetManager.expandWithTab(editor)},bindKey:"Tab"},onChangeMode=function(e,editor){loadSnippetsForMode(editor.session.$mode)},loadSnippetsForMode=function(mode){var id=mode.$id;if(!snippetManager.files)snippetManager.files={};loadSnippetFile(id);if(mode.modes)mode.modes.forEach(loadSnippetsForMode)},loadSnippetFile=function(id){if(!id||snippetManager.files[id])return;var snippetFilePath=id.replace("mode","snippets");snippetManager.files[id]={};config.loadModule(snippetFilePath,function(m){if(m){snippetManager.files[id]=m;if(!m.snippets&&m.snippetText)m.snippets=snippetManager.parseSnippetFile(m.snippetText);snippetManager.register(m.snippets||[],m.scope);if(m.includeScopes){snippetManager.snippetMap[m.scope].includeScopes=m.includeScopes;m.includeScopes.forEach(function(x){loadSnippetFile("ace/mode/"+x)})}}})},doLiveAutocomplete=function(e){var editor=e.editor,hasCompleter=editor.completer&&editor.completer.activated;if("backspace"===e.command.name){if(hasCompleter&&!util.getCompletionPrefix(editor))editor.completer.detach()}else if("insertstring"===e.command.name){var prefix=util.getCompletionPrefix(editor);if(prefix&&!hasCompleter){if(!editor.completer){editor.completer=new Autocomplete}editor.completer.autoInsert=!1;editor.completer.showPopup(editor)}}},Editor=require("../editor").Editor;require("../config").defineOptions(Editor.prototype,"editor",{enableBasicAutocompletion:{set:function(val){if(val){if(!this.completers)this.completers=Array.isArray(val)?val:completers;this.commands.addCommand(Autocomplete.startCommand)}else{this.commands.removeCommand(Autocomplete.startCommand)}},value:!1},enableLiveAutocompletion:{set:function(val){if(val){if(!this.completers)this.completers=Array.isArray(val)?val:completers;this.commands.on("afterExec",doLiveAutocomplete)}else{this.commands.removeListener("afterExec",doLiveAutocomplete)}},value:!1},enableSnippets:{set:function(val){if(val){this.commands.addCommand(expandSnippet);this.on("changeMode",onChangeMode);onChangeMode(null,this)}else{this.commands.removeCommand(expandSnippet);this.off("changeMode",onChangeMode)}},value:!1}})});(function(){ace.require(["ace/ext/language_tools"],function(m){if("object"==typeof module&&"object"==typeof exports&&module){module.exports=m}})})();ace.define("ace/snippets/snippets",["require","exports","module"],function(require,exports){exports.snippetText="# snippets for making snippets :)\nsnippet snip\n\tsnippet ${1:trigger}\n\t\t${2}\nsnippet msnip\n\tsnippet ${1:trigger} ${2:description}\n\t\t${3}\nsnippet v\n\t{VISUAL}\n";exports.scope="snippets"});(function(){ace.require(["ace/snippets/snippets"],function(m){if("object"==typeof module&&"object"==typeof exports&&module){module.exports=m}})})();const bundledImportMeta$1={...meta,url:new URL("../node_modules/%40granite-elements/ace-widget/ace-widget.js",meta.url).href};var editorFocus=function(){var _self=this;setTimeout(function(){if(!_self.isFocused())_self.textInput.focus()});this.textInput.$focusScroll="browser";this.textInput.focus()};class AceWidget extends PolymerElement{static get template(){return html`
      <style>
        :host {
          display: block;
          width: 100%;
        }
    
        #editor {
          border: 1px solid #e3e3e3;
          border-radius: 4px;
          @apply --ace-widget-editor;
        }
      </style>
      <div id="editor"></div>
    `}static get is(){return"ace-widget"}static get properties(){return{theme:{type:String,value:"ace/theme/eclipse",observer:"themeChanged"},mode:{type:String,notify:!0,observer:"modeChanged"},value:{type:String,notify:!0,observer:"valueChanged"},readonly:{type:Boolean,value:!1,observer:"readonlyChanged"},softtabs:{type:Boolean,value:!0,observer:"softtabsChanged"},wrap:{type:Boolean,value:!1,observer:"wrapChanged"},fontSize:{type:String,value:"14px",observer:"fontSizeChanged"},tabSize:{type:Number,value:4,observer:"tabSizeChanged"},snippets:{type:String,notify:!0},autoComplete:{type:Object,notify:!0},minlines:{type:Number,value:15},maxlines:{type:Number,value:30},enableLiveAutocompletion:{type:Boolean,value:!1},enableSnippets:{type:Boolean,value:!1},initialFocus:{type:Boolean,value:!1},placeholder:{type:String,value:""},verbose:{type:Boolean,value:!1},baseUrl:{type:String,value:""}}}static get importMeta(){return bundledImportMeta$1}async connectedCallback(){super.connectedCallback();let baseUrl=this.baseUrl||`${this.importPath}../../ace-builds/src-min-noconflict/`;if(!ace){await new Promise((res,rej)=>_require2.default([`${baseUrl}ace.js`],res,rej))}if(!ace.require("ace/ext/language_tools")){await new Promise((res,rej)=>_require2.default([`${baseUrl}ext-language_tools.js`],res,rej))}let div=this.$.editor;div.style.width="100%";div.style.height="100%";this.editor=ace.edit(div);this.editor.focus=editorFocus;this.dispatchEvent(new CustomEvent("editor-ready",{detail:{value:this.editor,oldValue:null}}));this.initializeEditor()}initializeEditor(){let self=this,editor=this.editor;this.head=document.head;this.injectStyle("#ace_editor\\.css");let baseUrl=this.baseUrl||`${this.importPath}../../ace-builds/src-min-noconflict/`;ace.config.set("basePath",baseUrl);ace.config.set("modePath",baseUrl);ace.config.set("themePath",baseUrl);ace.config.set("workerPath",baseUrl);this.themeChanged();this.editorValue="";editor.setOption("enableSnippets",this.enableSnippets);editor.setOption("enableBasicAutocompletion",!0);editor.setOption("enableLiveAutocompletion",this.enableLiveAutocompletion);editor.on("change",this.editorChangeAction.bind(this));editor.on("input",this._updatePlaceholder.bind(this));setTimeout(this._updatePlaceholder.bind(this),100);this.session=editor.getSession();if(this.initialFocus){editor.focus()}editor.$blockScrolling=1/0;editor.setTheme(this.theme);this.readonlyChanged();this.wrapChanged();this.tabSizeChanged();this.modeChanged();this.softtabsChanged();this.fontSizeChanged();let htmlContent=this.innerHTML.trim();if(this.value===void 0){this.value=htmlContent}else{this.valueChanged()}editor.setOptions({minLines:this.minlines,maxLines:this.maxlines});if(this.enableSnippets){let snippetManager=ace.require("ace/snippets").snippetManager;snippetManager.register(this.snippets,"javascript")}let langTools=ace.require("ace/ext/language_tools");langTools.addCompleter({getCompletions:function(editor,session,pos,prefix,callback){if(0===prefix.length){callback(null,[]);return}callback(null,self.autoComplete||[])}});if(this.verbose){console.debug("[ace-widget] After initializing: editor.getSession().getValue()",editor.getSession().getValue())}}fontSizeChanged(){if(this.editor==void 0){return}this.$.editor.style.fontSize=this.fontSize}modeChanged(){if(!this.editor)return;this.editor.getSession().setMode(this.mode)}softtabsChanged(){if(this.editor==void 0){return}this.editor.getSession().setUseSoftTabs(this.softtabs)}themeChanged(){if(this.editor==void 0){return}this.editor.setTheme(this.theme)}valueChanged(){if(this.editor==void 0){return}if(this.editorValue!=this.value){this.editorValue=this.value;this.editor.clearSelection();this.editor.resize()}}readonlyChanged(){if(this.editor==void 0){return}this.editor.setReadOnly(this.readonly);this.editor.setHighlightActiveLine(!this.readonly);this.editor.setHighlightGutterLine(!this.readonly);this.editor.renderer.$cursorLayer.element.style.opacity=this.readonly?0:1}wrapChanged(){if(this.editor==void 0){return}this.editor.getSession().setUseWrapMode(this.wrap)}tabSizeChanged(){if(this.editor==void 0){return}if(this.tabSize){this.editor.getSession().setTabSize(this.tabSize)}}editorChangeAction(){this.dispatchEvent(new CustomEvent("editor-content",{detail:{value:this.editorValue,oldValue:this._value}}))}get editorValue(){return this.editor.getValue()}set editorValue(value){if(value===void 0){return}this._value=value;this.editor.setValue(value)}focus(){this.editor.focus()}_updatePlaceholder(){let shouldShow=!this.editor.session.getValue().length,node=this.editor.renderer.emptyMessageNode;if(this.verbose){console.debug("[ace-widget] _updatePlaceholder",{shouldShow:shouldShow,node:node})}if(!shouldShow&&node){this.editor.renderer.scroller.removeChild(this.editor.renderer.emptyMessageNode);this.editor.renderer.emptyMessageNode=null}else if(shouldShow&&!node){if(this.verbose){console.debug("[ace-widget] _updatePlaceholder - shouldShow && !node")}node=this.editor.renderer.emptyMessageNode=document.createElement("div");node.textContent=this.placeholder;node.className="ace_comment";node.style.padding="0 9px";node.style.zIndex="1";node.style.position="absolute";node.style.color="#aaa";if(this.verbose){console.debug("[ace-widget] _updatePlaceholder - node",node)}this.editor.renderer.scroller.appendChild(node)}}injectStyle(selector){const lightStyle=this.getRootNode().querySelector(selector)||document.querySelector(selector);this.shadowRoot.appendChild(lightStyle.cloneNode(!0))}}window.customElements.define(AceWidget.is,AceWidget);const directives=new WeakMap,directive=f=>{directives.set(f,!0);return f};_exports.directive=directive;const isDirective=o=>"function"===typeof o&&directives.has(o);_exports.isDirective=isDirective;_exports.$directive={directive:directive,isDirective:isDirective};const isCEPolyfill=window.customElements!==void 0&&window.customElements.polyfillWrapFlushCallback!==void 0;_exports.isCEPolyfill$1=_exports.isCEPolyfill=isCEPolyfill;const reparentNodes=(container,start,end=null,before=null)=>{let node=start;while(node!==end){const n=node.nextSibling;container.insertBefore(node,before);node=n}};_exports.reparentNodes$1=_exports.reparentNodes=reparentNodes;const removeNodes=(container,startNode,endNode=null)=>{let node=startNode;while(node!==endNode){const n=node.nextSibling;container.removeChild(node);node=n}};_exports.removeNodes$1=_exports.removeNodes=removeNodes;_exports.$dom={isCEPolyfill:isCEPolyfill,reparentNodes:reparentNodes,removeNodes:removeNodes};const noChange={};_exports.noChange$1=_exports.noChange=noChange;_exports.$part={noChange:noChange};const marker=`{{lit-${(Math.random()+"").slice(2)}}}`;_exports.marker$1=_exports.marker=marker;const nodeMarker=`<!--${marker}-->`;_exports.nodeMarker$1=_exports.nodeMarker=nodeMarker;const markerRegex=new RegExp(`${marker}|${nodeMarker}`);_exports.markerRegex$1=_exports.markerRegex=markerRegex;const rewritesStyleAttribute=(()=>{const el=document.createElement("div");el.setAttribute("style","{{bad value}}");return"{{bad value}}"!==el.getAttribute("style")})();_exports.rewritesStyleAttribute$1=_exports.rewritesStyleAttribute=rewritesStyleAttribute;class Template{constructor(result,element){this.parts=[];this.element=element;let index=-1,partIndex=0;const nodesToRemove=[],_prepareTemplate=template=>{const content=template.content,walker=document.createTreeWalker(content,133,null,!1);let previousNode,currentNode;while(walker.nextNode()){index++;previousNode=currentNode;const node=currentNode=walker.currentNode;if(1===node.nodeType){if(node.hasAttributes()){const attributes=node.attributes;let count=0;for(let i=0;i<attributes.length;i++){if(0<=attributes[i].value.indexOf(marker)){count++}}while(0<count--){const stringForPart=result.strings[partIndex],name=lastAttributeNameRegex.exec(stringForPart)[2],attributeLookupName=rewritesStyleAttribute&&"style"===name?"style$":/^[a-zA-Z-]*$/.test(name)?name:name.toLowerCase(),attributeValue=node.getAttribute(attributeLookupName),strings=attributeValue.split(markerRegex);this.parts.push({type:"attribute",index,name,strings});node.removeAttribute(attributeLookupName);partIndex+=strings.length-1}}if("TEMPLATE"===node.tagName){_prepareTemplate(node)}}else if(3===node.nodeType){const nodeValue=node.nodeValue;if(0>nodeValue.indexOf(marker)){continue}const parent=node.parentNode,strings=nodeValue.split(markerRegex),lastIndex=strings.length-1;partIndex+=lastIndex;for(let i=0;i<lastIndex;i++){parent.insertBefore(""===strings[i]?createMarker():document.createTextNode(strings[i]),node);this.parts.push({type:"node",index:index++})}parent.insertBefore(""===strings[lastIndex]?createMarker():document.createTextNode(strings[lastIndex]),node);nodesToRemove.push(node)}else if(8===node.nodeType){if(node.nodeValue===marker){const parent=node.parentNode,previousSibling=node.previousSibling;if(null===previousSibling||previousSibling!==previousNode||previousSibling.nodeType!==Node.TEXT_NODE){parent.insertBefore(createMarker(),node)}else{index--}this.parts.push({type:"node",index:index++});nodesToRemove.push(node);if(null===node.nextSibling){parent.insertBefore(createMarker(),node)}else{index--}currentNode=previousNode;partIndex++}else{let i=-1;while(-1!==(i=node.nodeValue.indexOf(marker,i+1))){this.parts.push({type:"node",index:-1})}}}}};_prepareTemplate(element);for(const n of nodesToRemove){n.parentNode.removeChild(n)}}}_exports.Template$1=_exports.Template=Template;const isTemplatePartActive=part=>-1!==part.index;_exports.isTemplatePartActive$1=_exports.isTemplatePartActive=isTemplatePartActive;const createMarker=()=>document.createComment("");_exports.createMarker$1=_exports.createMarker=createMarker;const lastAttributeNameRegex=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;_exports.lastAttributeNameRegex$1=_exports.lastAttributeNameRegex=lastAttributeNameRegex;_exports.$template={marker:marker,nodeMarker:nodeMarker,markerRegex:markerRegex,rewritesStyleAttribute:rewritesStyleAttribute,Template:Template,isTemplatePartActive:isTemplatePartActive,createMarker:createMarker,lastAttributeNameRegex:lastAttributeNameRegex};class TemplateInstance{constructor(template,processor,options){this._parts=[];this.template=template;this.processor=processor;this.options=options}update(values){let i=0;for(const part of this._parts){if(part!==void 0){part.setValue(values[i])}i++}for(const part of this._parts){if(part!==void 0){part.commit()}}}_clone(){const fragment=isCEPolyfill?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),parts=this.template.parts;let partIndex=0,nodeIndex=0;const _prepareInstance=fragment=>{const walker=document.createTreeWalker(fragment,133,null,!1);let node=walker.nextNode();while(partIndex<parts.length&&null!==node){const part=parts[partIndex];if(!isTemplatePartActive(part)){this._parts.push(void 0);partIndex++}else if(nodeIndex===part.index){if("node"===part.type){const part=this.processor.handleTextExpression(this.options);part.insertAfterNode(node);this._parts.push(part)}else{this._parts.push(...this.processor.handleAttributeExpressions(node,part.name,part.strings,this.options))}partIndex++}else{nodeIndex++;if("TEMPLATE"===node.nodeName){_prepareInstance(node.content)}node=walker.nextNode()}}};_prepareInstance(fragment);if(isCEPolyfill){document.adoptNode(fragment);customElements.upgrade(fragment)}return fragment}}_exports.TemplateInstance$1=_exports.TemplateInstance=TemplateInstance;_exports.$templateInstance={TemplateInstance:TemplateInstance};class TemplateResult{constructor(strings,values,type,processor){this.strings=strings;this.values=values;this.type=type;this.processor=processor}getHTML(){const l=this.strings.length-1;let html="",isTextBinding=!0;for(let i=0;i<l;i++){const s=this.strings[i];html+=s;const close=s.lastIndexOf(">");isTextBinding=(-1<close||isTextBinding)&&-1===s.indexOf("<",close+1);if(!isTextBinding&&rewritesStyleAttribute){html=html.replace(lastAttributeNameRegex,(match,p1,p2,p3)=>{return"style"===p2?`${p1}style$${p3}`:match})}html+=isTextBinding?nodeMarker:marker}html+=this.strings[l];return html}getTemplateElement(){const template=document.createElement("template");template.innerHTML=this.getHTML();return template}}_exports.TemplateResult$4=_exports.TemplateResult$3=_exports.TemplateResult$2=_exports.TemplateResult$1=_exports.TemplateResult=TemplateResult;class SVGTemplateResult extends TemplateResult{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const template=super.getTemplateElement(),content=template.content,svgElement=content.firstChild;content.removeChild(svgElement);reparentNodes(content,svgElement.firstChild);return template}}_exports.SVGTemplateResult$1=_exports.SVGTemplateResult=SVGTemplateResult;_exports.$templateResult={TemplateResult:TemplateResult,SVGTemplateResult:SVGTemplateResult};const isPrimitive=value=>null===value||!("object"===typeof value||"function"===typeof value);_exports.isPrimitive$1=_exports.isPrimitive=isPrimitive;class AttributeCommitter{constructor(element,name,strings){this.dirty=!0;this.element=element;this.name=name;this.strings=strings;this.parts=[];for(let i=0;i<strings.length-1;i++){this.parts[i]=this._createPart()}}_createPart(){return new AttributePart(this)}_getValue(){const strings=this.strings,l=strings.length-1;let text="";for(let i=0;i<l;i++){text+=strings[i];const part=this.parts[i];if(part!==void 0){const v=part.value;if(null!=v&&(Array.isArray(v)||"string"!==typeof v&&v[Symbol.iterator])){for(const t of v){text+="string"===typeof t?t:t+""}}else{text+="string"===typeof v?v:v+""}}}text+=strings[l];return text}commit(){if(this.dirty){this.dirty=!1;this.element.setAttribute(this.name,this._getValue())}}}_exports.AttributeCommitter$1=_exports.AttributeCommitter=AttributeCommitter;class AttributePart{constructor(comitter){this.value=void 0;this.committer=comitter}setValue(value){if(value!==noChange&&(!isPrimitive(value)||value!==this.value)){this.value=value;if(!isDirective(value)){this.committer.dirty=!0}}}commit(){while(isDirective(this.value)){const directive$$1=this.value;this.value=noChange;directive$$1(this)}if(this.value===noChange){return}this.committer.commit()}}_exports.AttributePart$1=_exports.AttributePart=AttributePart;class NodePart{constructor(options){this.value=void 0;this._pendingValue=void 0;this.options=options}appendInto(container){this.startNode=container.appendChild(createMarker());this.endNode=container.appendChild(createMarker())}insertAfterNode(ref){this.startNode=ref;this.endNode=ref.nextSibling}appendIntoPart(part){part._insert(this.startNode=createMarker());part._insert(this.endNode=createMarker())}insertAfterPart(ref){ref._insert(this.startNode=createMarker());this.endNode=ref.endNode;ref.endNode=this.startNode}setValue(value){this._pendingValue=value}commit(){while(isDirective(this._pendingValue)){const directive$$1=this._pendingValue;this._pendingValue=noChange;directive$$1(this)}const value=this._pendingValue;if(value===noChange){return}if(isPrimitive(value)){if(value!==this.value){this._commitText(value)}}else if(value instanceof TemplateResult){this._commitTemplateResult(value)}else if(value instanceof Node){this._commitNode(value)}else if(Array.isArray(value)||value[Symbol.iterator]){this._commitIterable(value)}else if(value.then!==void 0){this._commitPromise(value)}else{this._commitText(value)}}_insert(node){this.endNode.parentNode.insertBefore(node,this.endNode)}_commitNode(value){if(this.value===value){return}this.clear();this._insert(value);this.value=value}_commitText(value){const node=this.startNode.nextSibling;value=null==value?"":value;if(node===this.endNode.previousSibling&&node.nodeType===Node.TEXT_NODE){node.textContent=value}else{this._commitNode(document.createTextNode("string"===typeof value?value:value+""))}this.value=value}_commitTemplateResult(value){const template=this.options.templateFactory(value);if(this.value&&this.value.template===template){this.value.update(value.values)}else{const instance=new TemplateInstance(template,value.processor,this.options),fragment=instance._clone();instance.update(value.values);this._commitNode(fragment);this.value=instance}}_commitIterable(value){if(!Array.isArray(this.value)){this.value=[];this.clear()}const itemParts=this.value;let partIndex=0,itemPart;for(const item of value){itemPart=itemParts[partIndex];if(itemPart===void 0){itemPart=new NodePart(this.options);itemParts.push(itemPart);if(0===partIndex){itemPart.appendIntoPart(this)}else{itemPart.insertAfterPart(itemParts[partIndex-1])}}itemPart.setValue(item);itemPart.commit();partIndex++}if(partIndex<itemParts.length){itemParts.length=partIndex;this.clear(itemPart&&itemPart.endNode)}}_commitPromise(value){this.value=value;value.then(v=>{if(this.value===value){this.setValue(v);this.commit()}})}clear(startNode=this.startNode){removeNodes(this.startNode.parentNode,startNode.nextSibling,this.endNode)}}_exports.NodePart$1=_exports.NodePart=NodePart;class BooleanAttributePart{constructor(element,name,strings){this.value=void 0;this._pendingValue=void 0;if(2!==strings.length||""!==strings[0]||""!==strings[1]){throw new Error("Boolean attributes can only contain a single expression")}this.element=element;this.name=name;this.strings=strings}setValue(value){this._pendingValue=value}commit(){while(isDirective(this._pendingValue)){const directive$$1=this._pendingValue;this._pendingValue=noChange;directive$$1(this)}if(this._pendingValue===noChange){return}const value=!!this._pendingValue;if(this.value!==value){if(value){this.element.setAttribute(this.name,"")}else{this.element.removeAttribute(this.name)}}this.value=value;this._pendingValue=noChange}}_exports.BooleanAttributePart$1=_exports.BooleanAttributePart=BooleanAttributePart;class PropertyCommitter extends AttributeCommitter{constructor(element,name,strings){super(element,name,strings);this.single=2===strings.length&&""===strings[0]&&""===strings[1]}_createPart(){return new PropertyPart(this)}_getValue(){if(this.single){return this.parts[0].value}return super._getValue()}commit(){if(this.dirty){this.dirty=!1;this.element[this.name]=this._getValue()}}}_exports.PropertyCommitter$1=_exports.PropertyCommitter=PropertyCommitter;class PropertyPart extends AttributePart{}_exports.PropertyPart$1=_exports.PropertyPart=PropertyPart;let eventOptionsSupported=!1;try{const options={get capture(){eventOptionsSupported=!0;return!1}};window.addEventListener("test",options,options);window.removeEventListener("test",options,options)}catch(_e){}class EventPart{constructor(element,eventName,eventContext){this.value=void 0;this._pendingValue=void 0;this.element=element;this.eventName=eventName;this.eventContext=eventContext}setValue(value){this._pendingValue=value}commit(){while(isDirective(this._pendingValue)){const directive$$1=this._pendingValue;this._pendingValue=noChange;directive$$1(this)}if(this._pendingValue===noChange){return}const newListener=this._pendingValue,oldListener=this.value,shouldRemoveListener=null==newListener||null!=oldListener&&(newListener.capture!==oldListener.capture||newListener.once!==oldListener.once||newListener.passive!==oldListener.passive);if(shouldRemoveListener){this.element.removeEventListener(this.eventName,this,this._options)}this._options=getOptions(newListener);if(null!=newListener&&(null==oldListener||shouldRemoveListener)){this.element.addEventListener(this.eventName,this,this._options)}this.value=newListener;this._pendingValue=noChange}handleEvent(event){const listener="function"===typeof this.value?this.value:"function"===typeof this.value.handleEvent?this.value.handleEvent:()=>null;listener.call(this.eventContext||this.element,event)}}_exports.EventPart$1=_exports.EventPart=EventPart;const getOptions=o=>o&&(eventOptionsSupported?{capture:o.capture,passive:o.passive,once:o.once}:o.capture);_exports.$parts={isPrimitive:isPrimitive,AttributeCommitter:AttributeCommitter,AttributePart:AttributePart,NodePart:NodePart,BooleanAttributePart:BooleanAttributePart,PropertyCommitter:PropertyCommitter,PropertyPart:PropertyPart,EventPart:EventPart};class DefaultTemplateProcessor{handleAttributeExpressions(element,name,strings,options){const prefix=name[0];if("."===prefix){const comitter=new PropertyCommitter(element,name.slice(1),strings);return comitter.parts}if("@"===prefix){return[new EventPart(element,name.slice(1),options.eventContext)]}if("?"===prefix){return[new BooleanAttributePart(element,name.slice(1),strings)]}const comitter=new AttributeCommitter(element,name,strings);return comitter.parts}handleTextExpression(options){return new NodePart(options)}}_exports.DefaultTemplateProcessor$1=_exports.DefaultTemplateProcessor=DefaultTemplateProcessor;const defaultTemplateProcessor=new DefaultTemplateProcessor;_exports.defaultTemplateProcessor$1=_exports.defaultTemplateProcessor=defaultTemplateProcessor;_exports.$defaultTemplateProcessor={DefaultTemplateProcessor:DefaultTemplateProcessor,defaultTemplateProcessor:defaultTemplateProcessor};function templateFactory(result){let templateCache=templateCaches.get(result.type);if(templateCache===void 0){templateCache=new Map;templateCaches.set(result.type,templateCache)}let template=templateCache.get(result.strings);if(template===void 0){template=new Template(result,result.getTemplateElement());templateCache.set(result.strings,template)}return template}const templateCaches=new Map;_exports.templateCaches$1=_exports.templateCaches=templateCaches;_exports.$templateFactory={templateFactory:templateFactory,templateCaches:templateCaches};const parts$1=new WeakMap;_exports.parts=parts$1;const render=(result,container,options)=>{let part=parts$1.get(container);if(part===void 0){removeNodes(container,container.firstChild);parts$1.set(container,part=new NodePart(Object.assign({templateFactory},options)));part.appendInto(container)}part.setValue(result);part.commit()};_exports.render=render;_exports.$render={parts:parts$1,render:render};const html$1=(strings,...values)=>new TemplateResult(strings,values,"html",defaultTemplateProcessor);_exports.html$8=_exports.html$7=_exports.html$3=_exports.html$2=_exports.html$1=_exports.html=html$1;const svg=(strings,...values)=>new SVGTemplateResult(strings,values,"svg",defaultTemplateProcessor);_exports.svg$4=_exports.svg$3=_exports.svg$2=_exports.svg$1=_exports.svg=svg;_exports.$litHtml={html:html$1,svg:svg,TemplateResult:TemplateResult,SVGTemplateResult:SVGTemplateResult,marker:marker,nodeMarker:nodeMarker,markerRegex:markerRegex,rewritesStyleAttribute:rewritesStyleAttribute,Template:Template,isTemplatePartActive:isTemplatePartActive,createMarker:createMarker,lastAttributeNameRegex:lastAttributeNameRegex,DefaultTemplateProcessor:DefaultTemplateProcessor,defaultTemplateProcessor:defaultTemplateProcessor,TemplateInstance:TemplateInstance,noChange:noChange,isPrimitive:isPrimitive,AttributeCommitter:AttributeCommitter,AttributePart:AttributePart,NodePart:NodePart,BooleanAttributePart:BooleanAttributePart,PropertyCommitter:PropertyCommitter,PropertyPart:PropertyPart,EventPart:EventPart,isCEPolyfill:isCEPolyfill,reparentNodes:reparentNodes,removeNodes:removeNodes,directive:directive,isDirective:isDirective,parts:parts$1,render:render,templateFactory:templateFactory,templateCaches:templateCaches};const walkerNodeFilter=NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT;function removeNodesFromTemplate(template,nodesToRemove){const{element:{content},parts}=template,walker=document.createTreeWalker(content,walkerNodeFilter,null,!1);let partIndex=nextActiveIndexInTemplateParts(parts),part=parts[partIndex],nodeIndex=-1,removeCount=0;const nodesToRemoveInTemplate=[];let currentRemovingNode=null;while(walker.nextNode()){nodeIndex++;const node=walker.currentNode;if(node.previousSibling===currentRemovingNode){currentRemovingNode=null}if(nodesToRemove.has(node)){nodesToRemoveInTemplate.push(node);if(null===currentRemovingNode){currentRemovingNode=node}}if(null!==currentRemovingNode){removeCount++}while(part!==void 0&&part.index===nodeIndex){part.index=null!==currentRemovingNode?-1:part.index-removeCount;partIndex=nextActiveIndexInTemplateParts(parts,partIndex);part=parts[partIndex]}}nodesToRemoveInTemplate.forEach(n=>n.parentNode.removeChild(n))}const countNodes=node=>{let count=node.nodeType===Node.DOCUMENT_FRAGMENT_NODE?0:1;const walker=document.createTreeWalker(node,walkerNodeFilter,null,!1);while(walker.nextNode()){count++}return count},nextActiveIndexInTemplateParts=(parts,startIndex=-1)=>{for(let i=startIndex+1;i<parts.length;i++){const part=parts[i];if(isTemplatePartActive(part)){return i}}return-1};function insertNodeIntoTemplate(template,node,refNode=null){const{element:{content},parts}=template;if(null===refNode||refNode===void 0){content.appendChild(node);return}const walker=document.createTreeWalker(content,walkerNodeFilter,null,!1);let partIndex=nextActiveIndexInTemplateParts(parts),insertCount=0,walkerIndex=-1;while(walker.nextNode()){walkerIndex++;const walkerNode=walker.currentNode;if(walkerNode===refNode){insertCount=countNodes(node);refNode.parentNode.insertBefore(node,refNode)}while(-1!==partIndex&&parts[partIndex].index===walkerIndex){if(0<insertCount){while(-1!==partIndex){parts[partIndex].index+=insertCount;partIndex=nextActiveIndexInTemplateParts(parts,partIndex)}return}partIndex=nextActiveIndexInTemplateParts(parts,partIndex)}}}_exports.$modifyTemplate={removeNodesFromTemplate:removeNodesFromTemplate,insertNodeIntoTemplate:insertNodeIntoTemplate};const getTemplateCacheKey=(type,scopeName)=>`${type}--${scopeName}`;let compatibleShadyCSSVersion=!0;if("undefined"===typeof window.ShadyCSS){compatibleShadyCSSVersion=!1}else if("undefined"===typeof window.ShadyCSS.prepareTemplateDom){console.warn(`Incompatible ShadyCSS version detected.`+`Please update to at least @webcomponents/webcomponentsjs@2.0.2 and`+`@webcomponents/shadycss@1.3.1.`);compatibleShadyCSSVersion=!1}const shadyTemplateFactory=scopeName=>result=>{const cacheKey=getTemplateCacheKey(result.type,scopeName);let templateCache=templateCaches.get(cacheKey);if(templateCache===void 0){templateCache=new Map;templateCaches.set(cacheKey,templateCache)}let template=templateCache.get(result.strings);if(template===void 0){const element=result.getTemplateElement();if(compatibleShadyCSSVersion){window.ShadyCSS.prepareTemplateDom(element,scopeName)}template=new Template(result,element);templateCache.set(result.strings,template)}return template},TEMPLATE_TYPES=["html","svg"],removeStylesFromLitTemplates=scopeName=>{TEMPLATE_TYPES.forEach(type=>{const templates=templateCaches.get(getTemplateCacheKey(type,scopeName));if(templates!==void 0){templates.forEach(template=>{const{element:{content}}=template,styles=new Set;Array.from(content.querySelectorAll("style")).forEach(s=>{styles.add(s)});removeNodesFromTemplate(template,styles)})}})},shadyRenderSet=new Set,prepareTemplateStyles=(renderedDOM,template,scopeName)=>{shadyRenderSet.add(scopeName);const styles=renderedDOM.querySelectorAll("style");if(0===styles.length){return}const condensedStyle=document.createElement("style");for(let i=0;i<styles.length;i++){const style=styles[i];style.parentNode.removeChild(style);condensedStyle.textContent+=style.textContent}removeStylesFromLitTemplates(scopeName);insertNodeIntoTemplate(template,condensedStyle,template.element.content.firstChild);window.ShadyCSS.prepareTemplateStyles(template.element,scopeName);if(window.ShadyCSS.nativeShadow){const style=template.element.content.querySelector("style");renderedDOM.insertBefore(style.cloneNode(!0),renderedDOM.firstChild)}else{template.element.content.insertBefore(condensedStyle,template.element.content.firstChild);const removes=new Set([condensedStyle]);removeNodesFromTemplate(template,removes)}},render$2=(result,container,options)=>{const scopeName=options.scopeName,hasRendered=parts$1.has(container);render(result,container,Object.assign({templateFactory:shadyTemplateFactory(scopeName)},options));if(container instanceof ShadowRoot&&compatibleShadyCSSVersion&&result instanceof TemplateResult){if(!shadyRenderSet.has(scopeName)){const part=parts$1.get(container),instance=part.value;prepareTemplateStyles(container,instance.template,scopeName)}if(!hasRendered){window.ShadyCSS.styleElement(container.host)}}};_exports.render$1=render$2;_exports.$shadyRender={render:render$2,html:html$1,svg:svg,TemplateResult:TemplateResult};const fromBooleanAttribute=value=>null!==value,toBooleanAttribute=value=>value?"":null,notEqual=(value,old)=>{return old!==value&&(old===old||value===value)};_exports.notEqual$3=_exports.notEqual$2=_exports.notEqual$1=_exports.notEqual=notEqual;const defaultPropertyDeclaration={attribute:!0,type:String,reflect:!1,hasChanged:notEqual},microtaskPromise=new Promise(resolve=>resolve(!0)),STATE_HAS_UPDATED=1,STATE_UPDATE_REQUESTED=1<<2,STATE_IS_REFLECTING=1<<3;class UpdatingElement extends HTMLElement{constructor(){super();this._updateState=0;this._instanceProperties=void 0;this._updatePromise=microtaskPromise;this._changedProperties=new Map;this._reflectingProperties=void 0;this.initialize()}static get observedAttributes(){this._finalize();const attributes=[];for(const[p,v]of this._classProperties){const attr=this._attributeNameForProperty(p,v);if(attr!==void 0){this._attributeToPropertyMap.set(attr,p);attributes.push(attr)}}return attributes}static createProperty(name,options=defaultPropertyDeclaration){if(!this.hasOwnProperty("_classProperties")){this._classProperties=new Map;const superProperties=Object.getPrototypeOf(this)._classProperties;if(superProperties!==void 0){superProperties.forEach((v,k)=>this._classProperties.set(k,v))}}this._classProperties.set(name,options);if(this.prototype.hasOwnProperty(name)){return}const key="symbol"===typeof name?Symbol():`__${name}`;Object.defineProperty(this.prototype,name,{get(){return this[key]},set(value){const oldValue=this[name];this[key]=value;this._requestPropertyUpdate(name,oldValue,options)},configurable:!0,enumerable:!0})}static _finalize(){if(this.hasOwnProperty("_finalized")&&this._finalized){return}const superCtor=Object.getPrototypeOf(this);if("function"===typeof superCtor._finalize){superCtor._finalize()}this._finalized=!0;this._attributeToPropertyMap=new Map;const props=this.properties,propKeys=[...Object.getOwnPropertyNames(props),...("function"===typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(props):[])];for(const p of propKeys){this.createProperty(p,props[p])}}static _attributeNameForProperty(name,options){const attribute=options!==void 0&&options.attribute;return!1===attribute?void 0:"string"===typeof attribute?attribute:"string"===typeof name?name.toLowerCase():void 0}static _valueHasChanged(value,old,hasChanged=notEqual){return hasChanged(value,old)}static _propertyValueFromAttribute(value,options){const type=options&&options.type;if(type===void 0){return value}const fromAttribute=type===Boolean?fromBooleanAttribute:"function"===typeof type?type:type.fromAttribute;return fromAttribute?fromAttribute(value):value}static _propertyValueToAttribute(value,options){if(options===void 0||options.reflect===void 0){return}const toAttribute=options.type===Boolean?toBooleanAttribute:options.type&&options.type.toAttribute||String;return toAttribute(value)}initialize(){this.renderRoot=this.createRenderRoot();this._saveInstanceProperties()}_saveInstanceProperties(){for(const[p]of this.constructor._classProperties){if(this.hasOwnProperty(p)){const value=this[p];delete this[p];if(!this._instanceProperties){this._instanceProperties=new Map}this._instanceProperties.set(p,value)}}}_applyInstanceProperties(){for(const[p,v]of this._instanceProperties){this[p]=v}this._instanceProperties=void 0}createRenderRoot(){return this.attachShadow({mode:"open"})}connectedCallback(){if(this._updateState&STATE_HAS_UPDATED){if(window.ShadyCSS!==void 0){window.ShadyCSS.styleElement(this)}}else{this.requestUpdate()}}disconnectedCallback(){}attributeChangedCallback(name,old,value){if(old!==value){this._attributeToProperty(name,value)}}_propertyToAttribute(name,value,options=defaultPropertyDeclaration){const ctor=this.constructor,attrValue=ctor._propertyValueToAttribute(value,options);if(attrValue!==void 0){const attr=ctor._attributeNameForProperty(name,options);if(attr!==void 0){this._updateState=this._updateState|STATE_IS_REFLECTING;if(null===attrValue){this.removeAttribute(attr)}else{this.setAttribute(attr,attrValue)}this._updateState=this._updateState&~STATE_IS_REFLECTING}}}_attributeToProperty(name,value){if(!(this._updateState&STATE_IS_REFLECTING)){const ctor=this.constructor,propName=ctor._attributeToPropertyMap.get(name);if(propName!==void 0){const options=ctor._classProperties.get(propName);this[propName]=ctor._propertyValueFromAttribute(value,options)}}}requestUpdate(name,oldValue){if(name!==void 0){const options=this.constructor._classProperties.get(name)||defaultPropertyDeclaration;return this._requestPropertyUpdate(name,oldValue,options)}return this._invalidate()}_requestPropertyUpdate(name,oldValue,options){if(!this.constructor._valueHasChanged(this[name],oldValue,options.hasChanged)){return this.updateComplete}if(!this._changedProperties.has(name)){this._changedProperties.set(name,oldValue)}if(!0===options.reflect){if(this._reflectingProperties===void 0){this._reflectingProperties=new Map}this._reflectingProperties.set(name,options)}return this._invalidate()}async _invalidate(){if(!this._hasRequestedUpdate){this._updateState=this._updateState|STATE_UPDATE_REQUESTED;let resolver;const previousValidatePromise=this._updatePromise;this._updatePromise=new Promise(r=>resolver=r);await previousValidatePromise;this._validate();resolver(!this._hasRequestedUpdate)}return this.updateComplete}get _hasRequestedUpdate(){return this._updateState&STATE_UPDATE_REQUESTED}_validate(){if(this._instanceProperties){this._applyInstanceProperties()}if(this.shouldUpdate(this._changedProperties)){const changedProperties=this._changedProperties;this.update(changedProperties);this._markUpdated();if(!(this._updateState&STATE_HAS_UPDATED)){this._updateState=this._updateState|STATE_HAS_UPDATED;this.firstUpdated(changedProperties)}this.updated(changedProperties)}else{this._markUpdated()}}_markUpdated(){this._changedProperties=new Map;this._updateState=this._updateState&~STATE_UPDATE_REQUESTED}get updateComplete(){return this._updatePromise}shouldUpdate(){return!0}update(){if(this._reflectingProperties!==void 0&&0<this._reflectingProperties.size){for(const[k,v]of this._reflectingProperties){this._propertyToAttribute(k,this[k],v)}this._reflectingProperties=void 0}}updated(){}firstUpdated(){}}_exports.UpdatingElement$3=_exports.UpdatingElement$2=_exports.UpdatingElement$1=_exports.UpdatingElement=UpdatingElement;UpdatingElement._attributeToPropertyMap=new Map;UpdatingElement._finalized=!0;UpdatingElement._classProperties=new Map;UpdatingElement.properties={};_exports.$updatingElement={notEqual:notEqual,UpdatingElement:UpdatingElement};const customElement=tagName=>clazz=>{window.customElements.define(tagName,clazz);return clazz};_exports.customElement$3=_exports.customElement$2=_exports.customElement$1=_exports.customElement=customElement;const property=options=>(proto,name)=>{proto.constructor.createProperty(name,options)};_exports.property$3=_exports.property$2=_exports.property$1=_exports.property=property;const query=_query((target,selector)=>target.querySelector(selector));_exports.query$3=_exports.query$2=_exports.query$1=_exports.query=query;const queryAll=_query((target,selector)=>target.querySelectorAll(selector));_exports.queryAll$3=_exports.queryAll$2=_exports.queryAll$1=_exports.queryAll=queryAll;function _query(queryFn){return selector=>(proto,propName)=>{Object.defineProperty(proto,propName,{get(){return queryFn(this.renderRoot,selector)},enumerable:!0,configurable:!0})}}const eventOptions=options=>(proto,name)=>{Object.assign(proto[name],options)};_exports.eventOptions$3=_exports.eventOptions$2=_exports.eventOptions$1=_exports.eventOptions=eventOptions;_exports.$decorators={customElement:customElement,property:property,query:query,queryAll:queryAll,eventOptions:eventOptions};class LitElement extends UpdatingElement{update(changedProperties){super.update(changedProperties);const templateResult=this.render();if(templateResult instanceof TemplateResult){this.constructor.render(templateResult,this.renderRoot,{scopeName:this.localName,eventContext:this})}}render(){}}_exports.LitElement$2=_exports.LitElement$1=_exports.LitElement=LitElement;LitElement.render=render$2;_exports.$litElement={LitElement:LitElement,notEqual:notEqual,UpdatingElement:UpdatingElement,customElement:customElement,property:property,query:query,queryAll:queryAll,eventOptions:eventOptions,html:html$1,svg:svg};class GraniteAlert extends LitElement{static get properties(){return{level:{type:String},hide:{type:Boolean},debug:{type:Boolean}}}constructor(){super();this._allowedLevels=["info","warning","danger","success"];this.level="info";this.hide=!1}connectedCallback(){super.connectedCallback()}firstUpdated(){if(this.debug){console.log("[granite-alert] firstUpdated")}}shouldUpdate(){if(this.debug){console.log("[granite-alert] shouldUpdate")}return!0}render(){if(this.hide){return}return html$1`
      ${this._renderStyles()}
      <div class="alert ${this._checkLevel(this.level)}">
        <slot></slot>
      </div>
    `}_renderStyles(){return html$1`
      <style>
        :host {
          display: block;
        }
        .hidden {
          display: none;
        }
        .alert {
          padding: 15px;
          margin-bottom: 20px;
          border: 1px solid transparent;
          border-radius: 4px;
        }
        .success {
          color: #3c763d;
          background-color: #dff0d8;
          border-color: #d6e9c6;
        }
        .info {
          color: #31708f;
          background-color: #d9edf7;
          border-color: #bce8f1;
        }
        .warning {
          color: #8a6d3b;
          background-color: #fcf8e3;
          border-color: #faebcc;
        }
        .danger {
          color: #a94442;
          background-color: #f2dede;
          border-color: #ebccd1;
      }
      </style>
    `}_isHidden(){if(this.hide){return"hidden"}return""}_checkLevel(){if(!this.level||0>this._allowedLevels.indexOf(this.level)){return this._allowedLevels[0]}return this.level}}window.customElements.define("granite-alert",GraniteAlert);const GraniteJsDependenciesGrabberMixin=superclass=>class extends superclass{static get properties(){return{history:{type:String,value:"",notify:!0},debug:{type:Boolean,value:!1}}}connectedCallback(){super.connectedCallback()}_getDependency(resolve){return()=>{return new Promise(resolve)}}_namespaceExists(name){let namespace=window,splittedName=name.split(".");for(let i in splittedName){let item=splittedName[i];if(!namespace[item]){return!1}namespace=namespace[item]}return!0}_getDependencyPromiseResolve(name,url){return resolve=>{if(!this._namespaceExists(name)){if(this.debug){console.log("[GraniteJsDependenciesGrabberMixin] _getDependency - unmet",name)}this.history+=`_getDependency - unmet ${name} <br>`;if(!window[`_downloading_${name}`]){window[`_downloading_${name}`]=!0;this._loadDependency(name,url,resolve)}else{this._waitToLoadDependency(name,url,resolve)}}else{if(this.debug){console.log("[GraniteJsDependenciesGrabberMixin] _getDependency - found",name)}this.history+=`_getDependency - found ${name} <br>`;this.dispatchEvent(new CustomEvent("dependency-is-ready",{detail:{name:name,url:url}}));resolve()}}}_loadDependency(name,url,resolve){var script=document.createElement("script");script.src=this.resolveUrl(url);if(this.debug){console.log("[GraniteJsDependenciesGrabberMixin] _loadDependency - resolveUrl",this.resolveUrl(url))}script.onload=()=>{if(this.debug){console.log("[GraniteJsDependenciesGrabberMixin] _loadDependency - loaded",name)}this.history+=`_loadDependency - loaded ${name} <br>`;this._waitToLoadDependency(name,url,resolve)};document.body.appendChild(script)}_waitToLoadDependency(name,url,resolve){window;if(!this._namespaceExists(name)){window.setTimeout(()=>{this._waitToLoadDependency(name,url,resolve)},5);return}if(this.debug){console.log("[GraniteJsDependenciesGrabberMixin] _waitToLoadDependency - got",name)}this.history+=`_waitToLoadDependency - got ${name} <br>`;this.dispatchEvent(new CustomEvent("dependency-is-ready",{detail:{name:name,url:url}}));resolve()}};_exports.GraniteJsDependenciesGrabberMixin=GraniteJsDependenciesGrabberMixin;_exports.$graniteJsDependenciesGrabberMixin={GraniteJsDependenciesGrabberMixin:GraniteJsDependenciesGrabberMixin};class GraniteJsDependenciesGrabber extends GraniteJsDependenciesGrabberMixin(PolymerElement){static get is(){return"granite-js-dependencies-grabber"}static get properties(){return{dependencies:{type:Array,observer:"_onDependenciesChange",value:()=>{return[]}}}}_onDependenciesChange(){if(!this.dependencies||0==this.dependencies.length){return}if(!this._areValidDependencies){this.console.error("[granite-js-dependencies-grabber] Dependencies list malformed");this.history+="Dependencies list malformed <br>";return}let chain=Promise.resolve();this.dependencies.forEach(dep=>{if(this.debug){console.log(`Adding dependency ${dep.name} to chain`)}this.history+=`Adding dependency ${dep.name} to chain <br>`;chain=chain.then(this._getDependency(this._getDependencyPromiseResolve(dep.name,dep.url)))})}_areValidDependencies(){this.dependencies.forEach(dep=>{if(!dep.name||"string"!=typeof dep.name||!dep.url||"string"!=typeof dep.url){return!1}});return!0}connectedCallback(){super.connectedCallback()}}window.customElements.define(GraniteJsDependenciesGrabber.is,GraniteJsDependenciesGrabber);const bundledImportMeta$2={...meta,url:new URL("../node_modules/%40granite-elements/granite-external-dependencies/granite-css-injector.js",meta.url).href};const GraniteCssInjector=dedupingMixin(baseClass=>{let cssFiles=[];function getCSS(nodeModulesPath){cssFiles.forEach(async file=>{let response=await fetch(`${nodeModulesPath}${file.path}`,{credentials:"include"});file.css=await response.text();console.log("[GraniteCssInjector] getCSS",file.name,file.path,file.css);document.dispatchEvent(new CustomEvent(`${file.name}-css-available`,{detail:file.css}))})}return class extends baseClass{constructor(){super();if(0==cssFiles.length){cssFiles=this.constructor.cssFiles;getCSS(this.constructor.nodeModulesPath)}}connectedCallback(){super.connectedCallback();cssFiles.forEach(file=>{if(file.css){if(this.debug){console.log(`[GraniteCssInjector] connectedCallback - CSS ${file.name} already available`);let style=document.createElement("style");style.type="text/css";style.appendChild(document.createTextNode(file.css));this.shadowRoot.appendChild(style)}}else{if(this.debug){console.log(`[GraniteCssInjector] connectedCallback - CSS ${file.name} not yet available`)}document.addEventListener(`${file.name}-css-available`,()=>{console.log(`[GraniteCssInjector] connectedCallback - received CSS ${file.name} available method`);let style=document.createElement("style");style.type="text/css";style.appendChild(document.createTextNode(file.css));this.shadowRoot.appendChild(style)})}})}static get cssFiles(){return[{name:"cssFile",path:"moduleName/cssFile.css"}]}static get properties(){return{}}static pathFromUrl(url){return url.substring(0,url.lastIndexOf("/")+1)}static get nodeModulesPath(){return`${this.pathFromUrl(bundledImportMeta$2.url)}../../`}}});_exports.GraniteCssInjector=GraniteCssInjector;_exports.$graniteCssInjector={GraniteCssInjector:GraniteCssInjector};const bundledImportMeta$3={...meta,url:new URL("../node_modules/%40granite-elements/granite-c3/granite-c3.js",meta.url).href};class GraniteC3 extends GraniteCssInjector(PolymerElement){static get template(){return html`
    <style>
        
        :host {
          display: block;
          width: 100%;
          height: 100%;
        }
        #chart {
          display: block;
          width: 100%;
          height: 100%;
        }
    </style>

    <granite-js-dependencies-grabber 
        dependencies="[[_dependencies]]" 
        on-dependency-is-ready="_onDependencyReady" 
        debug="[[debug]]"></granite-js-dependencies-grabber>
    <div id="chart"></div>    
  `}static get importMeta(){return bundledImportMeta$3}static get cssFiles(){return[{name:"c3",path:"c3/c3.min.css"}]}static get is(){return"granite-c3"}static get properties(){return{data:{type:Object,observer:"_onDataChange"},axis:{type:Object},grid:{type:Object},regions:{type:Array},legend:{type:Object},tooltip:{type:Object},point:{type:Object},area:{type:Object},bar:{type:Object},pie:{type:Object},donnut:{type:Object},gauge:{type:Object},color:{type:Object},chart:{type:Object,notify:!0},options:{type:Object,value:function(){return{}}},_dependenciesReady:{type:Boolean,value:!1},_chartInitialized:{type:Boolean,value:!1},debug:{type:Boolean,value:!1},_dependencies:{type:Array,value:[{name:"d3",url:`${this.importPath}../../d3/dist/d3.min.js`},{name:"c3",url:`${this.importPath}../../c3/c3.min.js`}]},fixVerticalResizing:{type:Boolean,value:!1},_c3CSS:{type:String}}}static get observers(){return["_tryInitChart(data,_dependenciesReady)"]}_onDependencyReady(evt){if("c3"===evt.detail.name){if(this.debug){console.log("[granite-c3] _onDependencyReady - C3 ready")}this._dependenciesReady=!0}}_initChart(){let explicitBindings={bindto:this.$.chart,data:this.data,axis:this.axis,gris:this.grid,regions:this.regions,legend:this.legend,tooltip:this.tooltip,point:this.point,area:this.area,bar:this.bar,pie:this.pie,donnut:this.donnut,gauge:this.gauge,color:this.color};for(let key in explicitBindings){if(explicitBindings[key]){this.options[key]=explicitBindings[key]}}if(this.fixVerticalResizing){this.options.onresized=function(){this.selectChart.style("max-height","none")}}console.log("[granite-c3] _initChart",this.options);this.chart=c3.generate(this.options);this._chartInitialized=!0}_tryInitChart(){if(this.debug){console.log("[granite-c3] _tryInitChart",this.data,this._dependenciesReady,this._chartInitialized)}if(this._dependenciesReady&&!this._chartInitialized&&this.data){this._initChart()}}_onDataChange(){if(this.debug){console.log("[granite-c3] _onDataChange",this.data)}if(this._chartInitialized){this.chart.load(this.data)}}connectedCallback(){super.connectedCallback()}}window.customElements.define(GraniteC3.is,GraniteC3);class GraniteInspectorObjectName extends LitElement{createRenderRoot(){return this}render(){return html$1`<span ?dimmed=${this.dimmed}>${this.name}</span>`}static get properties(){return{name:{type:String},dimmed:{type:Boolean}}}}window.customElements.define("granite-inspector-object-name",GraniteInspectorObjectName);class GraniteInspectorObjectValue extends LitElement{createRenderRoot(){return this}render(){return html$1`${this.markup(this.data,this.closed)}`}static get properties(){return{data:{type:Object},closed:{type:Boolean}}}markup(){switch(typeof this.data){case"number":return html$1`<span class='objectValueNumber'>${this.data}</span>`;case"string":return html$1`<span class='objectValueString'>"${this.data}"</span>`;case"boolean":return html$1`<span class='objectValueBoolean'>${this.data+""}</span>`;case"undefined":return html$1`<span class='objectValueUndefined'>undefined</span>`;case"object":if(null===this.data){return html$1`<span class='objectValueNull'>null</span>`}if(this.data instanceof Date){return html$1`<span>${this.data.toString()}</span>`}if(this.data instanceof RegExp){return html$1`<span class='objectValueRegExp'>${this.data.toString()}</span>`}if(this.data instanceof Array){return html$1`<span>${`Array[${this.data.length}]`}</span>`}if("Object"==this.data.constructor.name){if(this.closed){return html$1`<span>{}</span>`}return this._renderObject(this.data)}return html$1`<span>${this.data.constructor.name}</span>`;case"function":return html$1`
          <span class='objectValueFunctionKeyword'>function</span>
          <span class='objectValueFunctionName'>&nbsp;${this.data.name}()</span>
        `;case"symbol":return html$1`<span class='objectValueSymbol'>${this.data.toString()}</span>`;default:return`<span />`;}}_renderObject(object){let propertyNodes=[];for(let propertyName in object){if(Object.prototype.hasOwnProperty.call(object,propertyName)){const propertyValue=object[propertyName];let ellipsis="";if(propertyNodes.length===this.maxProperties-1&&Object.keys(object).length>this.maxProperties){ellipsis=html$1`<span></span>`}propertyNodes.push(html$1`
          <granite-inspector-object-name .name=${propertyName}></granite-inspector-object-name>
          <span>:&nbsp;</span>
          <granite-inspector-object-value .data=${propertyValue} closed></granite-inspector-object-value>
          ${ellipsis}`);if(""!=ellipsis)break}}if(0==propertyNodes.length){return html$1`${this.data.constructor.name} {}`}return html$1`
      <span>{</span>
      ${propertyNodes.map((element,i)=>html$1`${element}${i<propertyNodes.length-1?html$1`<span>,&nbsp;</span>>`:``}`)}
      <span>}</span>
  `}}window.customElements.define("granite-inspector-object-value",GraniteInspectorObjectValue);const theme={BASE_FONT_FAMILY:"monospace",BASE_FONT_SIZE:"13px",BASE_LINE_HEIGHT:"16px",BASE_BACKGROUND_COLOR:"rgb(36, 36, 36)",BASE_COLOR:"rgb(213, 213, 213)",OBJECT_NAME_COLOR:"rgb(227, 110, 236)",OBJECT_VALUE_NULL_COLOR:"rgb(127, 127, 127)",OBJECT_VALUE_UNDEFINED_COLOR:"rgb(127, 127, 127)",OBJECT_VALUE_REGEXP_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_STRING_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_SYMBOL_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_NUMBER_COLOR:"hsl(252, 100%, 75%)",OBJECT_VALUE_BOOLEAN_COLOR:"hsl(252, 100%, 75%)",OBJECT_VALUE_FUNCTION_KEYWORD_COLOR:"rgb(242, 85, 217)",HTML_TAG_COLOR:"rgb(93, 176, 215)",HTML_TAGNAME_COLOR:"rgb(93, 176, 215)",HTML_TAGNAME_TEXT_TRANSFORM:"lowercase",HTML_ATTRIBUTE_NAME_COLOR:"rgb(155, 187, 220)",HTML_ATTRIBUTE_VALUE_COLOR:"rgb(242, 151, 102)",HTML_COMMENT_COLOR:"rgb(137, 137, 137)",HTML_DOCTYPE_COLOR:"rgb(192, 192, 192)",ARROW_COLOR:"rgb(145, 145, 145)",ARROW_MARGIN_RIGHT:"3px",ARROW_FONT_SIZE:"12px",TREENODE_FONT_FAMILY:"monospace",TREENODE_FONT_SIZE:"13px",TREENODE_LINE_HEIGHT:"16px",TREENODE_PADDING_LEFT:"12px",TABLE_BORDER_COLOR:"rgb(85, 85, 85)",TABLE_TH_BACKGROUND_COLOR:"rgb(44, 44, 44)",TABLE_TH_HOVER_COLOR:"rgb(48, 48, 48)",TABLE_SORT_ICON_COLOR:"black",TABLE_DATA_BACKGROUND_IMAGE:"linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 0) 50%, rgba(51, 139, 255, 0.0980392) 50%, rgba(51, 139, 255, 0.0980392))",TABLE_DATA_BACKGROUND_SIZE:"128px 32px"};_exports.chromeDark=_exports.$chromeDarkDefault=theme;_exports.$chromeDark={default:theme};const theme$1={BASE_FONT_FAMILY:"monospace",BASE_FONT_SIZE:"13px",BASE_LINE_HEIGHT:"16px",BASE_BACKGROUND_COLOR:"white",BASE_COLOR:"black",OBJECT_NAME_COLOR:"rgb(136, 19, 145)",OBJECT_VALUE_NULL_COLOR:"rgb(128, 128, 128)",OBJECT_VALUE_UNDEFINED_COLOR:"rgb(128, 128, 128)",OBJECT_VALUE_REGEXP_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_STRING_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_SYMBOL_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_NUMBER_COLOR:"rgb(28, 0, 207)",OBJECT_VALUE_BOOLEAN_COLOR:"rgb(28, 0, 207)",OBJECT_VALUE_FUNCTION_KEYWORD_COLOR:"rgb(170, 13, 145)",HTML_TAG_COLOR:"rgb(168, 148, 166)",HTML_TAGNAME_COLOR:"rgb(136, 18, 128)",HTML_TAGNAME_TEXT_TRANSFORM:"lowercase",HTML_ATTRIBUTE_NAME_COLOR:"rgb(153, 69, 0)",HTML_ATTRIBUTE_VALUE_COLOR:"rgb(26, 26, 166)",HTML_COMMENT_COLOR:"rgb(35, 110, 37)",HTML_DOCTYPE_COLOR:"rgb(192, 192, 192)",ARROW_COLOR:"#6e6e6e",ARROW_MARGIN_RIGHT:"3px",ARROW_FONT_SIZE:"12px",TREENODE_FONT_FAMILY:"monospace",TREENODE_FONT_SIZE:"13px",TREENODE_LINE_HEIGHT:"16px",TREENODE_PADDING_LEFT:"12px",TABLE_BORDER_COLOR:"#aaa",TABLE_TH_BACKGROUND_COLOR:"#eee",TABLE_TH_HOVER_COLOR:"hsla(0, 0%, 90%, 1)",TABLE_SORT_ICON_COLOR:"#6e6e6e",TABLE_DATA_BACKGROUND_IMAGE:"linear-gradient(to bottom, white, white 50%, rgb(234, 243, 255) 50%, rgb(234, 243, 255))",TABLE_DATA_BACKGROUND_SIZE:"128px 32px"};_exports.chromeLight=_exports.$chromeLightDefault=theme$1;_exports.$chromeLight={default:theme$1};var themes={chromeDark:theme,chromeLight:theme$1};_exports.$index=themes;const baseStyles=theme$$1=>{return`
    .clickableNode {
        cursor: pointer;
    }
    dom-node-preview .htmlOpenTag {
        color: ${theme$$1.HTML_TAG_COLOR}
    }
    dom-node-preview .tagName {
        color: ${theme$$1.HTML_TAGNAME_COLOR};
        text-transform: ${theme$$1.HTML_TAGNAME_TEXT_TRANSFORM};
    }
    dom-node-preview .htmlAttributeName {
        color: ${theme$$1.HTML_ATTRIBUTE_NAME_COLOR};
    }
    dom-node-preview .htmlAttributeValue {
        color: ${theme$$1.HTML_ATTRIBUTE_VALUE_COLOR};
    }
    dom-node-preview .htmlCloseTag {
        color: ${theme$$1.HTML_TAG_COLOR};
    }
    dom-node-preview .htmlCloseTag.offsetLeft {
        /* hack: offset placeholder */
        margin-left: -${theme$$1.TREENODE_PADDING_LEFT};
    }
    dom-node-preview .htmlCloseTag.tagName {
        color: ${theme$$1.HTML_TAGNAME_COLOR};
        text-transform: ${theme$$1.HTML_TAGNAME_TEXT_TRANSFORM};  
    }
    dom-node-preview .htmlComment {
      color: ${theme$$1.HTML_COMMENT_COLOR};
    }
    dom-node-preview .htmlDoctype {
      color: ${theme$$1.HTML_DOCTYPE_COLOR};
    }
  
    granite-inspector-tree-node .treeArrow {
      display: inline-block;
      user-select: none;
      font-size: ${theme$$1.ARROW_FONT_SIZE};
      margin-right: ${theme$$1.ARROW_MARGIN_RIGHT};
      color: ${theme$$1.ARROW_COLOR};
    }

    granite-inspector-tree-node .treeArrow[expanded] {
      --webkit-transform: rotateZ(90deg);
      --moz-transform: rotateZ(90deg);
      transform: rotateZ(90deg);
    }
    
    granite-inspector-tree-node .treeNodeBase {
        cursor: default;
        box-sizing: border-box;
        list-style: none;
        color: ${theme$$1.BASE_COLOR};
        background-color: ${theme$$1.BASE_BACKGROUND_COLOR};
        line-height: ${theme$$1.TREENODE_LINE_HEIGHT};
        font-family: ${theme$$1.TREENODE_FONT_FAMILY};
        font-size: ${theme$$1.TREENODE_FONT_SIZE};
    }
    granite-inspector-tree-node .treeNodePreviewContainer {
    }
    granite-inspector-tree-node .treeNodePlaceholder {
        white-space: pre;
        user-select: none;
        font-size: ${theme$$1.ARROW_FONT_SIZE}
        margin-right: ${theme$$1.ARROW_MARGIN_RIGHT};
    }
    granite-inspector-tree-node .treeNodeChildNodesContainer {
        display: none;
        margin: 0;
        padding-left: ${theme$$1.TREENODE_PADDING_LEFT};
    }
    granite-inspector-tree-node .treeNodeChildNodesContainer[expanded] {
        display: block;
    }


    granite-inspector-object-name  {
        color: ${theme$$1.OBJECT_NAME_COLOR};
    }
    granite-inspector-object-name.dimmed {
        opacity: 0.6;
    }
    granite-inspector-object-value .objectValueNull {
        color: ${theme$$1.OBJECT_VALUE_NULL_COLOR};
    }
    granite-inspector-object-value .objectValueUndefined {
        color: ${theme$$1.OBJECT_VALUE_UNDEFINED_COLOR};
    }
    granite-inspector-object-value .objectValueRegExp {
        color: ${theme$$1.OBJECT_VALUE_REGEXP_COLOR};
    }
    granite-inspector-object-value .objectValueString {
        color: ${theme$$1.OBJECT_VALUE_STRING_COLOR};
    }
    granite-inspector-object-value .objectValueSymbol {
        color: ${theme$$1.OBJECT_VALUE_SYMBOL_COLOR};
    }
    granite-inspector-object-value .objectValueNumber {
        color: ${theme$$1.OBJECT_VALUE_NUMBER_COLOR};
    }
    granite-inspector-object-value .objectValueBoolean {
        color: ${theme$$1.OBJECT_VALUE_BOOLEAN_COLOR};
    }
    granite-inspector-object-value .objectValueFunctionKeyword {
        color: ${theme$$1.OBJECT_VALUE_FUNCTION_KEYWORD_COLOR};
        font-style: italic;
    }
    granite-inspector-object-value .objectValueFunctionName {
        font-style: italic;
    }

    granite-inspector-object-preview {
        font-style: italic;
    }

    granite-inspector-object-label,
    granite-inspector-object-preview,
    granite-inspector-object-value  {
        font-size: 0px;
    }
    granite-inspector-object-label span,
    granite-inspector-object-preview span,
    granite-inspector-object-value span {
        font-size: ${theme$$1.TREENODE_FONT_SIZE};
    }

    table-inspector  {
        line-height: 120%;
        box-sizing: border-box;
        cursor: default;
        position: relative;
        border: 1px solid ${theme$$1.TABLE_BORDER_COLOR};
        color: ${theme$$1.BASE_COLOR};
        font-family: ${theme$$1.BASE_FONT_FAMILY};
        font-size: ${theme$$1.BASE_FONT_SIZE};
    }
  
    table-inspector-header-container {
        top: 0;
        height: 17px;
        left: 0;
        right: 0;
        overflow-x: hidden;
    }

    table {
        table-layout: fixed;
        border-spacing: 0;
        border-collapse: separate;
        height: 100%;
        width: 100%;
        margin: 0;
    }
  

    table-inspector-data-container tr {
        display: table-row;
    }
    table-inspector-data-container td {
      box-sizing: border-box;
      border: none; 
      height: 16px; /* 0.5 * table.background-size height */
      vertical-align: top;
      padding: 1px 4px;

      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      line-height: 14px;
    }
    table-inspector-data-container div {
      position: static;
      top: 17px;
      bottom: 0;
      overflow-y: overlay;
      transform: translateZ(0);

      left: 0;
      right: 0;
      overflow-x: hidden;
    }
    table-inspector-data-container table {
      position: static;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      border-top: 0 none transparent;
      margin: 0;
      width: 100%;
      table-layout: fixed;
      border-spacing: 0;
      border-collapse: separate;
      line-height: 120%;
      background-image: ${theme$$1.TABLE_DATA_BACKGROUND_IMAGE};
      background-size: ${theme$$1.TABLE_DATA_BACKGROUND_SIZE};
      font-size: ${theme$$1.BASE_FONT_SIZE};
    }
  

    table-inspector-th {
      position: relative;
      height: auto;
      text-align: left;
      font-weight: normal;
      vertical-align: middle;
      padding: 0 4px;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      line-height: 14px;
      background-color: ${theme$$1.TABLE_TH_BACKGROUND_COLOR};
      border-bottom: 1px solid ${theme$$1.TABLE_BORDER_COLOR};
    }

    table-inspector-th:hover {
      background-color: ${theme$$1.TABLE_TH_HOVER_COLOR};
    }

    table-inspector-th  div {
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      line-height: 120%;
      font-size: ${theme$$1.BASE_FONT_SIZE};
    }
  
    table-inspector-left-border.none {
        border-left: none;
    }

    table-inspector-left-border.solid {
        border-left: 1px solid ${theme$$1.TABLE_BORDER_COLOR};
    }

    table-inspector-sort-icon {
      display: block;
      margin-right: 3; 
      width: 8;
      height: 7;

      margin-top: -7;
      font-size: 12px;
      user-select: none;
      color: ${theme$$1.TABLE_SORT_ICON_COLOR};
    }


`};_exports.createStyles=baseStyles;const styles=Object.keys(themes).reduce((styles,themeName)=>{styles[themeName]=baseStyles(themes[themeName]);return styles},{});_exports.$createStylesDefault=styles;_exports.$createStyles={default:styles,createStyles:baseStyles};const DEFAULT_ROOT_PATH="$";_exports.DEFAULT_ROOT_PATH=DEFAULT_ROOT_PATH;const WILDCARD="*";function hasChildNodes(data,dataIterator){return!dataIterator(data).next().done}const wildcardPathsFromLevel=level=>{return Array.from({length:level},(_,i)=>[DEFAULT_ROOT_PATH].concat(Array.from({length:i},()=>"*")).join("."))};_exports.wildcardPathsFromLevel=wildcardPathsFromLevel;const getExpandedPaths=(data,dataIterator,expandPaths,expandLevel,initialState={})=>{if(dataIterator==void 0){return{}}let wildcardPaths=[].concat(wildcardPathsFromLevel(expandLevel)).concat(expandPaths).filter(path=>"string"===typeof path);const expandedPaths=[];wildcardPaths.forEach(wildcardPath=>{const keyPaths=wildcardPath.split("."),populatePaths=(curData,curPath,depth)=>{if(depth===keyPaths.length){expandedPaths.push(curPath);return}const key=keyPaths[depth];if(0===depth){if(hasChildNodes(curData,dataIterator)&&(key===DEFAULT_ROOT_PATH||key===WILDCARD)){populatePaths(curData,DEFAULT_ROOT_PATH,depth+1)}}else{if(key===WILDCARD){for(let{name,data}of dataIterator(curData)){if(hasChildNodes(data,dataIterator)){populatePaths(data,`${curPath}.${name}`,depth+1)}}}else{const value=curData[key];if(hasChildNodes(value,dataIterator)){populatePaths(value,`${curPath}.${key}`,depth+1)}}}};populatePaths(data,"",0)});return expandedPaths.reduce((obj,path)=>{obj[path]=!0;return obj},initialState)};_exports.getExpandedPaths=getExpandedPaths;_exports.$pathUtils={DEFAULT_ROOT_PATH:DEFAULT_ROOT_PATH,hasChildNodes:hasChildNodes,wildcardPathsFromLevel:wildcardPathsFromLevel,getExpandedPaths:getExpandedPaths};class GraniteInspectorTreeNode extends LitElement{createRenderRoot(){return this}render(){let expandable=this.shouldShowArrow&&0<this.childTreeNodes.length;return html$1`
      <li 
          ?aria-expanded=${this.expanded} 
          role="treeitem" 
          class='treeNodeBase' 
          @click="${evt=>this.toggleExpand(evt)}">
        <div  path=${this.path} class="treeNodePreviewContainer clickableNode">
          ${expandable?html$1`<div class="treeArrow" ?expanded=${this.expanded}></div>`:this.shouldShowPlaceholder?html$1`<span class="treeNodePlaceholder">&nbsp;</span>`:""}
          ${this.nodeRenderer(this)}
        </div>
        ${this.expanded?html$1`
          <div>
            ${0<this.childTreeNodes.length?html$1`
                <ol role="group" class="treeNodeChildNodesContainer"  ?expanded=${this.expanded}>
                  ${this.childTreeNodes}
                </ol>`:""}
          </div>
          `:``}
      </li>
    `}static get properties(){return{data:{type:Object},name:{type:String},path:{type:String},showNonEnumerable:{type:Boolean},nodeRenderer:{type:Function},dataIterator:{type:Function},childTreeNodes:{type:Array},expanded:{type:Boolean},depth:{type:Number},shouldShowArrow:{type:Boolean},sortObjectKeys:{type:Boolean},shouldShowPlaceholder:{type:Boolean},onClick:{type:Function}}}constructor(){super();this.expanded=!0;this.nodeRenderer=({name})=>html$1`
      <span>
        ${name}
      </span>
    `;this.shouldShowArrow=!1;this.shouldShowPlaceholder=!0}connectedCallback(){super.connectedCallback()}toggleExpand(evt){evt.stopPropagation();this.expanded=!this.expanded}}window.customElements.define("granite-inspector-tree-node",GraniteInspectorTreeNode);class GraniteInspectorConnectedTreeNode extends LitElement{createRenderRoot(){return this}render(){return html$1`
      <granite-inspector-tree-node
          .name=${this.name}
          .path=${this.path}
          .data=${this.data}
          .expanded=${this.expandedPaths&&!!this.expandedPaths[this.path]}
          .depth=${this.depth}
          .childTreeNodes="${this.dataIterator?this.generateChildren(this.data,this.path):""}"
          .nodeRenderer=${this.nodeRenderer}
          .shouldShowArrow=${this.hasChildNodes(this.data)}
          .showNonEnumerable=${this.showNonEnumerable}
          .sortObjectKeys=${this.sortObjectKeys}
          .shouldShowPlaceholder=${0<this.depth} ></granite-inspector-tree-node>
    `}static get properties(){return{data:{type:Object},name:{type:String},expandLevel:{type:Number},expandPaths:{type:Object},path:{type:String},showNonEnumerable:{type:Boolean},nodeRenderer:{type:Function},dataIterator:{type:Function},expandedPaths:{type:Object},isNotEnumerable:{type:Boolean},expanded:{type:Boolean},depth:{type:Number}}}connectedCallback(){super.connectedCallback()}hasChildNodes(parentData){if(!this.dataIterator){return!1}return this.dataIterator(parentData).next().done!==void 0}generateChildren(parentData,parentPath){let childTreeNodes=[];for(let item of this.dataIterator(parentData)){let{name,data,isNonEnumerable}=item;childTreeNodes.push(html$1`
        <granite-inspector-connected-tree-node
            .name=${name}
            .data=${data}
            .depth=${this.depth+1}
            .path=${`${parentPath}.${name}`}
            .shouldShowArrow=${isNonEnumerable||!1}
            .showNonEnumerable=${this.showNonEnumerable?this.showNonEnumerable:isNonEnumerable}
            .sortObjectKeys=${this.sortObjectKeys}
            .dataIterator=${this.dataIterator}
            .nodeRenderer=${this.nodeRenderer}
            .expandedPaths=${this.expandedPaths}></granite-inspector-connected-tree-node>`)}return childTreeNodes}}window.customElements.define("granite-inspector-connected-tree-node",GraniteInspectorConnectedTreeNode);class GraniteInspectorTreeView extends LitElement{createRenderRoot(){return this}render(){return html$1`
    <granite-inspector-connected-tree-node
        .name=${this.name}
        .data=${this.data}
        .depth=${0}
        .path=${this.DEFAULT_ROOT_PATH}
        .showNonEnumerable=${this.showNonEnumerable}
        .sortObjectKeys=${this.sortObjectKeys}
        .dataIterator=${this.dataIterator}
        .nodeRenderer=${this.nodeRenderer}
        .expandedPaths=${getExpandedPaths(this.data,this.dataIterator,this.expandPaths,this.expandLevel)}></granite-inspector-connected-tree-node>
    `}static get properties(){return{data:{type:Object},name:{type:String},expandLevel:{type:Number},expandPaths:{type:Object},sortObjectKeys:{type:Object},showNonEnumerable:{type:Boolean},nodeRenderer:{type:Function},dataIterator:{type:Function}}}constructor(){super();this.DEFAULT_ROOT_PATH="$";this.WILDCARD="*"}connectedCallback(){super.connectedCallback();this.getExpandedPaths()}hasChildNodes(data){return this.dataIterator&&!this.dataIterator(data).next().done}wildcardPathsFromLevel(level){return Array.from({length:level},(_,i)=>{return[this.DEFAULT_ROOT_PATH].concat(Array.from({length:i},()=>"*")).join(".")})}getExpandedPaths(){let wildcardPaths=[].concat(this.wildcardPathsFromLevel(this.expandLevel)).concat(this.expandPaths).filter(path=>"string"===typeof path);const expandedPaths=[];wildcardPaths.forEach(wildcardPath=>{const keyPaths=wildcardPath.split("."),populatePaths=(curData,curPath,depth)=>{if(depth===keyPaths.length){expandedPaths.push(curPath);return}const key=keyPaths[depth];if(0===depth){if(this.hasChildNodes(curData)&&(key===this.DEFAULT_ROOT_PATH||key===this.WILDCARD)){populatePaths(curData,this.DEFAULT_ROOT_PATH,depth+1)}}else{if(key===this.WILDCARD){for(let{name,data}of this.dataIterator(curData)){if(this.hasChildNodes(data)){populatePaths(data,`${curPath}.${name}`,depth+1)}}}else{const value=curData[key];if(this.hasChildNodes(value,this.dataIterator)){populatePaths(value,`${curPath}.${key}`,depth+1)}}}};populatePaths(this.data,"",0)});this.expandedPaths=expandedPaths.reduce((obj,path)=>{obj[path]=!0;return obj},{})}}window.customElements.define("granite-inspector-tree-view",GraniteInspectorTreeView);class GraniteSpinner extends LitElement{static get properties(){return{active:{type:Boolean,reflect:!0},hover:{type:Boolean,reflect:!0},size:{type:Number},color:{type:String},lineWidth:{type:String},containerHeight:{type:Number,value:150},debug:{type:Boolean}}}constructor(){super();this.size=100;this.color="#28b6d8";this.lineWidth="1.5em";this.containerHeight=150}firstUpdated(){if(this.debug){console.log("[granite-spinner] firstUpdated")}}shouldUpdate(){if(this.debug){console.log("[granite-spinner] shouldUpdate",this.lineWidth)}return!0}render(){if(!this.active){return}return html$1`
      ${this._renderStyles()}      
      <div id="spinner-container">
        <div id="spinner" class="loading">
        </div>
      </div>
    `}_renderStyles(){return html$1`
      <style>
        @charset "UTF-8";

        /**
        @license MIT
        Copyright (c) 2015 Horacio "LostInBrittany" Gonzalez
        */
        
        :host {
          display: inline-block;
          position: relative;
          width:100%;
        }
        #spinner-container {
          display: flex;
          justify-content: center;
          align-items: center;
          position: relative;
          width:100%;

          position: ${this.hover?`absolute`:`relative`};
          min-width: ${this.size}px;
          min-height: ${this.size}px;
          height: ${_Mathmax(this.size,this.containerHeight,200)}px;
        }
        #spinner {
          margin: 60px auto;
          font-size: 10px;
          position: relative;
          text-indent: -9999em;
        
          border: 1.5em solid rgba(210,210,210, 1);
          border-left: 1.5em solid #28b6d8;
          -webkit-transform: translateZ(0);
          -ms-transform: translateZ(0);
          transform: translateZ(0);
          -webkit-animation: load8 1.25s infinite linear;
          animation: load8 1.25s infinite linear;          
          
          border-left-color: ${this.color};
          border-width: ${this.lineWidth};
        }
        
        #spinner,
        #spinner:after {
          border-radius: 50%;
          width: ${this.size?`${this.size}px`:`10em`};
          height: ${this.size?`${this.size}px`:`10em`};
        }

        @-webkit-keyframes load8 {
          0% {
            -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
          }
          100% {
            -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
          }
        }
        @keyframes load8 {
          0% {
            -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
          }
          100% {
            -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
          }
        }      

      </style>
      
    `}}window.customElements.define("granite-spinner",GraniteSpinner);(function(f){if("object"===typeof exports&&"undefined"!==typeof module){module.exports=f()}else if("function"===typeof define&&define.amd){define([],f)}else{var g;if("undefined"!==typeof window){g=window}else if("undefined"!==typeof global){g=global}else if("undefined"!==typeof self){g=self}else{g=this}g.jsyaml=f()}})(function(){var _NumberNEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module){var loader=require("./js-yaml/loader"),dumper=require("./js-yaml/dumper");function deprecated(name){return function(){throw new Error("Function "+name+" is deprecated and cannot be used.")}}module.exports.Type=require("./js-yaml/type");module.exports.Schema=require("./js-yaml/schema");module.exports.FAILSAFE_SCHEMA=require("./js-yaml/schema/failsafe");module.exports.JSON_SCHEMA=require("./js-yaml/schema/json");module.exports.CORE_SCHEMA=require("./js-yaml/schema/core");module.exports.DEFAULT_SAFE_SCHEMA=require("./js-yaml/schema/default_safe");module.exports.DEFAULT_FULL_SCHEMA=require("./js-yaml/schema/default_full");module.exports.load=loader.load;module.exports.loadAll=loader.loadAll;module.exports.safeLoad=loader.safeLoad;module.exports.safeLoadAll=loader.safeLoadAll;module.exports.dump=dumper.dump;module.exports.safeDump=dumper.safeDump;module.exports.YAMLException=require("./js-yaml/exception");module.exports.MINIMAL_SCHEMA=require("./js-yaml/schema/failsafe");module.exports.SAFE_SCHEMA=require("./js-yaml/schema/default_safe");module.exports.DEFAULT_SCHEMA=require("./js-yaml/schema/default_full");module.exports.scan=deprecated("scan");module.exports.parse=deprecated("parse");module.exports.compose=deprecated("compose");module.exports.addConstructor=deprecated("addConstructor")},{"./js-yaml/dumper":3,"./js-yaml/exception":4,"./js-yaml/loader":5,"./js-yaml/schema":7,"./js-yaml/schema/core":8,"./js-yaml/schema/default_full":9,"./js-yaml/schema/default_safe":10,"./js-yaml/schema/failsafe":11,"./js-yaml/schema/json":12,"./js-yaml/type":13}],2:[function(require,module){function isNothing(subject){return"undefined"===typeof subject||null===subject}module.exports.isNothing=isNothing;module.exports.isObject=function(subject){return"object"===typeof subject&&null!==subject};module.exports.toArray=function(sequence){if(Array.isArray(sequence))return sequence;else if(isNothing(sequence))return[];return[sequence]};module.exports.repeat=function(string,count){var result="",cycle;for(cycle=0;cycle<count;cycle+=1){result+=string}return result};module.exports.isNegativeZero=function(number){return 0===number&&_NumberNEGATIVE_INFINITY===1/number};module.exports.extend=function(target,source){var index,length,key,sourceKeys;if(source){sourceKeys=Object.keys(source);for(index=0,length=sourceKeys.length;index<length;index+=1){key=sourceKeys[index];target[key]=source[key]}}return target}},{}],3:[function(require,module){var common=require("./common"),YAMLException=require("./exception"),DEFAULT_FULL_SCHEMA=require("./schema/default_full"),DEFAULT_SAFE_SCHEMA=require("./schema/default_safe"),_toString=Object.prototype.toString,_hasOwnProperty=Object.prototype.hasOwnProperty,CHAR_LINE_FEED=10,CHAR_SHARP=35,CHAR_COMMA=44,CHAR_COLON=58,CHAR_LEFT_SQUARE_BRACKET=91,CHAR_RIGHT_SQUARE_BRACKET=93,CHAR_LEFT_CURLY_BRACKET=123,CHAR_RIGHT_CURLY_BRACKET=125,ESCAPE_SEQUENCES={};ESCAPE_SEQUENCES[0]="\\0";ESCAPE_SEQUENCES[7]="\\a";ESCAPE_SEQUENCES[8]="\\b";ESCAPE_SEQUENCES[9]="\\t";ESCAPE_SEQUENCES[10]="\\n";ESCAPE_SEQUENCES[11]="\\v";ESCAPE_SEQUENCES[12]="\\f";ESCAPE_SEQUENCES[13]="\\r";ESCAPE_SEQUENCES[27]="\\e";ESCAPE_SEQUENCES[34]="\\\"";ESCAPE_SEQUENCES[92]="\\\\";ESCAPE_SEQUENCES[133]="\\N";ESCAPE_SEQUENCES[160]="\\_";ESCAPE_SEQUENCES[8232]="\\L";ESCAPE_SEQUENCES[8233]="\\P";var DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function compileStyleMap(schema,map){var result,keys,index,length,tag,style,type;if(null===map)return{};result={};keys=Object.keys(map);for(index=0,length=keys.length;index<length;index+=1){tag=keys[index];style=map[tag]+"";if("!!"===tag.slice(0,2)){tag="tag:yaml.org,2002:"+tag.slice(2)}type=schema.compiledTypeMap.fallback[tag];if(type&&_hasOwnProperty.call(type.styleAliases,style)){style=type.styleAliases[style]}result[tag]=style}return result}function encodeHex(character){var string,handle,length;string=character.toString(16).toUpperCase();if(255>=character){handle="x";length=2}else if(65535>=character){handle="u";length=4}else if(4294967295>=character){handle="U";length=8}else{throw new YAMLException("code point within a string may not be greater than 0xFFFFFFFF")}return"\\"+handle+common.repeat("0",length-string.length)+string}function State(options){this.schema=options.schema||DEFAULT_FULL_SCHEMA;this.indent=_Mathmax(1,options.indent||2);this.skipInvalid=options.skipInvalid||!1;this.flowLevel=common.isNothing(options.flowLevel)?-1:options.flowLevel;this.styleMap=compileStyleMap(this.schema,options.styles||null);this.sortKeys=options.sortKeys||!1;this.lineWidth=options.lineWidth||80;this.noRefs=options.noRefs||!1;this.noCompatMode=options.noCompatMode||!1;this.condenseFlow=options.condenseFlow||!1;this.implicitTypes=this.schema.compiledImplicit;this.explicitTypes=this.schema.compiledExplicit;this.tag=null;this.result="";this.duplicates=[];this.usedDuplicates=null}function indentString(string,spaces){var ind=common.repeat(" ",spaces),position=0,next=-1,result="",line,length=string.length;while(position<length){next=string.indexOf("\n",position);if(-1===next){line=string.slice(position);position=length}else{line=string.slice(position,next+1);position=next+1}if(line.length&&"\n"!==line)result+=ind;result+=line}return result}function generateNextLine(state,level){return"\n"+common.repeat(" ",state.indent*level)}function testImplicitResolving(state,str){var index,length,type;for(index=0,length=state.implicitTypes.length;index<length;index+=1){type=state.implicitTypes[index];if(type.resolve(str)){return!0}}return!1}function isWhitespace(c){return c===32||c===9}function isPrintable(c){return 32<=c&&126>=c||161<=c&&55295>=c&&8232!==c&&8233!==c||57344<=c&&65533>=c&&65279!==c||65536<=c&&1114111>=c}function isPlainSafe(c){return isPrintable(c)&&65279!==c&&c!==CHAR_COMMA&&c!==CHAR_LEFT_SQUARE_BRACKET&&c!==CHAR_RIGHT_SQUARE_BRACKET&&c!==CHAR_LEFT_CURLY_BRACKET&&c!==CHAR_RIGHT_CURLY_BRACKET&&c!==CHAR_COLON&&c!==CHAR_SHARP}function isPlainSafeFirst(c){return isPrintable(c)&&65279!==c&&!isWhitespace(c)&&c!==45&&c!==63&&c!==CHAR_COLON&&c!==CHAR_COMMA&&c!==CHAR_LEFT_SQUARE_BRACKET&&c!==CHAR_RIGHT_SQUARE_BRACKET&&c!==CHAR_LEFT_CURLY_BRACKET&&c!==CHAR_RIGHT_CURLY_BRACKET&&c!==CHAR_SHARP&&c!==38&&c!==42&&c!==33&&c!==124&&c!==62&&c!==39&&c!==34&&c!==37&&c!==64&&c!==96}function needIndentIndicator(string){var leadingSpaceRe=/^\n* /;return leadingSpaceRe.test(string)}var STYLE_PLAIN=1,STYLE_SINGLE=2,STYLE_LITERAL=3,STYLE_FOLDED=4,STYLE_DOUBLE=5;function chooseScalarStyle(string,singleLineOnly,indentPerLevel,lineWidth,testAmbiguousType){var i,char,hasLineBreak=!1,hasFoldableLine=!1,shouldTrackWidth=-1!==lineWidth,previousLineBreak=-1,plain=isPlainSafeFirst(string.charCodeAt(0))&&!isWhitespace(string.charCodeAt(string.length-1));if(singleLineOnly){for(i=0;i<string.length;i++){char=string.charCodeAt(i);if(!isPrintable(char)){return STYLE_DOUBLE}plain=plain&&isPlainSafe(char)}}else{for(i=0;i<string.length;i++){char=string.charCodeAt(i);if(char===CHAR_LINE_FEED){hasLineBreak=!0;if(shouldTrackWidth){hasFoldableLine=hasFoldableLine||i-previousLineBreak-1>lineWidth&&" "!==string[previousLineBreak+1];previousLineBreak=i}}else if(!isPrintable(char)){return STYLE_DOUBLE}plain=plain&&isPlainSafe(char)}hasFoldableLine=hasFoldableLine||shouldTrackWidth&&i-previousLineBreak-1>lineWidth&&" "!==string[previousLineBreak+1]}if(!hasLineBreak&&!hasFoldableLine){return plain&&!testAmbiguousType(string)?STYLE_PLAIN:STYLE_SINGLE}if(9<indentPerLevel&&needIndentIndicator(string)){return STYLE_DOUBLE}return hasFoldableLine?STYLE_FOLDED:STYLE_LITERAL}function writeScalar(state,string,level,iskey){state.dump=function(){if(0===string.length){return"''"}if(!state.noCompatMode&&-1!==DEPRECATED_BOOLEANS_SYNTAX.indexOf(string)){return"'"+string+"'"}var indent=state.indent*_Mathmax(1,level),lineWidth=-1===state.lineWidth?-1:_Mathmax(_Mathmin(state.lineWidth,40),state.lineWidth-indent),singleLineOnly=iskey||-1<state.flowLevel&&level>=state.flowLevel;function testAmbiguity(string){return testImplicitResolving(state,string)}switch(chooseScalarStyle(string,singleLineOnly,state.indent,lineWidth,testAmbiguity)){case STYLE_PLAIN:return string;case STYLE_SINGLE:return"'"+string.replace(/'/g,"''")+"'";case STYLE_LITERAL:return"|"+blockHeader(string,state.indent)+dropEndingNewline(indentString(string,indent));case STYLE_FOLDED:return">"+blockHeader(string,state.indent)+dropEndingNewline(indentString(foldString(string,lineWidth),indent));case STYLE_DOUBLE:return"\""+escapeString(string,lineWidth)+"\"";default:throw new YAMLException("impossible error: invalid scalar style");}}()}function blockHeader(string,indentPerLevel){var indentIndicator=needIndentIndicator(string)?indentPerLevel+"":"",clip="\n"===string[string.length-1],keep=clip&&("\n"===string[string.length-2]||"\n"===string),chomp=keep?"+":clip?"":"-";return indentIndicator+chomp+"\n"}function dropEndingNewline(string){return"\n"===string[string.length-1]?string.slice(0,-1):string}function foldString(string,width){var lineRe=/(\n+)([^\n]*)/g,result=function(){var nextLF=string.indexOf("\n");nextLF=-1!==nextLF?nextLF:string.length;lineRe.lastIndex=nextLF;return foldLine(string.slice(0,nextLF),width)}(),prevMoreIndented="\n"===string[0]||" "===string[0],moreIndented,match;while(match=lineRe.exec(string)){var prefix=match[1],line=match[2];moreIndented=" "===line[0];result+=prefix+(!prevMoreIndented&&!moreIndented&&""!==line?"\n":"")+foldLine(line,width);prevMoreIndented=moreIndented}return result}function foldLine(line,width){if(""===line||" "===line[0])return line;var breakRe=/ [^ ]/g,match,start=0,end,curr=0,next=0,result="";while(match=breakRe.exec(line)){next=match.index;if(next-start>width){end=curr>start?curr:next;result+="\n"+line.slice(start,end);start=end+1}curr=next}result+="\n";if(line.length-start>width&&curr>start){result+=line.slice(start,curr)+"\n"+line.slice(curr+1)}else{result+=line.slice(start)}return result.slice(1)}function escapeString(string){for(var result="",char,nextChar,escapeSeq,i=0;i<string.length;i++){char=string.charCodeAt(i);if(55296<=char&&56319>=char){nextChar=string.charCodeAt(i+1);if(56320<=nextChar&&57343>=nextChar){result+=encodeHex(1024*(char-55296)+nextChar-56320+65536);i++;continue}}escapeSeq=ESCAPE_SEQUENCES[char];result+=!escapeSeq&&isPrintable(char)?string[i]:escapeSeq||encodeHex(char)}return result}function writeFlowSequence(state,level,object){var _result="",_tag=state.tag,index,length;for(index=0,length=object.length;index<length;index+=1){if(writeNode(state,level,object[index],!1,!1)){if(0!==index)_result+=","+(!state.condenseFlow?" ":"");_result+=state.dump}}state.tag=_tag;state.dump="["+_result+"]"}function writeBlockSequence(state,level,object,compact){var _result="",_tag=state.tag,index,length;for(index=0,length=object.length;index<length;index+=1){if(writeNode(state,level+1,object[index],!0,!0)){if(!compact||0!==index){_result+=generateNextLine(state,level)}if(state.dump&&CHAR_LINE_FEED===state.dump.charCodeAt(0)){_result+="-"}else{_result+="- "}_result+=state.dump}}state.tag=_tag;state.dump=_result||"[]"}function writeFlowMapping(state,level,object){var _result="",_tag=state.tag,objectKeyList=Object.keys(object),index,length,objectKey,objectValue,pairBuffer;for(index=0,length=objectKeyList.length;index<length;index+=1){pairBuffer=state.condenseFlow?"\"":"";if(0!==index)pairBuffer+=", ";objectKey=objectKeyList[index];objectValue=object[objectKey];if(!writeNode(state,level,objectKey,!1,!1)){continue}if(1024<state.dump.length)pairBuffer+="? ";pairBuffer+=state.dump+(state.condenseFlow?"\"":"")+":"+(state.condenseFlow?"":" ");if(!writeNode(state,level,objectValue,!1,!1)){continue}pairBuffer+=state.dump;_result+=pairBuffer}state.tag=_tag;state.dump="{"+_result+"}"}function writeBlockMapping(state,level,object,compact){var _result="",_tag=state.tag,objectKeyList=Object.keys(object),index,length,objectKey,objectValue,explicitPair,pairBuffer;if(!0===state.sortKeys){objectKeyList.sort()}else if("function"===typeof state.sortKeys){objectKeyList.sort(state.sortKeys)}else if(state.sortKeys){throw new YAMLException("sortKeys must be a boolean or a function")}for(index=0,length=objectKeyList.length;index<length;index+=1){pairBuffer="";if(!compact||0!==index){pairBuffer+=generateNextLine(state,level)}objectKey=objectKeyList[index];objectValue=object[objectKey];if(!writeNode(state,level+1,objectKey,!0,!0,!0)){continue}explicitPair=null!==state.tag&&"?"!==state.tag||state.dump&&1024<state.dump.length;if(explicitPair){if(state.dump&&CHAR_LINE_FEED===state.dump.charCodeAt(0)){pairBuffer+="?"}else{pairBuffer+="? "}}pairBuffer+=state.dump;if(explicitPair){pairBuffer+=generateNextLine(state,level)}if(!writeNode(state,level+1,objectValue,!0,explicitPair)){continue}if(state.dump&&CHAR_LINE_FEED===state.dump.charCodeAt(0)){pairBuffer+=":"}else{pairBuffer+=": "}pairBuffer+=state.dump;_result+=pairBuffer}state.tag=_tag;state.dump=_result||"{}"}function detectType(state,object,explicit){var _result,typeList,index,length,type,style;typeList=explicit?state.explicitTypes:state.implicitTypes;for(index=0,length=typeList.length;index<length;index+=1){type=typeList[index];if((type.instanceOf||type.predicate)&&(!type.instanceOf||"object"===typeof object&&object instanceof type.instanceOf)&&(!type.predicate||type.predicate(object))){state.tag=explicit?type.tag:"?";if(type.represent){style=state.styleMap[type.tag]||type.defaultStyle;if("[object Function]"===_toString.call(type.represent)){_result=type.represent(object,style)}else if(_hasOwnProperty.call(type.represent,style)){_result=type.represent[style](object,style)}else{throw new YAMLException("!<"+type.tag+"> tag resolver accepts not \""+style+"\" style")}state.dump=_result}return!0}}return!1}function writeNode(state,level,object,block,compact,iskey){state.tag=null;state.dump=object;if(!detectType(state,object,!1)){detectType(state,object,!0)}var type=_toString.call(state.dump);if(block){block=0>state.flowLevel||state.flowLevel>level}var objectOrArray="[object Object]"===type||"[object Array]"===type,duplicateIndex,duplicate;if(objectOrArray){duplicateIndex=state.duplicates.indexOf(object);duplicate=-1!==duplicateIndex}if(null!==state.tag&&"?"!==state.tag||duplicate||2!==state.indent&&0<level){compact=!1}if(duplicate&&state.usedDuplicates[duplicateIndex]){state.dump="*ref_"+duplicateIndex}else{if(objectOrArray&&duplicate&&!state.usedDuplicates[duplicateIndex]){state.usedDuplicates[duplicateIndex]=!0}if("[object Object]"===type){if(block&&0!==Object.keys(state.dump).length){writeBlockMapping(state,level,state.dump,compact);if(duplicate){state.dump="&ref_"+duplicateIndex+state.dump}}else{writeFlowMapping(state,level,state.dump);if(duplicate){state.dump="&ref_"+duplicateIndex+" "+state.dump}}}else if("[object Array]"===type){if(block&&0!==state.dump.length){writeBlockSequence(state,level,state.dump,compact);if(duplicate){state.dump="&ref_"+duplicateIndex+state.dump}}else{writeFlowSequence(state,level,state.dump);if(duplicate){state.dump="&ref_"+duplicateIndex+" "+state.dump}}}else if("[object String]"===type){if("?"!==state.tag){writeScalar(state,state.dump,level,iskey)}}else{if(state.skipInvalid)return!1;throw new YAMLException("unacceptable kind of an object to dump "+type)}if(null!==state.tag&&"?"!==state.tag){state.dump="!<"+state.tag+"> "+state.dump}}return!0}function getDuplicateReferences(object,state){var objects=[],duplicatesIndexes=[],index,length;inspectNode(object,objects,duplicatesIndexes);for(index=0,length=duplicatesIndexes.length;index<length;index+=1){state.duplicates.push(objects[duplicatesIndexes[index]])}state.usedDuplicates=Array(length)}function inspectNode(object,objects,duplicatesIndexes){var objectKeyList,index,length;if(null!==object&&"object"===typeof object){index=objects.indexOf(object);if(-1!==index){if(-1===duplicatesIndexes.indexOf(index)){duplicatesIndexes.push(index)}}else{objects.push(object);if(Array.isArray(object)){for(index=0,length=object.length;index<length;index+=1){inspectNode(object[index],objects,duplicatesIndexes)}}else{objectKeyList=Object.keys(object);for(index=0,length=objectKeyList.length;index<length;index+=1){inspectNode(object[objectKeyList[index]],objects,duplicatesIndexes)}}}}}function dump(input,options){options=options||{};var state=new State(options);if(!state.noRefs)getDuplicateReferences(input,state);if(writeNode(state,0,input,!0,!0))return state.dump+"\n";return""}module.exports.dump=dump;module.exports.safeDump=function(input,options){return dump(input,common.extend({schema:DEFAULT_SAFE_SCHEMA},options))}},{"./common":2,"./exception":4,"./schema/default_full":9,"./schema/default_safe":10}],4:[function(require,module){function YAMLException(reason,mark){Error.call(this);this.name="YAMLException";this.reason=reason;this.mark=mark;this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():"");if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}else{this.stack=new Error().stack||""}}YAMLException.prototype=Object.create(Error.prototype);YAMLException.prototype.constructor=YAMLException;YAMLException.prototype.toString=function(compact){var result=this.name+": ";result+=this.reason||"(unknown reason)";if(!compact&&this.mark){result+=" "+this.mark.toString()}return result};module.exports=YAMLException},{}],5:[function(require,module){var common=require("./common"),YAMLException=require("./exception"),Mark=require("./mark"),DEFAULT_SAFE_SCHEMA=require("./schema/default_safe"),DEFAULT_FULL_SCHEMA=require("./schema/default_full"),_hasOwnProperty=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function is_EOL(c){return 10===c||13===c}function is_WHITE_SPACE(c){return 9===c||32===c}function is_WS_OR_EOL(c){return 9===c||32===c||10===c||13===c}function is_FLOW_INDICATOR(c){return 44===c||91===c||93===c||123===c||125===c}function fromHexCode(c){var lc;if(48<=c&&57>=c){return c-48}lc=32|c;if(97<=lc&&102>=lc){return lc-97+10}return-1}function escapedHexLen(c){if(120===c){return 2}if(117===c){return 4}if(85===c){return 8}return 0}function fromDecimalCode(c){if(48<=c&&57>=c){return c-48}return-1}function simpleEscapeSequence(c){return 48===c?"\0":97===c?"\x07":98===c?"\b":116===c?"\t":9===c?"\t":110===c?"\n":118===c?"\x0B":102===c?"\f":114===c?"\r":101===c?"\x1B":32===c?" ":34===c?"\"":47===c?"/":92===c?"\\":78===c?"\x85":95===c?"\xA0":76===c?"\u2028":80===c?"\u2029":""}function charFromCodepoint(c){if(65535>=c){return _StringfromCharCode(c)}return _StringfromCharCode((c-65536>>10)+55296,(1023&c-65536)+56320)}for(var simpleEscapeCheck=Array(256),simpleEscapeMap=Array(256),i=0;256>i;i++){simpleEscapeCheck[i]=simpleEscapeSequence(i)?1:0;simpleEscapeMap[i]=simpleEscapeSequence(i)}function State(input,options){this.input=input;this.filename=options.filename||null;this.schema=options.schema||DEFAULT_FULL_SCHEMA;this.onWarning=options.onWarning||null;this.legacy=options.legacy||!1;this.json=options.json||!1;this.listener=options.listener||null;this.implicitTypes=this.schema.compiledImplicit;this.typeMap=this.schema.compiledTypeMap;this.length=input.length;this.position=0;this.line=0;this.lineStart=0;this.lineIndent=0;this.documents=[]}function generateError(state,message){return new YAMLException(message,new Mark(state.filename,state.input,state.position,state.line,state.position-state.lineStart))}function throwError(state,message){throw generateError(state,message)}function throwWarning(state,message){if(state.onWarning){state.onWarning.call(null,generateError(state,message))}}var directiveHandlers={YAML:function(state,name,args){var match,major,minor;if(null!==state.version){throwError(state,"duplication of %YAML directive")}if(1!==args.length){throwError(state,"YAML directive accepts exactly one argument")}match=/^([0-9]+)\.([0-9]+)$/.exec(args[0]);if(null===match){throwError(state,"ill-formed argument of the YAML directive")}major=parseInt(match[1],10);minor=parseInt(match[2],10);if(1!==major){throwError(state,"unacceptable YAML version of the document")}state.version=args[0];state.checkLineBreaks=2>minor;if(1!==minor&&2!==minor){throwWarning(state,"unsupported YAML version of the document")}},TAG:function(state,name,args){var handle,prefix;if(2!==args.length){throwError(state,"TAG directive accepts exactly two arguments")}handle=args[0];prefix=args[1];if(!PATTERN_TAG_HANDLE.test(handle)){throwError(state,"ill-formed tag handle (first argument) of the TAG directive")}if(_hasOwnProperty.call(state.tagMap,handle)){throwError(state,"there is a previously declared suffix for \""+handle+"\" tag handle")}if(!PATTERN_TAG_URI.test(prefix)){throwError(state,"ill-formed tag prefix (second argument) of the TAG directive")}state.tagMap[handle]=prefix}};function captureSegment(state,start,end,checkJson){var _position,_length,_character,_result;if(start<end){_result=state.input.slice(start,end);if(checkJson){for(_position=0,_length=_result.length;_position<_length;_position+=1){_character=_result.charCodeAt(_position);if(!(9===_character||32<=_character&&1114111>=_character)){throwError(state,"expected valid JSON character")}}}else if(PATTERN_NON_PRINTABLE.test(_result)){throwError(state,"the stream contains non-printable characters")}state.result+=_result}}function mergeMappings(state,destination,source,overridableKeys){var sourceKeys,key,index,quantity;if(!common.isObject(source)){throwError(state,"cannot merge mappings; the provided source object is unacceptable")}sourceKeys=Object.keys(source);for(index=0,quantity=sourceKeys.length;index<quantity;index+=1){key=sourceKeys[index];if(!_hasOwnProperty.call(destination,key)){destination[key]=source[key];overridableKeys[key]=!0}}}function storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,valueNode,startLine,startPos){var index,quantity;keyNode=keyNode+"";if(null===_result){_result={}}if("tag:yaml.org,2002:merge"===keyTag){if(Array.isArray(valueNode)){for(index=0,quantity=valueNode.length;index<quantity;index+=1){mergeMappings(state,_result,valueNode[index],overridableKeys)}}else{mergeMappings(state,_result,valueNode,overridableKeys)}}else{if(!state.json&&!_hasOwnProperty.call(overridableKeys,keyNode)&&_hasOwnProperty.call(_result,keyNode)){state.line=startLine||state.line;state.position=startPos||state.position;throwError(state,"duplicated mapping key")}_result[keyNode]=valueNode;delete overridableKeys[keyNode]}return _result}function readLineBreak(state){var ch=state.input.charCodeAt(state.position);if(10===ch){state.position++}else if(13===ch){state.position++;if(10===state.input.charCodeAt(state.position)){state.position++}}else{throwError(state,"a line break is expected")}state.line+=1;state.lineStart=state.position}function skipSeparationSpace(state,allowComments,checkIndent){var lineBreaks=0,ch=state.input.charCodeAt(state.position);while(0!==ch){while(is_WHITE_SPACE(ch)){ch=state.input.charCodeAt(++state.position)}if(allowComments&&35===ch){do{ch=state.input.charCodeAt(++state.position)}while(10!==ch&&13!==ch&&0!==ch)}if(is_EOL(ch)){readLineBreak(state);ch=state.input.charCodeAt(state.position);lineBreaks++;state.lineIndent=0;while(32===ch){state.lineIndent++;ch=state.input.charCodeAt(++state.position)}}else{break}}if(-1!==checkIndent&&0!==lineBreaks&&state.lineIndent<checkIndent){throwWarning(state,"deficient indentation")}return lineBreaks}function testDocumentSeparator(state){var _position=state.position,ch;ch=state.input.charCodeAt(_position);if((45===ch||46===ch)&&ch===state.input.charCodeAt(_position+1)&&ch===state.input.charCodeAt(_position+2)){_position+=3;ch=state.input.charCodeAt(_position);if(0===ch||is_WS_OR_EOL(ch)){return!0}}return!1}function writeFoldedLines(state,count){if(1===count){state.result+=" "}else if(1<count){state.result+=common.repeat("\n",count-1)}}function readPlainScalar(state,nodeIndent,withinFlowCollection){var preceding,following,captureStart,captureEnd,hasPendingContent,_line,_lineStart,_lineIndent,_kind=state.kind,_result=state.result,ch;ch=state.input.charCodeAt(state.position);if(is_WS_OR_EOL(ch)||is_FLOW_INDICATOR(ch)||35===ch||38===ch||42===ch||33===ch||124===ch||62===ch||39===ch||34===ch||37===ch||64===ch||96===ch){return!1}if(63===ch||45===ch){following=state.input.charCodeAt(state.position+1);if(is_WS_OR_EOL(following)||withinFlowCollection&&is_FLOW_INDICATOR(following)){return!1}}state.kind="scalar";state.result="";captureStart=captureEnd=state.position;hasPendingContent=!1;while(0!==ch){if(58===ch){following=state.input.charCodeAt(state.position+1);if(is_WS_OR_EOL(following)||withinFlowCollection&&is_FLOW_INDICATOR(following)){break}}else if(35===ch){preceding=state.input.charCodeAt(state.position-1);if(is_WS_OR_EOL(preceding)){break}}else if(state.position===state.lineStart&&testDocumentSeparator(state)||withinFlowCollection&&is_FLOW_INDICATOR(ch)){break}else if(is_EOL(ch)){_line=state.line;_lineStart=state.lineStart;_lineIndent=state.lineIndent;skipSeparationSpace(state,!1,-1);if(state.lineIndent>=nodeIndent){hasPendingContent=!0;ch=state.input.charCodeAt(state.position);continue}else{state.position=captureEnd;state.line=_line;state.lineStart=_lineStart;state.lineIndent=_lineIndent;break}}if(hasPendingContent){captureSegment(state,captureStart,captureEnd,!1);writeFoldedLines(state,state.line-_line);captureStart=captureEnd=state.position;hasPendingContent=!1}if(!is_WHITE_SPACE(ch)){captureEnd=state.position+1}ch=state.input.charCodeAt(++state.position)}captureSegment(state,captureStart,captureEnd,!1);if(state.result){return!0}state.kind=_kind;state.result=_result;return!1}function readSingleQuotedScalar(state,nodeIndent){var ch,captureStart,captureEnd;ch=state.input.charCodeAt(state.position);if(39!==ch){return!1}state.kind="scalar";state.result="";state.position++;captureStart=captureEnd=state.position;while(0!==(ch=state.input.charCodeAt(state.position))){if(39===ch){captureSegment(state,captureStart,state.position,!0);ch=state.input.charCodeAt(++state.position);if(39===ch){captureStart=state.position;state.position++;captureEnd=state.position}else{return!0}}else if(is_EOL(ch)){captureSegment(state,captureStart,captureEnd,!0);writeFoldedLines(state,skipSeparationSpace(state,!1,nodeIndent));captureStart=captureEnd=state.position}else if(state.position===state.lineStart&&testDocumentSeparator(state)){throwError(state,"unexpected end of the document within a single quoted scalar")}else{state.position++;captureEnd=state.position}}throwError(state,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(state,nodeIndent){var captureStart,captureEnd,hexLength,hexResult,tmp,ch;ch=state.input.charCodeAt(state.position);if(34!==ch){return!1}state.kind="scalar";state.result="";state.position++;captureStart=captureEnd=state.position;while(0!==(ch=state.input.charCodeAt(state.position))){if(34===ch){captureSegment(state,captureStart,state.position,!0);state.position++;return!0}else if(92===ch){captureSegment(state,captureStart,state.position,!0);ch=state.input.charCodeAt(++state.position);if(is_EOL(ch)){skipSeparationSpace(state,!1,nodeIndent)}else if(256>ch&&simpleEscapeCheck[ch]){state.result+=simpleEscapeMap[ch];state.position++}else if(0<(tmp=escapedHexLen(ch))){hexLength=tmp;hexResult=0;for(;0<hexLength;hexLength--){ch=state.input.charCodeAt(++state.position);if(0<=(tmp=fromHexCode(ch))){hexResult=(hexResult<<4)+tmp}else{throwError(state,"expected hexadecimal character")}}state.result+=charFromCodepoint(hexResult);state.position++}else{throwError(state,"unknown escape sequence")}captureStart=captureEnd=state.position}else if(is_EOL(ch)){captureSegment(state,captureStart,captureEnd,!0);writeFoldedLines(state,skipSeparationSpace(state,!1,nodeIndent));captureStart=captureEnd=state.position}else if(state.position===state.lineStart&&testDocumentSeparator(state)){throwError(state,"unexpected end of the document within a double quoted scalar")}else{state.position++;captureEnd=state.position}}throwError(state,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(state,nodeIndent){var readNext=!0,_line,_tag=state.tag,_result,_anchor=state.anchor,following,terminator,isPair,isExplicitPair,isMapping,overridableKeys={},keyNode,keyTag,valueNode,ch;ch=state.input.charCodeAt(state.position);if(91===ch){terminator=93;isMapping=!1;_result=[]}else if(123===ch){terminator=125;isMapping=!0;_result={}}else{return!1}if(null!==state.anchor){state.anchorMap[state.anchor]=_result}ch=state.input.charCodeAt(++state.position);while(0!==ch){skipSeparationSpace(state,!0,nodeIndent);ch=state.input.charCodeAt(state.position);if(ch===terminator){state.position++;state.tag=_tag;state.anchor=_anchor;state.kind=isMapping?"mapping":"sequence";state.result=_result;return!0}else if(!readNext){throwError(state,"missed comma between flow collection entries")}keyTag=keyNode=valueNode=null;isPair=isExplicitPair=!1;if(63===ch){following=state.input.charCodeAt(state.position+1);if(is_WS_OR_EOL(following)){isPair=isExplicitPair=!0;state.position++;skipSeparationSpace(state,!0,nodeIndent)}}_line=state.line;composeNode(state,nodeIndent,CONTEXT_FLOW_IN,!1,!0);keyTag=state.tag;keyNode=state.result;skipSeparationSpace(state,!0,nodeIndent);ch=state.input.charCodeAt(state.position);if((isExplicitPair||state.line===_line)&&58===ch){isPair=!0;ch=state.input.charCodeAt(++state.position);skipSeparationSpace(state,!0,nodeIndent);composeNode(state,nodeIndent,CONTEXT_FLOW_IN,!1,!0);valueNode=state.result}if(isMapping){storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,valueNode)}else if(isPair){_result.push(storeMappingPair(state,null,overridableKeys,keyTag,keyNode,valueNode))}else{_result.push(keyNode)}skipSeparationSpace(state,!0,nodeIndent);ch=state.input.charCodeAt(state.position);if(44===ch){readNext=!0;ch=state.input.charCodeAt(++state.position)}else{readNext=!1}}throwError(state,"unexpected end of the stream within a flow collection")}function readBlockScalar(state,nodeIndent){var captureStart,folding,chomping=CHOMPING_CLIP,didReadContent=!1,detectedIndent=!1,textIndent=nodeIndent,emptyLines=0,atMoreIndented=!1,tmp,ch;ch=state.input.charCodeAt(state.position);if(124===ch){folding=!1}else if(62===ch){folding=!0}else{return!1}state.kind="scalar";state.result="";while(0!==ch){ch=state.input.charCodeAt(++state.position);if(43===ch||45===ch){if(CHOMPING_CLIP===chomping){chomping=43===ch?CHOMPING_KEEP:2}else{throwError(state,"repeat of a chomping mode identifier")}}else if(0<=(tmp=fromDecimalCode(ch))){if(0===tmp){throwError(state,"bad explicit indentation width of a block scalar; it cannot be less than one")}else if(!detectedIndent){textIndent=nodeIndent+tmp-1;detectedIndent=!0}else{throwError(state,"repeat of an indentation width identifier")}}else{break}}if(is_WHITE_SPACE(ch)){do{ch=state.input.charCodeAt(++state.position)}while(is_WHITE_SPACE(ch));if(35===ch){do{ch=state.input.charCodeAt(++state.position)}while(!is_EOL(ch)&&0!==ch)}}while(0!==ch){readLineBreak(state);state.lineIndent=0;ch=state.input.charCodeAt(state.position);while((!detectedIndent||state.lineIndent<textIndent)&&32===ch){state.lineIndent++;ch=state.input.charCodeAt(++state.position)}if(!detectedIndent&&state.lineIndent>textIndent){textIndent=state.lineIndent}if(is_EOL(ch)){emptyLines++;continue}if(state.lineIndent<textIndent){if(chomping===CHOMPING_KEEP){state.result+=common.repeat("\n",didReadContent?1+emptyLines:emptyLines)}else if(chomping===CHOMPING_CLIP){if(didReadContent){state.result+="\n"}}break}if(folding){if(is_WHITE_SPACE(ch)){atMoreIndented=!0;state.result+=common.repeat("\n",didReadContent?1+emptyLines:emptyLines)}else if(atMoreIndented){atMoreIndented=!1;state.result+=common.repeat("\n",emptyLines+1)}else if(0===emptyLines){if(didReadContent){state.result+=" "}}else{state.result+=common.repeat("\n",emptyLines)}}else{state.result+=common.repeat("\n",didReadContent?1+emptyLines:emptyLines)}didReadContent=!0;detectedIndent=!0;emptyLines=0;captureStart=state.position;while(!is_EOL(ch)&&0!==ch){ch=state.input.charCodeAt(++state.position)}captureSegment(state,captureStart,state.position,!1)}return!0}function readBlockSequence(state,nodeIndent){var _line,_tag=state.tag,_anchor=state.anchor,_result=[],following,detected=!1,ch;if(null!==state.anchor){state.anchorMap[state.anchor]=_result}ch=state.input.charCodeAt(state.position);while(0!==ch){if(45!==ch){break}following=state.input.charCodeAt(state.position+1);if(!is_WS_OR_EOL(following)){break}detected=!0;state.position++;if(skipSeparationSpace(state,!0,-1)){if(state.lineIndent<=nodeIndent){_result.push(null);ch=state.input.charCodeAt(state.position);continue}}_line=state.line;composeNode(state,nodeIndent,CONTEXT_BLOCK_IN,!1,!0);_result.push(state.result);skipSeparationSpace(state,!0,-1);ch=state.input.charCodeAt(state.position);if((state.line===_line||state.lineIndent>nodeIndent)&&0!==ch){throwError(state,"bad indentation of a sequence entry")}else if(state.lineIndent<nodeIndent){break}}if(detected){state.tag=_tag;state.anchor=_anchor;state.kind="sequence";state.result=_result;return!0}return!1}function readBlockMapping(state,nodeIndent,flowIndent){var following,allowCompact,_line,_pos,_tag=state.tag,_anchor=state.anchor,_result={},overridableKeys={},keyTag=null,keyNode=null,valueNode=null,atExplicitKey=!1,detected=!1,ch;if(null!==state.anchor){state.anchorMap[state.anchor]=_result}ch=state.input.charCodeAt(state.position);while(0!==ch){following=state.input.charCodeAt(state.position+1);_line=state.line;_pos=state.position;if((63===ch||58===ch)&&is_WS_OR_EOL(following)){if(63===ch){if(atExplicitKey){storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,null);keyTag=keyNode=valueNode=null}detected=!0;atExplicitKey=!0;allowCompact=!0}else if(atExplicitKey){atExplicitKey=!1;allowCompact=!0}else{throwError(state,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line")}state.position+=1;ch=following}else if(composeNode(state,flowIndent,CONTEXT_FLOW_OUT,!1,!0)){if(state.line===_line){ch=state.input.charCodeAt(state.position);while(is_WHITE_SPACE(ch)){ch=state.input.charCodeAt(++state.position)}if(58===ch){ch=state.input.charCodeAt(++state.position);if(!is_WS_OR_EOL(ch)){throwError(state,"a whitespace character is expected after the key-value separator within a block mapping")}if(atExplicitKey){storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,null);keyTag=keyNode=valueNode=null}detected=!0;atExplicitKey=!1;allowCompact=!1;keyTag=state.tag;keyNode=state.result}else if(detected){throwError(state,"can not read an implicit mapping pair; a colon is missed")}else{state.tag=_tag;state.anchor=_anchor;return!0}}else if(detected){throwError(state,"can not read a block mapping entry; a multiline key may not be an implicit key")}else{state.tag=_tag;state.anchor=_anchor;return!0}}else{break}if(state.line===_line||state.lineIndent>nodeIndent){if(composeNode(state,nodeIndent,CONTEXT_BLOCK_OUT,!0,allowCompact)){if(atExplicitKey){keyNode=state.result}else{valueNode=state.result}}if(!atExplicitKey){storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,valueNode,_line,_pos);keyTag=keyNode=valueNode=null}skipSeparationSpace(state,!0,-1);ch=state.input.charCodeAt(state.position)}if(state.lineIndent>nodeIndent&&0!==ch){throwError(state,"bad indentation of a mapping entry")}else if(state.lineIndent<nodeIndent){break}}if(atExplicitKey){storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,null)}if(detected){state.tag=_tag;state.anchor=_anchor;state.kind="mapping";state.result=_result}return detected}function readTagProperty(state){var _position,isVerbatim=!1,isNamed=!1,tagHandle,tagName,ch;ch=state.input.charCodeAt(state.position);if(33!==ch)return!1;if(null!==state.tag){throwError(state,"duplication of a tag property")}ch=state.input.charCodeAt(++state.position);if(60===ch){isVerbatim=!0;ch=state.input.charCodeAt(++state.position)}else if(33===ch){isNamed=!0;tagHandle="!!";ch=state.input.charCodeAt(++state.position)}else{tagHandle="!"}_position=state.position;if(isVerbatim){do{ch=state.input.charCodeAt(++state.position)}while(0!==ch&&62!==ch);if(state.position<state.length){tagName=state.input.slice(_position,state.position);ch=state.input.charCodeAt(++state.position)}else{throwError(state,"unexpected end of the stream within a verbatim tag")}}else{while(0!==ch&&!is_WS_OR_EOL(ch)){if(33===ch){if(!isNamed){tagHandle=state.input.slice(_position-1,state.position+1);if(!PATTERN_TAG_HANDLE.test(tagHandle)){throwError(state,"named tag handle cannot contain such characters")}isNamed=!0;_position=state.position+1}else{throwError(state,"tag suffix cannot contain exclamation marks")}}ch=state.input.charCodeAt(++state.position)}tagName=state.input.slice(_position,state.position);if(PATTERN_FLOW_INDICATORS.test(tagName)){throwError(state,"tag suffix cannot contain flow indicator characters")}}if(tagName&&!PATTERN_TAG_URI.test(tagName)){throwError(state,"tag name cannot contain such characters: "+tagName)}if(isVerbatim){state.tag=tagName}else if(_hasOwnProperty.call(state.tagMap,tagHandle)){state.tag=state.tagMap[tagHandle]+tagName}else if("!"===tagHandle){state.tag="!"+tagName}else if("!!"===tagHandle){state.tag="tag:yaml.org,2002:"+tagName}else{throwError(state,"undeclared tag handle \""+tagHandle+"\"")}return!0}function readAnchorProperty(state){var _position,ch;ch=state.input.charCodeAt(state.position);if(38!==ch)return!1;if(null!==state.anchor){throwError(state,"duplication of an anchor property")}ch=state.input.charCodeAt(++state.position);_position=state.position;while(0!==ch&&!is_WS_OR_EOL(ch)&&!is_FLOW_INDICATOR(ch)){ch=state.input.charCodeAt(++state.position)}if(state.position===_position){throwError(state,"name of an anchor node must contain at least one character")}state.anchor=state.input.slice(_position,state.position);return!0}function readAlias(state){var _position,alias,ch;ch=state.input.charCodeAt(state.position);if(42!==ch)return!1;ch=state.input.charCodeAt(++state.position);_position=state.position;while(0!==ch&&!is_WS_OR_EOL(ch)&&!is_FLOW_INDICATOR(ch)){ch=state.input.charCodeAt(++state.position)}if(state.position===_position){throwError(state,"name of an alias node must contain at least one character")}alias=state.input.slice(_position,state.position);if(!state.anchorMap.hasOwnProperty(alias)){throwError(state,"unidentified alias \""+alias+"\"")}state.result=state.anchorMap[alias];skipSeparationSpace(state,!0,-1);return!0}function composeNode(state,parentIndent,nodeContext,allowToSeek,allowCompact){var allowBlockStyles,allowBlockScalars,allowBlockCollections,indentStatus=1,atNewLine=!1,hasContent=!1,typeIndex,typeQuantity,type,flowIndent,blockIndent;if(null!==state.listener){state.listener("open",state)}state.tag=null;state.anchor=null;state.kind=null;state.result=null;allowBlockStyles=allowBlockScalars=allowBlockCollections=CONTEXT_BLOCK_OUT===nodeContext||CONTEXT_BLOCK_IN===nodeContext;if(allowToSeek){if(skipSeparationSpace(state,!0,-1)){atNewLine=!0;if(state.lineIndent>parentIndent){indentStatus=1}else if(state.lineIndent===parentIndent){indentStatus=0}else if(state.lineIndent<parentIndent){indentStatus=-1}}}if(1===indentStatus){while(readTagProperty(state)||readAnchorProperty(state)){if(skipSeparationSpace(state,!0,-1)){atNewLine=!0;allowBlockCollections=allowBlockStyles;if(state.lineIndent>parentIndent){indentStatus=1}else if(state.lineIndent===parentIndent){indentStatus=0}else if(state.lineIndent<parentIndent){indentStatus=-1}}else{allowBlockCollections=!1}}}if(allowBlockCollections){allowBlockCollections=atNewLine||allowCompact}if(1===indentStatus||CONTEXT_BLOCK_OUT===nodeContext){if(CONTEXT_FLOW_IN===nodeContext||CONTEXT_FLOW_OUT===nodeContext){flowIndent=parentIndent}else{flowIndent=parentIndent+1}blockIndent=state.position-state.lineStart;if(1===indentStatus){if(allowBlockCollections&&(readBlockSequence(state,blockIndent)||readBlockMapping(state,blockIndent,flowIndent))||readFlowCollection(state,flowIndent)){hasContent=!0}else{if(allowBlockScalars&&readBlockScalar(state,flowIndent)||readSingleQuotedScalar(state,flowIndent)||readDoubleQuotedScalar(state,flowIndent)){hasContent=!0}else if(readAlias(state)){hasContent=!0;if(null!==state.tag||null!==state.anchor){throwError(state,"alias node should not have any properties")}}else if(readPlainScalar(state,flowIndent,CONTEXT_FLOW_IN===nodeContext)){hasContent=!0;if(null===state.tag){state.tag="?"}}if(null!==state.anchor){state.anchorMap[state.anchor]=state.result}}}else if(0===indentStatus){hasContent=allowBlockCollections&&readBlockSequence(state,blockIndent)}}if(null!==state.tag&&"!"!==state.tag){if("?"===state.tag){for(typeIndex=0,typeQuantity=state.implicitTypes.length;typeIndex<typeQuantity;typeIndex+=1){type=state.implicitTypes[typeIndex];if(type.resolve(state.result)){state.result=type.construct(state.result);state.tag=type.tag;if(null!==state.anchor){state.anchorMap[state.anchor]=state.result}break}}}else if(_hasOwnProperty.call(state.typeMap[state.kind||"fallback"],state.tag)){type=state.typeMap[state.kind||"fallback"][state.tag];if(null!==state.result&&type.kind!==state.kind){throwError(state,"unacceptable node kind for !<"+state.tag+"> tag; it should be \""+type.kind+"\", not \""+state.kind+"\"")}if(!type.resolve(state.result)){throwError(state,"cannot resolve a node with !<"+state.tag+"> explicit tag")}else{state.result=type.construct(state.result);if(null!==state.anchor){state.anchorMap[state.anchor]=state.result}}}else{throwError(state,"unknown tag !<"+state.tag+">")}}if(null!==state.listener){state.listener("close",state)}return null!==state.tag||null!==state.anchor||hasContent}function readDocument(state){var documentStart=state.position,_position,directiveName,directiveArgs,hasDirectives=!1,ch;state.version=null;state.checkLineBreaks=state.legacy;state.tagMap={};state.anchorMap={};while(0!==(ch=state.input.charCodeAt(state.position))){skipSeparationSpace(state,!0,-1);ch=state.input.charCodeAt(state.position);if(0<state.lineIndent||37!==ch){break}hasDirectives=!0;ch=state.input.charCodeAt(++state.position);_position=state.position;while(0!==ch&&!is_WS_OR_EOL(ch)){ch=state.input.charCodeAt(++state.position)}directiveName=state.input.slice(_position,state.position);directiveArgs=[];if(1>directiveName.length){throwError(state,"directive name must not be less than one character in length")}while(0!==ch){while(is_WHITE_SPACE(ch)){ch=state.input.charCodeAt(++state.position)}if(35===ch){do{ch=state.input.charCodeAt(++state.position)}while(0!==ch&&!is_EOL(ch));break}if(is_EOL(ch))break;_position=state.position;while(0!==ch&&!is_WS_OR_EOL(ch)){ch=state.input.charCodeAt(++state.position)}directiveArgs.push(state.input.slice(_position,state.position))}if(0!==ch)readLineBreak(state);if(_hasOwnProperty.call(directiveHandlers,directiveName)){directiveHandlers[directiveName](state,directiveName,directiveArgs)}else{throwWarning(state,"unknown document directive \""+directiveName+"\"")}}skipSeparationSpace(state,!0,-1);if(0===state.lineIndent&&45===state.input.charCodeAt(state.position)&&45===state.input.charCodeAt(state.position+1)&&45===state.input.charCodeAt(state.position+2)){state.position+=3;skipSeparationSpace(state,!0,-1)}else if(hasDirectives){throwError(state,"directives end mark is expected")}composeNode(state,state.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0);skipSeparationSpace(state,!0,-1);if(state.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(state.input.slice(documentStart,state.position))){throwWarning(state,"non-ASCII line breaks are interpreted as content")}state.documents.push(state.result);if(state.position===state.lineStart&&testDocumentSeparator(state)){if(46===state.input.charCodeAt(state.position)){state.position+=3;skipSeparationSpace(state,!0,-1)}return}if(state.position<state.length-1){throwError(state,"end of the stream or a document separator is expected")}else{}}function loadDocuments(input,options){input=input+"";options=options||{};if(0!==input.length){if(10!==input.charCodeAt(input.length-1)&&13!==input.charCodeAt(input.length-1)){input+="\n"}if(65279===input.charCodeAt(0)){input=input.slice(1)}}var state=new State(input,options);state.input+="\0";while(32===state.input.charCodeAt(state.position)){state.lineIndent+=1;state.position+=1}while(state.position<state.length-1){readDocument(state)}return state.documents}function loadAll(input,iterator,options){var documents=loadDocuments(input,options),index,length;if("function"!==typeof iterator){return documents}for(index=0,length=documents.length;index<length;index+=1){iterator(documents[index])}}function load(input,options){var documents=loadDocuments(input,options);if(0===documents.length){return}else if(1===documents.length){return documents[0]}throw new YAMLException("expected a single document in the stream, but found more")}module.exports.loadAll=loadAll;module.exports.load=load;module.exports.safeLoadAll=function(input,output,options){if("function"===typeof output){loadAll(input,output,common.extend({schema:DEFAULT_SAFE_SCHEMA},options))}else{return loadAll(input,common.extend({schema:DEFAULT_SAFE_SCHEMA},options))}};module.exports.safeLoad=function(input,options){return load(input,common.extend({schema:DEFAULT_SAFE_SCHEMA},options))}},{"./common":2,"./exception":4,"./mark":6,"./schema/default_full":9,"./schema/default_safe":10}],6:[function(require,module){var common=require("./common");function Mark(name,buffer,position,line,column){this.name=name;this.buffer=buffer;this.position=position;this.line=line;this.column=column}Mark.prototype.getSnippet=function(indent,maxLength){var head,start,tail,end,snippet;if(!this.buffer)return null;indent=indent||4;maxLength=maxLength||75;head="";start=this.position;while(0<start&&-1==="\0\r\n\x85\u2028\u2029".indexOf(this.buffer.charAt(start-1))){start-=1;if(this.position-start>maxLength/2-1){head=" ... ";start+=5;break}}tail="";end=this.position;while(end<this.buffer.length&&-1==="\0\r\n\x85\u2028\u2029".indexOf(this.buffer.charAt(end))){end+=1;if(end-this.position>maxLength/2-1){tail=" ... ";end-=5;break}}snippet=this.buffer.slice(start,end);return common.repeat(" ",indent)+head+snippet+tail+"\n"+common.repeat(" ",indent+this.position-start+head.length)+"^"};Mark.prototype.toString=function(compact){var snippet,where="";if(this.name){where+="in \""+this.name+"\" "}where+="at line "+(this.line+1)+", column "+(this.column+1);if(!compact){snippet=this.getSnippet();if(snippet){where+=":\n"+snippet}}return where};module.exports=Mark},{"./common":2}],7:[function(require,module){var common=require("./common"),YAMLException=require("./exception"),Type=require("./type");function compileList(schema,name,result){var exclude=[];schema.include.forEach(function(includedSchema){result=compileList(includedSchema,name,result)});schema[name].forEach(function(currentType){result.forEach(function(previousType,previousIndex){if(previousType.tag===currentType.tag&&previousType.kind===currentType.kind){exclude.push(previousIndex)}});result.push(currentType)});return result.filter(function(type,index){return-1===exclude.indexOf(index)})}function compileMap(){var result={scalar:{},sequence:{},mapping:{},fallback:{}},index,length;function collectType(type){result[type.kind][type.tag]=result.fallback[type.tag]=type}for(index=0,length=arguments.length;index<length;index+=1){arguments[index].forEach(collectType)}return result}function Schema(definition){this.include=definition.include||[];this.implicit=definition.implicit||[];this.explicit=definition.explicit||[];this.implicit.forEach(function(type){if(type.loadKind&&"scalar"!==type.loadKind){throw new YAMLException("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}});this.compiledImplicit=compileList(this,"implicit",[]);this.compiledExplicit=compileList(this,"explicit",[]);this.compiledTypeMap=compileMap(this.compiledImplicit,this.compiledExplicit)}Schema.DEFAULT=null;Schema.create=function(){var schemas,types;switch(arguments.length){case 1:schemas=Schema.DEFAULT;types=arguments[0];break;case 2:schemas=arguments[0];types=arguments[1];break;default:throw new YAMLException("Wrong number of arguments for Schema.create function");}schemas=common.toArray(schemas);types=common.toArray(types);if(!schemas.every(function(schema){return schema instanceof Schema})){throw new YAMLException("Specified list of super schemas (or a single Schema object) contains a non-Schema object.")}if(!types.every(function(type){return type instanceof Type})){throw new YAMLException("Specified list of YAML types (or a single Type object) contains a non-Type object.")}return new Schema({include:schemas,explicit:types})};module.exports=Schema},{"./common":2,"./exception":4,"./type":13}],8:[function(require,module){var Schema=require("../schema");module.exports=new Schema({include:[require("./json")]})},{"../schema":7,"./json":12}],9:[function(require,module){var Schema=require("../schema");module.exports=Schema.DEFAULT=new Schema({include:[require("./default_safe")],explicit:[require("../type/js/undefined"),require("../type/js/regexp"),require("../type/js/function")]})},{"../schema":7,"../type/js/function":18,"../type/js/regexp":19,"../type/js/undefined":20,"./default_safe":10}],10:[function(require,module){var Schema=require("../schema");module.exports=new Schema({include:[require("./core")],implicit:[require("../type/timestamp"),require("../type/merge")],explicit:[require("../type/binary"),require("../type/omap"),require("../type/pairs"),require("../type/set")]})},{"../schema":7,"../type/binary":14,"../type/merge":22,"../type/omap":24,"../type/pairs":25,"../type/set":27,"../type/timestamp":29,"./core":8}],11:[function(require,module){var Schema=require("../schema");module.exports=new Schema({explicit:[require("../type/str"),require("../type/seq"),require("../type/map")]})},{"../schema":7,"../type/map":21,"../type/seq":26,"../type/str":28}],12:[function(require,module){var Schema=require("../schema");module.exports=new Schema({include:[require("./failsafe")],implicit:[require("../type/null"),require("../type/bool"),require("../type/int"),require("../type/float")]})},{"../schema":7,"../type/bool":15,"../type/float":16,"../type/int":17,"../type/null":23,"./failsafe":11}],13:[function(require,module){var YAMLException=require("./exception"),TYPE_CONSTRUCTOR_OPTIONS=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(map){var result={};if(null!==map){Object.keys(map).forEach(function(style){map[style].forEach(function(alias){result[alias+""]=style})})}return result}module.exports=function(tag,options){options=options||{};Object.keys(options).forEach(function(name){if(-1===TYPE_CONSTRUCTOR_OPTIONS.indexOf(name)){throw new YAMLException("Unknown option \""+name+"\" is met in definition of \""+tag+"\" YAML type.")}});this.tag=tag;this.kind=options.kind||null;this.resolve=options.resolve||function(){return!0};this.construct=options.construct||function(data){return data};this.instanceOf=options.instanceOf||null;this.predicate=options.predicate||null;this.represent=options.represent||null;this.defaultStyle=options.defaultStyle||null;this.styleAliases=compileStyleAliases(options.styleAliases||null);if(-1===YAML_NODE_KINDS.indexOf(this.kind)){throw new YAMLException("Unknown kind \""+this.kind+"\" is specified for \""+tag+"\" YAML type.")}}},{"./exception":4}],14:[function(require,module){var NodeBuffer;try{NodeBuffer=require("buffer").Buffer}catch(__){}var Type=require("../type"),BASE64_MAP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";function constructYamlBinary(data){var idx,tailbits,input=data.replace(/[\r\n=]/g,""),max=input.length,bits=0,result=[];for(idx=0;idx<max;idx++){if(0===idx%4&&idx){result.push(255&bits>>16);result.push(255&bits>>8);result.push(255&bits)}bits=bits<<6|BASE64_MAP.indexOf(input.charAt(idx))}tailbits=6*(max%4);if(0===tailbits){result.push(255&bits>>16);result.push(255&bits>>8);result.push(255&bits)}else if(18===tailbits){result.push(255&bits>>10);result.push(255&bits>>2)}else if(12===tailbits){result.push(255&bits>>4)}if(NodeBuffer){return NodeBuffer.from?NodeBuffer.from(result):new NodeBuffer(result)}return result}function isBinary(object){return NodeBuffer&&NodeBuffer.isBuffer(object)}module.exports=new Type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(data){if(null===data)return!1;var code,idx,bitlen=0,max=data.length;for(idx=0;idx<max;idx++){code=BASE64_MAP.indexOf(data.charAt(idx));if(64<code)continue;if(0>code)return!1;bitlen+=6}return 0===bitlen%8},construct:constructYamlBinary,predicate:isBinary,represent:function(object){var result="",bits=0,idx,tail,max=object.length,map=BASE64_MAP;for(idx=0;idx<max;idx++){if(0===idx%3&&idx){result+=map[63&bits>>18];result+=map[63&bits>>12];result+=map[63&bits>>6];result+=map[63&bits]}bits=(bits<<8)+object[idx]}tail=max%3;if(0===tail){result+=map[63&bits>>18];result+=map[63&bits>>12];result+=map[63&bits>>6];result+=map[63&bits]}else if(2===tail){result+=map[63&bits>>10];result+=map[63&bits>>4];result+=map[63&bits<<2];result+=map[64]}else if(1===tail){result+=map[63&bits>>2];result+=map[63&bits<<4];result+=map[64];result+=map[64]}return result}})},{"../type":13}],15:[function(require,module){var Type=require("../type");module.exports=new Type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(data){if(null===data)return!1;var max=data.length;return 4===max&&("true"===data||"True"===data||"TRUE"===data)||5===max&&("false"===data||"False"===data||"FALSE"===data)},construct:function(data){return"true"===data||"True"===data||"TRUE"===data},predicate:function(object){return"[object Boolean]"===Object.prototype.toString.call(object)},represent:{lowercase:function(object){return object?"true":"false"},uppercase:function(object){return object?"TRUE":"FALSE"},camelcase:function(object){return object?"True":"False"}},defaultStyle:"lowercase"})},{"../type":13}],16:[function(require,module){var _NumberPOSITIVE_INFINITY=Number.POSITIVE_INFINITY,common=require("../common"),Type=require("../type"),YAML_FLOAT_PATTERN=/^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*|[-+]?\.(?:inf|Inf|INF)|\.(?:nan|NaN|NAN))$/,SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;module.exports=new Type("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(data){if(null===data)return!1;if(!YAML_FLOAT_PATTERN.test(data)||"_"===data[data.length-1]){return!1}return!0},construct:function(data){var value,sign,base,digits;value=data.replace(/_/g,"").toLowerCase();sign="-"===value[0]?-1:1;digits=[];if(0<="+-".indexOf(value[0])){value=value.slice(1)}if(".inf"===value){return 1===sign?_NumberPOSITIVE_INFINITY:_NumberNEGATIVE_INFINITY}else if(".nan"===value){return NaN}else if(0<=value.indexOf(":")){value.split(":").forEach(function(v){digits.unshift(parseFloat(v,10))});value=0;base=1;digits.forEach(function(d){value+=d*base;base*=60});return sign*value}return sign*parseFloat(value,10)},predicate:function(object){return"[object Number]"===Object.prototype.toString.call(object)&&(0!==object%1||common.isNegativeZero(object))},represent:function(object,style){var res;if(isNaN(object)){switch(style){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN";}}else if(_NumberPOSITIVE_INFINITY===object){switch(style){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf";}}else if(_NumberNEGATIVE_INFINITY===object){switch(style){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf";}}else if(common.isNegativeZero(object)){return"-0.0"}res=object.toString(10);return SCIENTIFIC_WITHOUT_DOT.test(res)?res.replace("e",".e"):res},defaultStyle:"lowercase"})},{"../common":2,"../type":13}],17:[function(require,module){var common=require("../common"),Type=require("../type");function isHexCode(c){return 48<=c&&57>=c||65<=c&&70>=c||97<=c&&102>=c}function isOctCode(c){return 48<=c&&55>=c}function isDecCode(c){return 48<=c&&57>=c}function resolveYamlInteger(data){if(null===data)return!1;var max=data.length,index=0,hasDigits=!1,ch;if(!max)return!1;ch=data[index];if("-"===ch||"+"===ch){ch=data[++index]}if("0"===ch){if(index+1===max)return!0;ch=data[++index];if("b"===ch){index++;for(;index<max;index++){ch=data[index];if("_"===ch)continue;if("0"!==ch&&"1"!==ch)return!1;hasDigits=!0}return hasDigits&&"_"!==ch}if("x"===ch){index++;for(;index<max;index++){ch=data[index];if("_"===ch)continue;if(!isHexCode(data.charCodeAt(index)))return!1;hasDigits=!0}return hasDigits&&"_"!==ch}for(;index<max;index++){ch=data[index];if("_"===ch)continue;if(!isOctCode(data.charCodeAt(index)))return!1;hasDigits=!0}return hasDigits&&"_"!==ch}if("_"===ch)return!1;for(;index<max;index++){ch=data[index];if("_"===ch)continue;if(":"===ch)break;if(!isDecCode(data.charCodeAt(index))){return!1}hasDigits=!0}if(!hasDigits||"_"===ch)return!1;if(":"!==ch)return!0;return /^(:[0-5]?[0-9])+$/.test(data.slice(index))}function constructYamlInteger(data){var value=data,sign=1,ch,base,digits=[];if(-1!==value.indexOf("_")){value=value.replace(/_/g,"")}ch=value[0];if("-"===ch||"+"===ch){if("-"===ch)sign=-1;value=value.slice(1);ch=value[0]}if("0"===value)return 0;if("0"===ch){if("b"===value[1])return sign*parseInt(value.slice(2),2);if("x"===value[1])return sign*parseInt(value,16);return sign*parseInt(value,8)}if(-1!==value.indexOf(":")){value.split(":").forEach(function(v){digits.unshift(parseInt(v,10))});value=0;base=1;digits.forEach(function(d){value+=d*base;base*=60});return sign*value}return sign*parseInt(value,10)}module.exports=new Type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:function(object){return"[object Number]"===Object.prototype.toString.call(object)&&0===object%1&&!common.isNegativeZero(object)},represent:{binary:function(obj){return 0<=obj?"0b"+obj.toString(2):"-0b"+obj.toString(2).slice(1)},octal:function(obj){return 0<=obj?"0"+obj.toString(8):"-0"+obj.toString(8).slice(1)},decimal:function(obj){return obj.toString(10)},hexadecimal:function(obj){return 0<=obj?"0x"+obj.toString(16).toUpperCase():"-0x"+obj.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},{"../common":2,"../type":13}],18:[function(require,module){var esprima;try{esprima=require("esprima")}catch(_){if("undefined"!==typeof window)esprima=window.esprima}var Type=require("../../type");function resolveJavascriptFunction(data){if(null===data)return!1;try{var ast=esprima.parse("("+data+")",{range:!0});if("Program"!==ast.type||1!==ast.body.length||"ExpressionStatement"!==ast.body[0].type||"ArrowFunctionExpression"!==ast.body[0].expression.type&&"FunctionExpression"!==ast.body[0].expression.type){return!1}return!0}catch(err){return!1}}function constructJavascriptFunction(data){var source="("+data+")",ast=esprima.parse(source,{range:!0}),params=[],body;if("Program"!==ast.type||1!==ast.body.length||"ExpressionStatement"!==ast.body[0].type||"ArrowFunctionExpression"!==ast.body[0].expression.type&&"FunctionExpression"!==ast.body[0].expression.type){throw new Error("Failed to resolve function")}ast.body[0].expression.params.forEach(function(param){params.push(param.name)});body=ast.body[0].expression.body.range;if("BlockStatement"===ast.body[0].expression.body.type){return new Function(params,source.slice(body[0]+1,body[1]-1))}return new Function(params,"return "+source.slice(body[0],body[1]))}module.exports=new Type("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:resolveJavascriptFunction,construct:constructJavascriptFunction,predicate:function(object){return"[object Function]"===Object.prototype.toString.call(object)},represent:function(object){return object.toString()}})},{"../../type":13}],19:[function(require,module){var Type=require("../../type");module.exports=new Type("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(data){if(null===data)return!1;if(0===data.length)return!1;var regexp=data,tail=/\/([gim]*)$/.exec(data),modifiers="";if("/"===regexp[0]){if(tail)modifiers=tail[1];if(3<modifiers.length)return!1;if("/"!==regexp[regexp.length-modifiers.length-1])return!1}return!0},construct:function(data){var regexp=data,tail=/\/([gim]*)$/.exec(data),modifiers="";if("/"===regexp[0]){if(tail)modifiers=tail[1];regexp=regexp.slice(1,regexp.length-modifiers.length-1)}return new RegExp(regexp,modifiers)},predicate:function(object){return"[object RegExp]"===Object.prototype.toString.call(object)},represent:function(object){var result="/"+object.source+"/";if(object.global)result+="g";if(object.multiline)result+="m";if(object.ignoreCase)result+="i";return result}})},{"../../type":13}],20:[function(require,module){var Type=require("../../type");module.exports=new Type("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(object){return"undefined"===typeof object},represent:function(){return""}})},{"../../type":13}],21:[function(require,module){var Type=require("../type");module.exports=new Type("tag:yaml.org,2002:map",{kind:"mapping",construct:function(data){return null!==data?data:{}}})},{"../type":13}],22:[function(require,module){var Type=require("../type");module.exports=new Type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(data){return"<<"===data||null===data}})},{"../type":13}],23:[function(require,module){var Type=require("../type");module.exports=new Type("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(data){if(null===data)return!0;var max=data.length;return 1===max&&"~"===data||4===max&&("null"===data||"Null"===data||"NULL"===data)},construct:function(){return null},predicate:function(object){return null===object},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},{"../type":13}],24:[function(require,module){var Type=require("../type"),_hasOwnProperty=Object.prototype.hasOwnProperty,_toString=Object.prototype.toString;module.exports=new Type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(data){if(null===data)return!0;var objectKeys=[],index,length,pair,pairKey,pairHasKey,object=data;for(index=0,length=object.length;index<length;index+=1){pair=object[index];pairHasKey=!1;if("[object Object]"!==_toString.call(pair))return!1;for(pairKey in pair){if(_hasOwnProperty.call(pair,pairKey)){if(!pairHasKey)pairHasKey=!0;else return!1}}if(!pairHasKey)return!1;if(-1===objectKeys.indexOf(pairKey))objectKeys.push(pairKey);else return!1}return!0},construct:function(data){return null!==data?data:[]}})},{"../type":13}],25:[function(require,module){var Type=require("../type"),_toString=Object.prototype.toString;module.exports=new Type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(data){if(null===data)return!0;var index,length,pair,keys,result,object=data;result=Array(object.length);for(index=0,length=object.length;index<length;index+=1){pair=object[index];if("[object Object]"!==_toString.call(pair))return!1;keys=Object.keys(pair);if(1!==keys.length)return!1;result[index]=[keys[0],pair[keys[0]]]}return!0},construct:function(data){if(null===data)return[];var index,length,pair,keys,result,object=data;result=Array(object.length);for(index=0,length=object.length;index<length;index+=1){pair=object[index];keys=Object.keys(pair);result[index]=[keys[0],pair[keys[0]]]}return result}})},{"../type":13}],26:[function(require,module){var Type=require("../type");module.exports=new Type("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(data){return null!==data?data:[]}})},{"../type":13}],27:[function(require,module){var Type=require("../type"),_hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=new Type("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(data){if(null===data)return!0;var key,object=data;for(key in object){if(_hasOwnProperty.call(object,key)){if(null!==object[key])return!1}}return!0},construct:function(data){return null!==data?data:{}}})},{"../type":13}],28:[function(require,module){var Type=require("../type");module.exports=new Type("tag:yaml.org,2002:str",{kind:"scalar",construct:function(data){return null!==data?data:""}})},{"../type":13}],29:[function(require,module){var Type=require("../type"),YAML_DATE_REGEXP=/^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$/,YAML_TIMESTAMP_REGEXP=/^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\.([0-9]*))?(?:[ \t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$/;module.exports=new Type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(data){if(null===data)return!1;if(null!==YAML_DATE_REGEXP.exec(data))return!0;if(null!==YAML_TIMESTAMP_REGEXP.exec(data))return!0;return!1},construct:function(data){var match,year,month,day,hour,minute,second,fraction=0,delta=null,tz_hour,tz_minute,date;match=YAML_DATE_REGEXP.exec(data);if(null===match)match=YAML_TIMESTAMP_REGEXP.exec(data);if(null===match)throw new Error("Date resolve error");year=+match[1];month=+match[2]-1;day=+match[3];if(!match[4]){return new Date(Date.UTC(year,month,day))}hour=+match[4];minute=+match[5];second=+match[6];if(match[7]){fraction=match[7].slice(0,3);while(3>fraction.length){fraction+="0"}fraction=+fraction}if(match[9]){tz_hour=+match[10];tz_minute=+(match[11]||0);delta=6e4*(60*tz_hour+tz_minute);if("-"===match[9])delta=-delta}date=new Date(Date.UTC(year,month,day,hour,minute,second,fraction));if(delta)date.setTime(date.getTime()-delta);return date},instanceOf:Date,represent:function(object){return object.toISOString()}})},{"../type":13}],"/":[function(require,module){var yaml=require("./lib/js-yaml.js");module.exports=yaml},{"./lib/js-yaml.js":1}]},{},[])("/")});class GraniteYamlParser extends PolymerElement{static get is(){return"granite-yaml-parser"}static get properties(){return{yaml:{type:String,value:"",observer:"_onYamlChange"},obj:{type:Object,notify:!0,readOnly:!0},unsafe:{type:Boolean,value:!1},multiDocument:{type:Boolean,value:!1},debug:{type:Boolean,value:!1}}}_onYamlChange(){if(this.debug){console.log("[granite-yaml-parser] _onYamlChange - YAML",this.yaml)}if(this.unsafe){if(this.multiDocument){this._setObj({documents:jsyaml.loadAll(this.yaml)})}else{this._setObj(jsyaml.load(this.yaml))}}else{if(this.multiDocument){this._setObj({documents:jsyaml.safeLoadAll(this.yaml)})}else{this._setObj(jsyaml.load(this.yaml))}}this.dispatchEvent(new CustomEvent("yaml-parsed",{detail:{yaml:this.yaml,obj:this.obj}}));if(this.debug){console.log("[granite-yaml-parser] _onYamlChange - Object",this.obj)}}}window.customElements.define(GraniteYamlParser.is,GraniteYamlParser);const nativeShadow=!(window.ShadyDOM&&window.ShadyDOM.inUse);_exports.nativeShadow=nativeShadow;let nativeCssVariables_;function calcCssVariables(settings){if(settings&&settings.shimcssproperties){nativeCssVariables_=!1}else{nativeCssVariables_=nativeShadow||!!(!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)"))}}if(window.ShadyCSS&&window.ShadyCSS.nativeCss!==void 0){nativeCssVariables_=window.ShadyCSS.nativeCss}else if(window.ShadyCSS){calcCssVariables(window.ShadyCSS);window.ShadyCSS=void 0}else{calcCssVariables(window.WebComponents&&window.WebComponents.flags)}const nativeCssVariables=nativeCssVariables_;_exports.nativeCssVariables=nativeCssVariables;_exports.$styleSettings={nativeShadow:nativeShadow,nativeCssVariables:nativeCssVariables};class StyleNode{constructor(){this.start=0;this.end=0;this.previous=null;this.parent=null;this.rules=null;this.parsedCssText="";this.cssText="";this.atRule=!1;this.type=0;this.keyframesName="";this.selector="";this.parsedSelector=""}}_exports.StyleNode=StyleNode;function parse(text){text=clean(text);return parseCss(lex(text),text)}function clean(cssText){return cssText.replace(RX.comments,"").replace(RX.port,"")}function lex(text){let root=new StyleNode;root.start=0;root.end=text.length;let n=root;for(let i=0,l=text.length;i<l;i++){if(text[i]===OPEN_BRACE){if(!n.rules){n.rules=[]}let p=n,previous=p.rules[p.rules.length-1]||null;n=new StyleNode;n.start=i+1;n.parent=p;n.previous=previous;p.rules.push(n)}else if(text[i]===CLOSE_BRACE){n.end=i+1;n=n.parent||root}}return root}function parseCss(node,text){let t=text.substring(node.start,node.end-1);node.parsedCssText=node.cssText=t.trim();if(node.parent){let ss=node.previous?node.previous.end:node.parent.start;t=text.substring(ss,node.start-1);t=_expandUnicodeEscapes(t);t=t.replace(RX.multipleSpaces," ");t=t.substring(t.lastIndexOf(";")+1);let s=node.parsedSelector=node.selector=t.trim();node.atRule=0===s.indexOf(AT_START);if(node.atRule){if(0===s.indexOf(MEDIA_START)){node.type=types.MEDIA_RULE}else if(s.match(RX.keyframesRule)){node.type=types.KEYFRAMES_RULE;node.keyframesName=node.selector.split(RX.multipleSpaces).pop()}}else{if(0===s.indexOf(VAR_START)){node.type=types.MIXIN_RULE}else{node.type=types.STYLE_RULE}}}let r$=node.rules;if(r$){for(let i=0,l=r$.length,r;i<l&&(r=r$[i]);i++){parseCss(r,text)}}return node}function _expandUnicodeEscapes(s){return s.replace(/\\([0-9a-f]{1,6})\s/gi,function(){let code=arguments[1],repeat=6-code.length;while(repeat--){code="0"+code}return"\\"+code})}function stringify(node,preserveProperties,text=""){let cssText="";if(node.cssText||node.rules){let r$=node.rules;if(r$&&!_hasMixinRules(r$)){for(let i=0,l=r$.length,r;i<l&&(r=r$[i]);i++){cssText=stringify(r,preserveProperties,cssText)}}else{cssText=preserveProperties?node.cssText:removeCustomProps(node.cssText);cssText=cssText.trim();if(cssText){cssText="  "+cssText+"\n"}}}if(cssText){if(node.selector){text+=node.selector+" "+OPEN_BRACE+"\n"}text+=cssText;if(node.selector){text+=CLOSE_BRACE+"\n\n"}}return text}function _hasMixinRules(rules){let r=rules[0];return!!r&&!!r.selector&&0===r.selector.indexOf(VAR_START)}function removeCustomProps(cssText){cssText=removeCustomPropAssignment(cssText);return removeCustomPropApply(cssText)}function removeCustomPropAssignment(cssText){return cssText.replace(RX.customProp,"").replace(RX.mixinProp,"")}function removeCustomPropApply(cssText){return cssText.replace(RX.mixinApply,"").replace(RX.varApply,"")}const types={STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3};_exports.types=types;const OPEN_BRACE="{",CLOSE_BRACE="}",RX={comments:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},VAR_START="--",MEDIA_START="@media",AT_START="@";_exports.$cssParse={StyleNode:StyleNode,parse:parse,stringify:stringify,removeCustomPropAssignment:removeCustomPropAssignment,types:types};const VAR_ASSIGN=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi;_exports.VAR_ASSIGN=VAR_ASSIGN;const MIXIN_MATCH=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi;_exports.MIXIN_MATCH=MIXIN_MATCH;const VAR_CONSUMED=/(--[\w-]+)\s*([:,;)]|$)/gi;_exports.VAR_CONSUMED=VAR_CONSUMED;const ANIMATION_MATCH=/(animation\s*:)|(animation-name\s*:)/;_exports.ANIMATION_MATCH=ANIMATION_MATCH;const MEDIA_MATCH=/@media\s(.*)/;_exports.MEDIA_MATCH=MEDIA_MATCH;const IS_VAR=/^--/;_exports.IS_VAR=IS_VAR;const BRACKETED=/\{[^}]*\}/g;_exports.BRACKETED=BRACKETED;const HOST_PREFIX="(?:^|[^.#[:])";_exports.HOST_PREFIX=HOST_PREFIX;const HOST_SUFFIX="($|[.:[\\s>+~])";_exports.HOST_SUFFIX=HOST_SUFFIX;_exports.$commonRegex={VAR_ASSIGN:VAR_ASSIGN,MIXIN_MATCH:MIXIN_MATCH,VAR_CONSUMED:VAR_CONSUMED,ANIMATION_MATCH:ANIMATION_MATCH,MEDIA_MATCH:MEDIA_MATCH,IS_VAR:IS_VAR,BRACKETED:BRACKETED,HOST_PREFIX:HOST_PREFIX,HOST_SUFFIX:HOST_SUFFIX};const styleTextSet=new Set,scopingAttribute="shady-unscoped";_exports.scopingAttribute=scopingAttribute;function processUnscopedStyle(style){const text=style.textContent;if(!styleTextSet.has(text)){styleTextSet.add(text);const newStyle=style.cloneNode(!0);document.head.appendChild(newStyle)}}function isUnscopedStyle(style){return style.hasAttribute(scopingAttribute)}_exports.$unscopedStyleHandler={scopingAttribute:scopingAttribute,processUnscopedStyle:processUnscopedStyle,isUnscopedStyle:isUnscopedStyle};function toCssText(rules,callback){if(!rules){return""}if("string"===typeof rules){rules=parse(rules)}if(callback){forEachRule(rules,callback)}return stringify(rules,nativeCssVariables)}function rulesForStyle(style){if(!style.__cssRules&&style.textContent){style.__cssRules=parse(style.textContent)}return style.__cssRules||null}function isKeyframesSelector(rule){return!!rule.parent&&rule.parent.type===types.KEYFRAMES_RULE}function forEachRule(node,styleRuleCallback,keyframesRuleCallback,onlyActiveRules){if(!node){return}let skipRules=!1,type=node.type;if(onlyActiveRules){if(type===types.MEDIA_RULE){let matchMedia=node.selector.match(MEDIA_MATCH);if(matchMedia){if(!window.matchMedia(matchMedia[1]).matches){skipRules=!0}}}}if(type===types.STYLE_RULE){styleRuleCallback(node)}else if(keyframesRuleCallback&&type===types.KEYFRAMES_RULE){keyframesRuleCallback(node)}else if(type===types.MIXIN_RULE){skipRules=!0}let r$=node.rules;if(r$&&!skipRules){for(let i=0,l=r$.length,r;i<l&&(r=r$[i]);i++){forEachRule(r,styleRuleCallback,keyframesRuleCallback,onlyActiveRules)}}}function applyCss(cssText,moniker,target,contextNode){let style=createScopeStyle(cssText,moniker);applyStyle(style,target,contextNode);return style}function createScopeStyle(cssText,moniker){let style=document.createElement("style");if(moniker){style.setAttribute("scope",moniker)}style.textContent=cssText;return style}let lastHeadApplyNode=null;function applyStylePlaceHolder(moniker){let placeHolder=document.createComment(" Shady DOM styles for "+moniker+" "),after=lastHeadApplyNode?lastHeadApplyNode.nextSibling:null,scope=document.head;scope.insertBefore(placeHolder,after||scope.firstChild);lastHeadApplyNode=placeHolder;return placeHolder}function applyStyle(style,target,contextNode){target=target||document.head;let after=contextNode&&contextNode.nextSibling||target.firstChild;target.insertBefore(style,after);if(!lastHeadApplyNode){lastHeadApplyNode=style}else{let position=style.compareDocumentPosition(lastHeadApplyNode);if(position===Node.DOCUMENT_POSITION_PRECEDING){lastHeadApplyNode=style}}}function isTargetedBuild(buildType){return nativeShadow?"shadow"===buildType:"shady"===buildType}function getCssBuildType(element){return element.getAttribute("css-build")}function findMatchingParen(text,start){let level=0;for(let i=start,l=text.length;i<l;i++){if("("===text[i]){level++}else if(")"===text[i]){if(0===--level){return i}}}return-1}function processVariableAndFallback(str,callback){let start=str.indexOf("var(");if(-1===start){return callback(str,"","","")}let end=findMatchingParen(str,start+3),inner=str.substring(start+4,end),prefix=str.substring(0,start),suffix=processVariableAndFallback(str.substring(end+1),callback),comma=inner.indexOf(",");if(-1===comma){return callback(prefix,inner.trim(),"",suffix)}let value=inner.substring(0,comma).trim(),fallback=inner.substring(comma+1).trim();return callback(prefix,value,fallback,suffix)}function setElementClassRaw(element,value){if(nativeShadow){element.setAttribute("class",value)}else{window.ShadyDOM.nativeMethods.setAttribute.call(element,"class",value)}}function getIsExtends(element){let localName=element.localName,is="",typeExtension="";if(localName){if(-1<localName.indexOf("-")){is=localName}else{typeExtension=localName;is=element.getAttribute&&element.getAttribute("is")||""}}else{is=element.is;typeExtension=element.extends}return{is,typeExtension}}function gatherStyleText(element){const styleTextParts=[],styles=element.querySelectorAll("style");for(let i=0;i<styles.length;i++){const style=styles[i];if(isUnscopedStyle(style)){if(!nativeShadow){processUnscopedStyle(style);style.parentNode.removeChild(style)}}else{styleTextParts.push(style.textContent);style.parentNode.removeChild(style)}}return styleTextParts.join("").trim()}function splitSelectorList(selector){const parts=[];let part="";for(let i=0;0<=i&&i<selector.length;i++){if("("===selector[i]){const end=findMatchingParen(selector,i);part+=selector.slice(i,end+1);i=end}else if(","===selector[i]){parts.push(part);part=""}else{part+=selector[i]}}if(part){parts.push(part)}return parts}_exports.$styleUtil={toCssText:toCssText,rulesForStyle:rulesForStyle,isKeyframesSelector:isKeyframesSelector,forEachRule:forEachRule,applyCss:applyCss,createScopeStyle:createScopeStyle,applyStylePlaceHolder:applyStylePlaceHolder,applyStyle:applyStyle,isTargetedBuild:isTargetedBuild,getCssBuildType:getCssBuildType,findMatchingParen:findMatchingParen,processVariableAndFallback:processVariableAndFallback,setElementClassRaw:setElementClassRaw,getIsExtends:getIsExtends,gatherStyleText:gatherStyleText,splitSelectorList:splitSelectorList};function updateNativeProperties(element,properties){for(let p in properties){if(null===p){element.style.removeProperty(p)}else{element.style.setProperty(p,properties[p])}}}function getComputedStyleValue(element,property){const value=window.getComputedStyle(element).getPropertyValue(property);if(!value){return""}else{return value.trim()}}function detectMixin(cssText){const has=MIXIN_MATCH.test(cssText)||VAR_ASSIGN.test(cssText);MIXIN_MATCH.lastIndex=0;VAR_ASSIGN.lastIndex=0;return has}_exports.$commonUtils={updateNativeProperties:updateNativeProperties,getComputedStyleValue:getComputedStyleValue,detectMixin:detectMixin};const APPLY_NAME_CLEAN=/;\s*/m,INITIAL_INHERIT=/^\s*(initial)|(inherit)\s*$/,IMPORTANT=/\s*!important/,MIXIN_VAR_SEP="_-_";class MixinMap{constructor(){this._map={}}set(name,props){name=name.trim();this._map[name]={properties:props,dependants:{}}}get(name){name=name.trim();return this._map[name]||null}}let invalidCallback=null;class ApplyShim{constructor(){this._currentElement=null;this._measureElement=null;this._map=new MixinMap}detectMixin(cssText){return detectMixin(cssText)}gatherStyles(template){const styleText=gatherStyleText(template.content);if(styleText){const style=document.createElement("style");style.textContent=styleText;template.content.insertBefore(style,template.content.firstChild);return style}return null}transformTemplate(template,elementName){if(template._gatheredStyle===void 0){template._gatheredStyle=this.gatherStyles(template)}const style=template._gatheredStyle;return style?this.transformStyle(style,elementName):null}transformStyle(style,elementName=""){let ast=rulesForStyle(style);this.transformRules(ast,elementName);style.textContent=toCssText(ast);return ast}transformCustomStyle(style){let ast=rulesForStyle(style);forEachRule(ast,rule=>{if(":root"===rule.selector){rule.selector="html"}this.transformRule(rule)});style.textContent=toCssText(ast);return ast}transformRules(rules,elementName){this._currentElement=elementName;forEachRule(rules,r=>{this.transformRule(r)});this._currentElement=null}transformRule(rule){rule.cssText=this.transformCssText(rule.parsedCssText);if(":root"===rule.selector){rule.selector=":host > *"}}transformCssText(cssText){cssText=cssText.replace(VAR_ASSIGN,(matchText,propertyName,valueProperty,valueMixin)=>this._produceCssProperties(matchText,propertyName,valueProperty,valueMixin));return this._consumeCssProperties(cssText)}_getInitialValueForProperty(property){if(!this._measureElement){this._measureElement=document.createElement("meta");this._measureElement.setAttribute("apply-shim-measure","");this._measureElement.style.all="initial";document.head.appendChild(this._measureElement)}return window.getComputedStyle(this._measureElement).getPropertyValue(property)}_consumeCssProperties(text){let m=null;while(m=MIXIN_MATCH.exec(text)){let matchText=m[0],mixinName=m[1],idx=m.index,applyPos=idx+matchText.indexOf("@apply"),afterApplyPos=idx+matchText.length,textBeforeApply=text.slice(0,applyPos),textAfterApply=text.slice(afterApplyPos),defaults=this._cssTextToMap(textBeforeApply),replacement=this._atApplyToCssProperties(mixinName,defaults);text=`${textBeforeApply}${replacement}${textAfterApply}`;MIXIN_MATCH.lastIndex=idx+replacement.length}return text}_atApplyToCssProperties(mixinName,fallbacks){mixinName=mixinName.replace(APPLY_NAME_CLEAN,"");let vars=[],mixinEntry=this._map.get(mixinName);if(!mixinEntry){this._map.set(mixinName,{});mixinEntry=this._map.get(mixinName)}if(mixinEntry){if(this._currentElement){mixinEntry.dependants[this._currentElement]=!0}let p,parts,f;const properties=mixinEntry.properties;for(p in properties){f=fallbacks&&fallbacks[p];parts=[p,": var(",mixinName,MIXIN_VAR_SEP,p];if(f){parts.push(",",f.replace(IMPORTANT,""))}parts.push(")");if(IMPORTANT.test(properties[p])){parts.push(" !important")}vars.push(parts.join(""))}}return vars.join("; ")}_replaceInitialOrInherit(property,value){let match=INITIAL_INHERIT.exec(value);if(match){if(match[1]){value=this._getInitialValueForProperty(property)}else{value="apply-shim-inherit"}}return value}_cssTextToMap(text){let props=text.split(";"),property,value,out={};for(let i=0,p,sp;i<props.length;i++){p=props[i];if(p){sp=p.split(":");if(1<sp.length){property=sp[0].trim();value=this._replaceInitialOrInherit(property,sp.slice(1).join(":"));out[property]=value}}}return out}_invalidateMixinEntry(mixinEntry){if(!invalidCallback){return}for(let elementName in mixinEntry.dependants){if(elementName!==this._currentElement){invalidCallback(elementName)}}}_produceCssProperties(matchText,propertyName,valueProperty,valueMixin){if(valueProperty){processVariableAndFallback(valueProperty,(prefix,value)=>{if(value&&this._map.get(value)){valueMixin=`@apply ${value};`}})}if(!valueMixin){return matchText}let mixinAsProperties=this._consumeCssProperties(""+valueMixin),prefix=matchText.slice(0,matchText.indexOf("--")),mixinValues=this._cssTextToMap(mixinAsProperties),combinedProps=mixinValues,mixinEntry=this._map.get(propertyName),oldProps=mixinEntry&&mixinEntry.properties;if(oldProps){combinedProps=Object.assign(Object.create(oldProps),mixinValues)}else{this._map.set(propertyName,combinedProps)}let out=[],p,v,needToInvalidate=!1;for(p in combinedProps){v=mixinValues[p];if(v===void 0){v="initial"}if(oldProps&&!(p in oldProps)){needToInvalidate=!0}out.push(`${propertyName}${MIXIN_VAR_SEP}${p}: ${v}`)}if(needToInvalidate){this._invalidateMixinEntry(mixinEntry)}if(mixinEntry){mixinEntry.properties=combinedProps}if(valueProperty){prefix=`${matchText};${prefix}`}return`${prefix}${out.join("; ")};`}}_exports.$applyShimDefault=ApplyShim;ApplyShim.prototype.detectMixin=ApplyShim.prototype.detectMixin;ApplyShim.prototype.transformStyle=ApplyShim.prototype.transformStyle;ApplyShim.prototype.transformCustomStyle=ApplyShim.prototype.transformCustomStyle;ApplyShim.prototype.transformRules=ApplyShim.prototype.transformRules;ApplyShim.prototype.transformRule=ApplyShim.prototype.transformRule;ApplyShim.prototype.transformTemplate=ApplyShim.prototype.transformTemplate;ApplyShim.prototype._separator=MIXIN_VAR_SEP;Object.defineProperty(ApplyShim.prototype,"invalidCallback",{get(){return invalidCallback},set(cb){invalidCallback=cb}});_exports.$applyShim$1={default:ApplyShim};const templateMap={};_exports.$templateMapDefault=templateMap;_exports.$templateMap={default:templateMap};const CURRENT_VERSION="_applyShimCurrentVersion",NEXT_VERSION="_applyShimNextVersion",VALIDATING_VERSION="_applyShimValidatingVersion",promise=Promise.resolve();function invalidate(elementName){let template=templateMap[elementName];if(template){invalidateTemplate(template)}}function invalidateTemplate(template){template[CURRENT_VERSION]=template[CURRENT_VERSION]||0;template[VALIDATING_VERSION]=template[VALIDATING_VERSION]||0;template[NEXT_VERSION]=(template[NEXT_VERSION]||0)+1}function isValid(elementName){let template=templateMap[elementName];if(template){return templateIsValid(template)}return!0}function templateIsValid(template){return template[CURRENT_VERSION]===template[NEXT_VERSION]}function isValidating(elementName){let template=templateMap[elementName];if(template){return templateIsValidating(template)}return!1}function templateIsValidating(template){return!templateIsValid(template)&&template[VALIDATING_VERSION]===template[NEXT_VERSION]}function startValidating(elementName){let template=templateMap[elementName];startValidatingTemplate(template)}function startValidatingTemplate(template){template[VALIDATING_VERSION]=template[NEXT_VERSION];if(!template._validating){template._validating=!0;promise.then(function(){template[CURRENT_VERSION]=template[NEXT_VERSION];template._validating=!1})}}function elementsAreInvalid(){for(let elementName in templateMap){let template=templateMap[elementName];if(!templateIsValid(template)){return!0}}return!1}_exports.$applyShimUtils={invalidate:invalidate,invalidateTemplate:invalidateTemplate,isValid:isValid,templateIsValid:templateIsValid,isValidating:isValidating,templateIsValidating:templateIsValidating,startValidating:startValidating,startValidatingTemplate:startValidatingTemplate,elementsAreInvalid:elementsAreInvalid};let readyPromise=null,whenReady=window.HTMLImports&&window.HTMLImports.whenReady||null,resolveFn;function documentWait(callback){requestAnimationFrame(function(){if(whenReady){whenReady(callback)}else{if(!readyPromise){readyPromise=new Promise(resolve=>{resolveFn=resolve});if("complete"===document.readyState){resolveFn()}else{document.addEventListener("readystatechange",()=>{if("complete"===document.readyState){resolveFn()}})}}readyPromise.then(function(){callback&&callback()})}})}_exports.$documentWait={default:documentWait};let CustomStyleProvider;_exports.CustomStyleProvider=CustomStyleProvider;const SEEN_MARKER="__seenByShadyCSS",CACHED_STYLE="__shadyCSSCachedStyle";let transformFn=null,validateFn=null;class CustomStyleInterface{constructor(){this.customStyles=[];this.enqueued=!1;documentWait(()=>{if(window.ShadyCSS.flushCustomStyles){window.ShadyCSS.flushCustomStyles()}})}enqueueDocumentValidation(){if(this.enqueued||!validateFn){return}this.enqueued=!0;documentWait(validateFn)}addCustomStyle(style){if(!style[SEEN_MARKER]){style[SEEN_MARKER]=!0;this.customStyles.push(style);this.enqueueDocumentValidation()}}getStyleForCustomStyle(customStyle){if(customStyle[CACHED_STYLE]){return customStyle[CACHED_STYLE]}let style;if(customStyle.getStyle){style=customStyle.getStyle()}else{style=customStyle}return style}processStyles(){const cs=this.customStyles;for(let i=0;i<cs.length;i++){const customStyle=cs[i];if(customStyle[CACHED_STYLE]){continue}const style=this.getStyleForCustomStyle(customStyle);if(style){const styleToTransform=style.__appliedElement||style;if(transformFn){transformFn(styleToTransform)}customStyle[CACHED_STYLE]=styleToTransform}}return cs}}_exports.$customStyleInterfaceDefault=CustomStyleInterface;CustomStyleInterface.prototype.addCustomStyle=CustomStyleInterface.prototype.addCustomStyle;CustomStyleInterface.prototype.getStyleForCustomStyle=CustomStyleInterface.prototype.getStyleForCustomStyle;CustomStyleInterface.prototype.processStyles=CustomStyleInterface.prototype.processStyles;Object.defineProperties(CustomStyleInterface.prototype,{transformCallback:{get(){return transformFn},set(fn){transformFn=fn}},validateCallback:{get(){return validateFn},set(fn){let needsEnqueue=!1;if(!validateFn){needsEnqueue=!0}validateFn=fn;if(needsEnqueue){this.enqueueDocumentValidation()}}}});let CustomStyleInterfaceInterface;_exports.CustomStyleInterfaceInterface=CustomStyleInterfaceInterface;_exports.$customStyleInterface$1={CustomStyleProvider:CustomStyleProvider,default:CustomStyleInterface,CustomStyleInterfaceInterface:CustomStyleInterfaceInterface};const applyShim$1=new ApplyShim;class ApplyShimInterface{constructor(){this.customStyleInterface=null;applyShim$1.invalidCallback=invalidate}ensure(){if(this.customStyleInterface){return}this.customStyleInterface=window.ShadyCSS.CustomStyleInterface;if(this.customStyleInterface){this.customStyleInterface.transformCallback=style=>{applyShim$1.transformCustomStyle(style)};this.customStyleInterface.validateCallback=()=>{requestAnimationFrame(()=>{if(this.customStyleInterface.enqueued){this.flushCustomStyles()}})}}}prepareTemplate(template,elementName){this.ensure();templateMap[elementName]=template;let ast=applyShim$1.transformTemplate(template,elementName);template._styleAst=ast}flushCustomStyles(){this.ensure();if(!this.customStyleInterface){return}let styles=this.customStyleInterface.processStyles();if(!this.customStyleInterface.enqueued){return}for(let i=0;i<styles.length;i++){let cs=styles[i],style=this.customStyleInterface.getStyleForCustomStyle(cs);if(style){applyShim$1.transformCustomStyle(style)}}this.customStyleInterface.enqueued=!1}styleSubtree(element,properties){this.ensure();if(properties){updateNativeProperties(element,properties)}if(element.shadowRoot){this.styleElement(element);let shadowChildren=element.shadowRoot.children||element.shadowRoot.childNodes;for(let i=0;i<shadowChildren.length;i++){this.styleSubtree(shadowChildren[i])}}else{let children=element.children||element.childNodes;for(let i=0;i<children.length;i++){this.styleSubtree(children[i])}}}styleElement(element){this.ensure();let{is}=getIsExtends(element),template=templateMap[is];if(template&&!templateIsValid(template)){if(!templateIsValidating(template)){this.prepareTemplate(template,is);startValidatingTemplate(template)}let root=element.shadowRoot;if(root){let style=root.querySelector("style");if(style){style.__cssRules=template._styleAst;style.textContent=toCssText(template._styleAst)}}}}styleDocument(properties){this.ensure();this.styleSubtree(document.body,properties)}}if(!window.ShadyCSS||!window.ShadyCSS.ScopingShim){const applyShimInterface=new ApplyShimInterface;let CustomStyleInterface$$1=window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface;window.ShadyCSS={prepareTemplate(template,elementName){applyShimInterface.flushCustomStyles();applyShimInterface.prepareTemplate(template,elementName)},prepareTemplateStyles(template,elementName,elementExtends){this.prepareTemplate(template,elementName,elementExtends)},prepareTemplateDom(){},styleSubtree(element,properties){applyShimInterface.flushCustomStyles();applyShimInterface.styleSubtree(element,properties)},styleElement(element){applyShimInterface.flushCustomStyles();applyShimInterface.styleElement(element)},styleDocument(properties){applyShimInterface.flushCustomStyles();applyShimInterface.styleDocument(properties)},getComputedStyleValue(element,property){return getComputedStyleValue(element,property)},flushCustomStyles(){applyShimInterface.flushCustomStyles()},nativeCss:nativeCssVariables,nativeShadow:nativeShadow};if(CustomStyleInterface$$1){window.ShadyCSS.CustomStyleInterface=CustomStyleInterface$$1}}window.ShadyCSS.ApplyShim=applyShim$1;const Debouncer=class Debouncer{constructor(){this._asyncModule=null;this._callback=null;this._timer=null}setConfig(asyncModule,callback){this._asyncModule=asyncModule;this._callback=callback;this._timer=this._asyncModule.run(()=>{this._timer=null;this._callback()})}cancel(){if(this.isActive()){this._asyncModule.cancel(this._timer);this._timer=null}}flush(){if(this.isActive()){this.cancel();this._callback()}}isActive(){return null!=this._timer}static debounce(debouncer,asyncModule,callback){if(debouncer instanceof Debouncer){debouncer.cancel()}else{debouncer=new Debouncer}debouncer.setConfig(asyncModule,callback);return debouncer}};_exports.Debouncer=Debouncer;_exports.$debounce={Debouncer:Debouncer};let HAS_NATIVE_TA="string"===typeof document.head.style.touchAction,GESTURE_KEY="__polymerGestures",HANDLED_OBJ="__polymerGesturesHandled",TOUCH_ACTION="__polymerGesturesTouchAction",TAP_DISTANCE=25,TRACK_DISTANCE=5,MOUSE_EVENTS=["mousedown","mousemove","mouseup","click"],MOUSE_WHICH_TO_BUTTONS=[0,1,4,2],MOUSE_HAS_BUTTONS=function(){try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(e){return!1}}();function isMouseEvent(name){return-1<MOUSE_EVENTS.indexOf(name)}let SUPPORTS_PASSIVE=!1;(function(){try{let opts=Object.defineProperty({},"passive",{get(){SUPPORTS_PASSIVE=!0}});window.addEventListener("test",null,opts);window.removeEventListener("test",null,opts)}catch(e){}})();function PASSIVE_TOUCH(eventName){if(isMouseEvent(eventName)||"touchend"===eventName){return}if(HAS_NATIVE_TA&&SUPPORTS_PASSIVE&&passiveTouchGestures){return{passive:!0}}else{}}let IS_TOUCH_ONLY=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);const GestureInfo=function(){};GestureInfo.prototype.state;GestureInfo.prototype.started;GestureInfo.prototype.moves;GestureInfo.prototype.x;GestureInfo.prototype.y;GestureInfo.prototype.prevent;GestureInfo.prototype.addMove;GestureInfo.prototype.movefn;GestureInfo.prototype.upFn;const GestureRecognizer=function(){};GestureRecognizer.prototype.reset;GestureRecognizer.prototype.mousedown;GestureRecognizer.prototype.mousemove;GestureRecognizer.prototype.mouseup;GestureRecognizer.prototype.touchstart;GestureRecognizer.prototype.touchmove;GestureRecognizer.prototype.touchend;GestureRecognizer.prototype.click;GestureRecognizer.prototype.info;GestureRecognizer.prototype.emits;const clickedLabels=[],labellable={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0},canBeDisabled={button:!0,command:!0,fieldset:!0,input:!0,keygen:!0,optgroup:!0,option:!0,select:!0,textarea:!0};function canBeLabelled(el){return labellable[el.localName]||!1}function matchingLabels(el){let labels=Array.prototype.slice.call(el.labels||[]);if(!labels.length){labels=[];let root=el.getRootNode();if(el.id){let matching=root.querySelectorAll(`label[for = ${el.id}]`);for(let i=0;i<matching.length;i++){labels.push(matching[i])}}}return labels}let mouseCanceller=function(mouseEvent){let sc=mouseEvent.sourceCapabilities;if(sc&&!sc.firesTouchEvents){return}mouseEvent[HANDLED_OBJ]={skip:!0};if("click"===mouseEvent.type){let clickFromLabel=!1,path=mouseEvent.composedPath&&mouseEvent.composedPath();if(path){for(let i=0;i<path.length;i++){if(path[i].nodeType===Node.ELEMENT_NODE){if("label"===path[i].localName){clickedLabels.push(path[i])}else if(canBeLabelled(path[i])){let ownerLabels=matchingLabels(path[i]);for(let j=0;j<ownerLabels.length;j++){clickFromLabel=clickFromLabel||-1<clickedLabels.indexOf(ownerLabels[j])}}}if(path[i]===POINTERSTATE.mouse.target){return}}}if(clickFromLabel){return}mouseEvent.preventDefault();mouseEvent.stopPropagation()}};function setupTeardownMouseCanceller(setup){let events=IS_TOUCH_ONLY?["click"]:MOUSE_EVENTS;for(let i=0,en;i<events.length;i++){en=events[i];if(setup){clickedLabels.length=0;document.addEventListener(en,mouseCanceller,!0)}else{document.removeEventListener(en,mouseCanceller,!0)}}}function hasLeftMouseButton(ev){let type=ev.type;if(!isMouseEvent(type)){return!1}if("mousemove"===type){let buttons=ev.buttons===void 0?1:ev.buttons;if(ev instanceof window.MouseEvent&&!MOUSE_HAS_BUTTONS){buttons=MOUSE_WHICH_TO_BUTTONS[ev.which]||0}return!!(1&buttons)}else{let button=ev.button===void 0?0:ev.button;return 0===button}}function isSyntheticClick(ev){if("click"===ev.type){if(0===ev.detail){return!0}let t=_findOriginalTarget(ev);if(!t.nodeType||t.nodeType!==Node.ELEMENT_NODE){return!0}let bcr=t.getBoundingClientRect(),x=ev.pageX,y=ev.pageY;return!(x>=bcr.left&&x<=bcr.right&&y>=bcr.top&&y<=bcr.bottom)}return!1}let POINTERSTATE={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function firstTouchAction(ev){let ta="auto",path=ev.composedPath&&ev.composedPath();if(path){for(let i=0,n;i<path.length;i++){n=path[i];if(n[TOUCH_ACTION]){ta=n[TOUCH_ACTION];break}}}return ta}function trackDocument(stateObj,movefn,upfn){stateObj.movefn=movefn;stateObj.upfn=upfn;document.addEventListener("mousemove",movefn);document.addEventListener("mouseup",upfn)}function untrackDocument(stateObj){document.removeEventListener("mousemove",stateObj.movefn);document.removeEventListener("mouseup",stateObj.upfn);stateObj.movefn=null;stateObj.upfn=null}document.addEventListener("touchend",function(e){if(!POINTERSTATE.mouse.mouseIgnoreJob){setupTeardownMouseCanceller(!0)}POINTERSTATE.mouse.target=e.composedPath()[0];POINTERSTATE.mouse.mouseIgnoreJob=Debouncer.debounce(POINTERSTATE.mouse.mouseIgnoreJob,timeOut.after(2500),function(){setupTeardownMouseCanceller();POINTERSTATE.mouse.target=null;POINTERSTATE.mouse.mouseIgnoreJob=null})},SUPPORTS_PASSIVE?{passive:!0}:!1);const gestures={};_exports.gestures=gestures;const recognizers=[];_exports.recognizers=recognizers;function deepTargetFind(x,y){let node=document.elementFromPoint(x,y),next=node;while(next&&next.shadowRoot&&!window.ShadyDOM){let oldNext=next;next=next.shadowRoot.elementFromPoint(x,y);if(oldNext===next){break}if(next){node=next}}return node}function _findOriginalTarget(ev){if(ev.composedPath){const targets=ev.composedPath();return 0<targets.length?targets[0]:ev.target}return ev.target}function _handleNative(ev){let handled,type=ev.type,node=ev.currentTarget,gobj=node[GESTURE_KEY];if(!gobj){return}let gs=gobj[type];if(!gs){return}if(!ev[HANDLED_OBJ]){ev[HANDLED_OBJ]={};if("touch"===type.slice(0,5)){ev=ev;let t=ev.changedTouches[0];if("touchstart"===type){if(1===ev.touches.length){POINTERSTATE.touch.id=t.identifier}}if(POINTERSTATE.touch.id!==t.identifier){return}if(!HAS_NATIVE_TA){if("touchstart"===type||"touchmove"===type){_handleTouchAction(ev)}}}}handled=ev[HANDLED_OBJ];if(handled.skip){return}for(let i=0,r;i<recognizers.length;i++){r=recognizers[i];if(gs[r.name]&&!handled[r.name]){if(r.flow&&-1<r.flow.start.indexOf(ev.type)&&r.reset){r.reset()}}}for(let i=0,r;i<recognizers.length;i++){r=recognizers[i];if(gs[r.name]&&!handled[r.name]){handled[r.name]=!0;r[type](ev)}}}function _handleTouchAction(ev){let t=ev.changedTouches[0],type=ev.type;if("touchstart"===type){POINTERSTATE.touch.x=t.clientX;POINTERSTATE.touch.y=t.clientY;POINTERSTATE.touch.scrollDecided=!1}else if("touchmove"===type){if(POINTERSTATE.touch.scrollDecided){return}POINTERSTATE.touch.scrollDecided=!0;let ta=firstTouchAction(ev),shouldPrevent=!1,dx=_Mathabs(POINTERSTATE.touch.x-t.clientX),dy=_Mathabs(POINTERSTATE.touch.y-t.clientY);if(!ev.cancelable){}else if("none"===ta){shouldPrevent=!0}else if("pan-x"===ta){shouldPrevent=dy>dx}else if("pan-y"===ta){shouldPrevent=dx>dy}if(shouldPrevent){ev.preventDefault()}else{prevent("track")}}}function addListener(node,evType,handler){if(gestures[evType]){_add(node,evType,handler);return!0}return!1}function removeListener(node,evType,handler){if(gestures[evType]){_remove(node,evType,handler);return!0}return!1}function _add(node,evType,handler){let recognizer=gestures[evType],deps=recognizer.deps,name=recognizer.name,gobj=node[GESTURE_KEY];if(!gobj){node[GESTURE_KEY]=gobj={}}for(let i=0,dep,gd;i<deps.length;i++){dep=deps[i];if(IS_TOUCH_ONLY&&isMouseEvent(dep)&&"click"!==dep){continue}gd=gobj[dep];if(!gd){gobj[dep]=gd={_count:0}}if(0===gd._count){node.addEventListener(dep,_handleNative,PASSIVE_TOUCH(dep))}gd[name]=(gd[name]||0)+1;gd._count=(gd._count||0)+1}node.addEventListener(evType,handler);if(recognizer.touchAction){setTouchAction(node,recognizer.touchAction)}}function _remove(node,evType,handler){let recognizer=gestures[evType],deps=recognizer.deps,name=recognizer.name,gobj=node[GESTURE_KEY];if(gobj){for(let i=0,dep,gd;i<deps.length;i++){dep=deps[i];gd=gobj[dep];if(gd&&gd[name]){gd[name]=(gd[name]||1)-1;gd._count=(gd._count||1)-1;if(0===gd._count){node.removeEventListener(dep,_handleNative,PASSIVE_TOUCH(dep))}}}}node.removeEventListener(evType,handler)}function register$1(recog){recognizers.push(recog);for(let i=0;i<recog.emits.length;i++){gestures[recog.emits[i]]=recog}}function _findRecognizerByEvent(evName){for(let i=0,r;i<recognizers.length;i++){r=recognizers[i];for(let j=0,n;j<r.emits.length;j++){n=r.emits[j];if(n===evName){return r}}}return null}function setTouchAction(node,value){if(HAS_NATIVE_TA){microTask.run(()=>{node.style.touchAction=value})}node[TOUCH_ACTION]=value}function _fire(target,type,detail){let ev=new Event(type,{bubbles:!0,cancelable:!0,composed:!0});ev.detail=detail;target.dispatchEvent(ev);if(ev.defaultPrevented){let preventer=detail.preventer||detail.sourceEvent;if(preventer&&preventer.preventDefault){preventer.preventDefault()}}}function prevent(evName){let recognizer=_findRecognizerByEvent(evName);if(recognizer.info){recognizer.info.prevent=!0}}function resetMouseCanceller(){if(POINTERSTATE.mouse.mouseIgnoreJob){POINTERSTATE.mouse.mouseIgnoreJob.flush()}}register$1({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){untrackDocument(this.info)},mousedown:function(e){if(!hasLeftMouseButton(e)){return}let t=_findOriginalTarget(e),self=this;trackDocument(this.info,function(e){if(!hasLeftMouseButton(e)){downupFire("up",t,e);untrackDocument(self.info)}},function(e){if(hasLeftMouseButton(e)){downupFire("up",t,e)}untrackDocument(self.info)});downupFire("down",t,e)},touchstart:function(e){downupFire("down",_findOriginalTarget(e),e.changedTouches[0],e)},touchend:function(e){downupFire("up",_findOriginalTarget(e),e.changedTouches[0],e)}});function downupFire(type,target,event,preventer){if(!target){return}_fire(target,type,{x:event.clientX,y:event.clientY,sourceEvent:event,preventer:preventer,prevent:function(e){return prevent(e)}})}register$1({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(move){if(this.moves.length>2){this.moves.shift()}this.moves.push(move)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start";this.info.started=!1;this.info.moves=[];this.info.x=0;this.info.y=0;this.info.prevent=!1;untrackDocument(this.info)},mousedown:function(e){if(!hasLeftMouseButton(e)){return}let t=_findOriginalTarget(e),self=this,movefn=function(e){let x=e.clientX,y=e.clientY;if(trackHasMovedEnough(self.info,x,y)){self.info.state=self.info.started?"mouseup"===e.type?"end":"track":"start";if("start"===self.info.state){prevent("tap")}self.info.addMove({x:x,y:y});if(!hasLeftMouseButton(e)){self.info.state="end";untrackDocument(self.info)}if(t){trackFire(self.info,t,e)}self.info.started=!0}};trackDocument(this.info,movefn,function(e){if(self.info.started){movefn(e)}untrackDocument(self.info)});this.info.x=e.clientX;this.info.y=e.clientY},touchstart:function(e){let ct=e.changedTouches[0];this.info.x=ct.clientX;this.info.y=ct.clientY},touchmove:function(e){let t=_findOriginalTarget(e),ct=e.changedTouches[0],x=ct.clientX,y=ct.clientY;if(trackHasMovedEnough(this.info,x,y)){if("start"===this.info.state){prevent("tap")}this.info.addMove({x:x,y:y});trackFire(this.info,t,ct);this.info.state="track";this.info.started=!0}},touchend:function(e){let t=_findOriginalTarget(e),ct=e.changedTouches[0];if(this.info.started){this.info.state="end";this.info.addMove({x:ct.clientX,y:ct.clientY});trackFire(this.info,t,ct)}}});function trackHasMovedEnough(info,x,y){if(info.prevent){return!1}if(info.started){return!0}let dx=_Mathabs(info.x-x),dy=_Mathabs(info.y-y);return dx>=TRACK_DISTANCE||dy>=TRACK_DISTANCE}function trackFire(info,target,touch){if(!target){return}let secondlast=info.moves[info.moves.length-2],lastmove=info.moves[info.moves.length-1],dx=lastmove.x-info.x,dy=lastmove.y-info.y,ddx,ddy=0;if(secondlast){ddx=lastmove.x-secondlast.x;ddy=lastmove.y-secondlast.y}_fire(target,"track",{state:info.state,x:touch.clientX,y:touch.clientY,dx:dx,dy:dy,ddx:ddx,ddy:ddy,sourceEvent:touch,hover:function(){return deepTargetFind(touch.clientX,touch.clientY)}})}register$1({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN;this.info.y=NaN;this.info.prevent=!1},mousedown:function(e){if(hasLeftMouseButton(e)){this.info.x=e.clientX;this.info.y=e.clientY}},click:function(e){if(hasLeftMouseButton(e)){trackForward(this.info,e)}},touchstart:function(e){const touch=e.changedTouches[0];this.info.x=touch.clientX;this.info.y=touch.clientY},touchend:function(e){trackForward(this.info,e.changedTouches[0],e)}});function trackForward(info,e,preventer){let dx=_Mathabs(e.clientX-info.x),dy=_Mathabs(e.clientY-info.y),t=_findOriginalTarget(preventer||e);if(!t||canBeDisabled[t.localName]&&t.hasAttribute("disabled")){return}if(isNaN(dx)||isNaN(dy)||dx<=TAP_DISTANCE&&dy<=TAP_DISTANCE||isSyntheticClick(e)){if(!info.prevent){_fire(t,"tap",{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:preventer})}}}const findOriginalTarget=_findOriginalTarget;_exports.findOriginalTarget=findOriginalTarget;const add=addListener;_exports.add=add;const remove=removeListener;_exports.remove=remove;var gestures$0={gestures:gestures,recognizers:recognizers,deepTargetFind:deepTargetFind,addListener:addListener,removeListener:removeListener,register:register$1,setTouchAction:setTouchAction,prevent:prevent,resetMouseCanceller:resetMouseCanceller,findOriginalTarget:findOriginalTarget,add:add,remove:remove};_exports.$gestures=gestures$0;const gestures$1=gestures$0,GestureEventListeners=dedupingMixin(superClass=>{return class extends superClass{_addEventListenerToNode(node,eventName,handler){if(!gestures$1.addListener(node,eventName,handler)){super._addEventListenerToNode(node,eventName,handler)}}_removeEventListenerFromNode(node,eventName,handler){if(!gestures$1.removeListener(node,eventName,handler)){super._removeEventListenerFromNode(node,eventName,handler)}}}});_exports.GestureEventListeners=GestureEventListeners;_exports.$gestureEventListeners={GestureEventListeners:GestureEventListeners};const HOST_DIR=/:host\(:dir\((ltr|rtl)\)\)/g,EL_DIR=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,DIR_INSTANCES=[];let observer=null,DOCUMENT_DIR="";function getRTL(){DOCUMENT_DIR=document.documentElement.getAttribute("dir")}function setRTL(instance){if(!instance.__autoDirOptOut){instance.setAttribute("dir",DOCUMENT_DIR)}}function updateDirection(){getRTL();DOCUMENT_DIR=document.documentElement.getAttribute("dir");for(let i=0;i<DIR_INSTANCES.length;i++){setRTL(DIR_INSTANCES[i])}}function takeRecords(){if(observer&&observer.takeRecords().length){updateDirection()}}const DirMixin=dedupingMixin(base=>{if(!observer){getRTL();observer=new MutationObserver(updateDirection);observer.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]})}const elementBase=PropertyAccessors(base);class Dir extends elementBase{static _processStyleText(cssText,baseURI){cssText=super._processStyleText(cssText,baseURI);cssText=this._replaceDirInCssText(cssText);return cssText}static _replaceDirInCssText(text){let replacedText=text;replacedText=replacedText.replace(HOST_DIR,":host([dir=\"$1\"])");replacedText=replacedText.replace(EL_DIR,":host([dir=\"$2\"]) $1");if(text!==replacedText){this.__activateDir=!0}return replacedText}constructor(){super();this.__autoDirOptOut=!1}ready(){super.ready();this.__autoDirOptOut=this.hasAttribute("dir")}connectedCallback(){if(elementBase.prototype.connectedCallback){super.connectedCallback()}if(this.constructor.__activateDir){takeRecords();DIR_INSTANCES.push(this);setRTL(this)}}disconnectedCallback(){if(elementBase.prototype.disconnectedCallback){super.disconnectedCallback()}if(this.constructor.__activateDir){const idx=DIR_INSTANCES.indexOf(this);if(-1<idx){DIR_INSTANCES.splice(idx,1)}}}}Dir.__activateDir=!1;return Dir});_exports.DirMixin=DirMixin;_exports.$dirMixin={DirMixin:DirMixin};let scheduled=!1,beforeRenderQueue=[],afterRenderQueue=[];function schedule(){scheduled=!0;requestAnimationFrame(function(){scheduled=!1;flushQueue(beforeRenderQueue);setTimeout(function(){runQueue(afterRenderQueue)})})}function flushQueue(queue){while(queue.length){callMethod(queue.shift())}}function runQueue(queue){for(let i=0,l=queue.length;i<l;i++){callMethod(queue.shift())}}function callMethod(info){const context=info[0],callback=info[1],args=info[2];try{callback.apply(context,args)}catch(e){setTimeout(()=>{throw e})}}function flush(){while(beforeRenderQueue.length||afterRenderQueue.length){flushQueue(beforeRenderQueue);flushQueue(afterRenderQueue)}scheduled=!1}function beforeNextRender(context,callback,args){if(!scheduled){schedule()}beforeRenderQueue.push([context,callback,args])}function afterNextRender(context,callback,args){if(!scheduled){schedule()}afterRenderQueue.push([context,callback,args])}_exports.$renderStatus={beforeNextRender:beforeNextRender,afterNextRender:afterNextRender,flush:flush};function resolve(){document.body.removeAttribute("unresolved")}if("interactive"===document.readyState||"complete"===document.readyState){resolve()}else{window.addEventListener("DOMContentLoaded",resolve)}function newSplice(index,removed,addedCount){return{index:index,removed:removed,addedCount:addedCount}}const EDIT_LEAVE=0,EDIT_UPDATE=1,EDIT_ADD=2,EDIT_DELETE=3;function calcEditDistances(current,currentStart,currentEnd,old,oldStart,oldEnd){let rowCount=oldEnd-oldStart+1,columnCount=currentEnd-currentStart+1,distances=Array(rowCount);for(let i=0;i<rowCount;i++){distances[i]=Array(columnCount);distances[i][0]=i}for(let j=0;j<columnCount;j++)distances[0][j]=j;for(let i=1;i<rowCount;i++){for(let j=1;j<columnCount;j++){if(equals(current[currentStart+j-1],old[oldStart+i-1]))distances[i][j]=distances[i-1][j-1];else{let north=distances[i-1][j]+1,west=distances[i][j-1]+1;distances[i][j]=north<west?north:west}}}return distances}function spliceOperationsFromEditDistances(distances){let i=distances.length-1,j=distances[0].length-1,current=distances[i][j],edits=[];while(0<i||0<j){if(0==i){edits.push(EDIT_ADD);j--;continue}if(0==j){edits.push(EDIT_DELETE);i--;continue}let northWest=distances[i-1][j-1],west=distances[i-1][j],north=distances[i][j-1],min;if(west<north)min=west<northWest?west:northWest;else min=north<northWest?north:northWest;if(min==northWest){if(northWest==current){edits.push(EDIT_LEAVE)}else{edits.push(EDIT_UPDATE);current=northWest}i--;j--}else if(min==west){edits.push(EDIT_DELETE);i--;current=west}else{edits.push(EDIT_ADD);j--;current=north}}edits.reverse();return edits}function calcSplices(current,currentStart,currentEnd,old,oldStart,oldEnd){let prefixCount=0,suffixCount=0,splice,minLength=_Mathmin(currentEnd-currentStart,oldEnd-oldStart);if(0==currentStart&&0==oldStart)prefixCount=sharedPrefix(current,old,minLength);if(currentEnd==current.length&&oldEnd==old.length)suffixCount=sharedSuffix(current,old,minLength-prefixCount);currentStart+=prefixCount;oldStart+=prefixCount;currentEnd-=suffixCount;oldEnd-=suffixCount;if(0==currentEnd-currentStart&&0==oldEnd-oldStart)return[];if(currentStart==currentEnd){splice=newSplice(currentStart,[],0);while(oldStart<oldEnd)splice.removed.push(old[oldStart++]);return[splice]}else if(oldStart==oldEnd)return[newSplice(currentStart,[],currentEnd-currentStart)];let ops=spliceOperationsFromEditDistances(calcEditDistances(current,currentStart,currentEnd,old,oldStart,oldEnd));splice=void 0;let splices=[],index=currentStart,oldIndex=oldStart;for(let i=0;i<ops.length;i++){switch(ops[i]){case EDIT_LEAVE:if(splice){splices.push(splice);splice=void 0}index++;oldIndex++;break;case EDIT_UPDATE:if(!splice)splice=newSplice(index,[],0);splice.addedCount++;index++;splice.removed.push(old[oldIndex]);oldIndex++;break;case EDIT_ADD:if(!splice)splice=newSplice(index,[],0);splice.addedCount++;index++;break;case EDIT_DELETE:if(!splice)splice=newSplice(index,[],0);splice.removed.push(old[oldIndex]);oldIndex++;break;}}if(splice){splices.push(splice)}return splices}function sharedPrefix(current,old,searchLength){for(let i=0;i<searchLength;i++)if(!equals(current[i],old[i]))return i;return searchLength}function sharedSuffix(current,old,searchLength){let index1=current.length,index2=old.length,count=0;while(count<searchLength&&equals(current[--index1],old[--index2]))count++;return count}function calculateSplices(current,previous){return calcSplices(current,0,current.length,previous,0,previous.length)}function equals(currentValue,previousValue){return currentValue===previousValue}_exports.$arraySplice={calculateSplices:calculateSplices};function isSlot(node){return"slot"===node.localName}class FlattenedNodesObserver{static getFlattenedNodes(node){if(isSlot(node)){node=node;return node.assignedNodes({flatten:!0})}else{return Array.from(node.childNodes).map(node=>{if(isSlot(node)){node=node;return node.assignedNodes({flatten:!0})}else{return[node]}}).reduce((a,b)=>a.concat(b),[])}}constructor(target,callback){this._shadyChildrenObserver=null;this._nativeChildrenObserver=null;this._connected=!1;this._target=target;this.callback=callback;this._effectiveNodes=[];this._observer=null;this._scheduled=!1;this._boundSchedule=()=>{this._schedule()};this.connect();this._schedule()}connect(){if(isSlot(this._target)){this._listenSlots([this._target])}else if(this._target.children){this._listenSlots(this._target.children);if(window.ShadyDOM){this._shadyChildrenObserver=ShadyDOM.observeChildren(this._target,mutations=>{this._processMutations(mutations)})}else{this._nativeChildrenObserver=new MutationObserver(mutations=>{this._processMutations(mutations)});this._nativeChildrenObserver.observe(this._target,{childList:!0})}}this._connected=!0}disconnect(){if(isSlot(this._target)){this._unlistenSlots([this._target])}else if(this._target.children){this._unlistenSlots(this._target.children);if(window.ShadyDOM&&this._shadyChildrenObserver){ShadyDOM.unobserveChildren(this._shadyChildrenObserver);this._shadyChildrenObserver=null}else if(this._nativeChildrenObserver){this._nativeChildrenObserver.disconnect();this._nativeChildrenObserver=null}}this._connected=!1}_schedule(){if(!this._scheduled){this._scheduled=!0;microTask.run(()=>this.flush())}}_processMutations(mutations){this._processSlotMutations(mutations);this.flush()}_processSlotMutations(mutations){if(mutations){for(let i=0,mutation;i<mutations.length;i++){mutation=mutations[i];if(mutation.addedNodes){this._listenSlots(mutation.addedNodes)}if(mutation.removedNodes){this._unlistenSlots(mutation.removedNodes)}}}}flush(){if(!this._connected){return!1}if(window.ShadyDOM){ShadyDOM.flush()}if(this._nativeChildrenObserver){this._processSlotMutations(this._nativeChildrenObserver.takeRecords())}else if(this._shadyChildrenObserver){this._processSlotMutations(this._shadyChildrenObserver.takeRecords())}this._scheduled=!1;let info={target:this._target,addedNodes:[],removedNodes:[]},newNodes=this.constructor.getFlattenedNodes(this._target),splices=calculateSplices(newNodes,this._effectiveNodes);for(let i=0,s;i<splices.length&&(s=splices[i]);i++){for(let j=0,n;j<s.removed.length&&(n=s.removed[j]);j++){info.removedNodes.push(n)}}for(let i=0,s;i<splices.length&&(s=splices[i]);i++){for(let j=s.index;j<s.index+s.addedCount;j++){info.addedNodes.push(newNodes[j])}}this._effectiveNodes=newNodes;let didFlush=!1;if(info.addedNodes.length||info.removedNodes.length){didFlush=!0;this.callback.call(this._target,info)}return didFlush}_listenSlots(nodeList){for(let i=0,n;i<nodeList.length;i++){n=nodeList[i];if(isSlot(n)){n.addEventListener("slotchange",this._boundSchedule)}}}_unlistenSlots(nodeList){for(let i=0,n;i<nodeList.length;i++){n=nodeList[i];if(isSlot(n)){n.removeEventListener("slotchange",this._boundSchedule)}}}}_exports.FlattenedNodesObserver=FlattenedNodesObserver;_exports.$flattenedNodesObserver={FlattenedNodesObserver:FlattenedNodesObserver};let debouncerQueue=[];const enqueueDebouncer=function(debouncer){debouncerQueue.push(debouncer)};_exports.enqueueDebouncer=_exports.addDebouncer=enqueueDebouncer;function flushDebouncers(){const didFlush=!!debouncerQueue.length;while(debouncerQueue.length){try{debouncerQueue.shift().flush()}catch(e){setTimeout(()=>{throw e})}}return didFlush}const flush$1=function(){let shadyDOM,debouncers;do{shadyDOM=window.ShadyDOM&&ShadyDOM.flush();if(window.ShadyCSS&&window.ShadyCSS.ScopingShim){window.ShadyCSS.ScopingShim.flush()}debouncers=flushDebouncers()}while(shadyDOM||debouncers)};_exports.flush$2=_exports.flush$1=flush$1;_exports.$flush={enqueueDebouncer:enqueueDebouncer,flush:flush$1};const p=Element.prototype,normalizedMatchesSelector=p.matches||p.matchesSelector||p.mozMatchesSelector||p.msMatchesSelector||p.oMatchesSelector||p.webkitMatchesSelector,matchesSelector=function(node,selector){return normalizedMatchesSelector.call(node,selector)};_exports.matchesSelector=matchesSelector;class DomApi{constructor(node){this.node=node}observeNodes(callback){return new FlattenedNodesObserver(this.node,callback)}unobserveNodes(observerHandle){observerHandle.disconnect()}notifyObserver(){}deepContains(node){if(this.node.contains(node)){return!0}let n=node,doc=node.ownerDocument;while(n&&n!==doc&&n!==this.node){n=n.parentNode||n.host}return n===this.node}getOwnerRoot(){return this.node.getRootNode()}getDistributedNodes(){return"slot"===this.node.localName?this.node.assignedNodes({flatten:!0}):[]}getDestinationInsertionPoints(){let ip$=[],n=this.node.assignedSlot;while(n){ip$.push(n);n=n.assignedSlot}return ip$}importNode(node,deep){let doc=this.node instanceof Document?this.node:this.node.ownerDocument;return doc.importNode(node,deep)}getEffectiveChildNodes(){return FlattenedNodesObserver.getFlattenedNodes(this.node)}queryDistributedElements(selector){let c$=this.getEffectiveChildNodes(),list=[];for(let i=0,l=c$.length,c;i<l&&(c=c$[i]);i++){if(c.nodeType===Node.ELEMENT_NODE&&matchesSelector(c,selector)){list.push(c)}}return list}get activeElement(){let node=this.node;return node._activeElement!==void 0?node._activeElement:node.activeElement}}_exports.DomApi=DomApi;function forwardMethods(proto,methods){for(let i=0,method;i<methods.length;i++){method=methods[i];proto[method]=function(){return this.node[method].apply(this.node,arguments)}}}function forwardReadOnlyProperties(proto,properties){for(let i=0,name;i<properties.length;i++){name=properties[i];Object.defineProperty(proto,name,{get:function(){const domApi=this;return domApi.node[name]},configurable:!0})}}function forwardProperties(proto,properties){for(let i=0,name;i<properties.length;i++){name=properties[i];Object.defineProperty(proto,name,{get:function(){const domApi=this;return domApi.node[name]},set:function(value){this.node[name]=value},configurable:!0})}}class EventApi{constructor(event){this.event=event}get rootTarget(){return this.event.composedPath()[0]}get localTarget(){return this.event.target}get path(){return this.event.composedPath()}}DomApi.prototype.cloneNode;DomApi.prototype.appendChild;DomApi.prototype.insertBefore;DomApi.prototype.removeChild;DomApi.prototype.replaceChild;DomApi.prototype.setAttribute;DomApi.prototype.removeAttribute;DomApi.prototype.querySelector;DomApi.prototype.querySelectorAll;DomApi.prototype.parentNode;DomApi.prototype.firstChild;DomApi.prototype.lastChild;DomApi.prototype.nextSibling;DomApi.prototype.previousSibling;DomApi.prototype.firstElementChild;DomApi.prototype.lastElementChild;DomApi.prototype.nextElementSibling;DomApi.prototype.previousElementSibling;DomApi.prototype.childNodes;DomApi.prototype.children;DomApi.prototype.classList;DomApi.prototype.textContent;DomApi.prototype.innerHTML;forwardMethods(DomApi.prototype,["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector","querySelectorAll"]);forwardReadOnlyProperties(DomApi.prototype,["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling","childNodes","children","classList"]);forwardProperties(DomApi.prototype,["textContent","innerHTML"]);const dom$1=function(obj){obj=obj||document;if(!obj.__domApi){let helper;if(obj instanceof Event){helper=new EventApi(obj)}else{helper=new DomApi(obj)}obj.__domApi=helper}return obj.__domApi};_exports.dom=dom$1;_exports.$polymerDom={matchesSelector:matchesSelector,DomApi:DomApi,dom:dom$1,flush:flush$1,addDebouncer:enqueueDebouncer};({...meta,url:new URL("../node_modules/%40polymer/polymer/lib/legacy/legacy-element-mixin.js",meta.url).href});let styleInterface=window.ShadyCSS;const LegacyElementMixin=dedupingMixin(base=>{const legacyElementBase=DirMixin(GestureEventListeners(ElementMixin(base))),DIRECTION_MAP={x:"pan-x",y:"pan-y",none:"none",all:"auto"};class LegacyElement extends legacyElementBase{constructor(){super();this.isAttached;this.__boundListeners;this._debouncers;this._applyListeners()}static get importMeta(){return this.prototype.importMeta}created(){}connectedCallback(){super.connectedCallback();this.isAttached=!0;this.attached()}attached(){}disconnectedCallback(){super.disconnectedCallback();this.isAttached=!1;this.detached()}detached(){}attributeChangedCallback(name,old,value,namespace){if(old!==value){super.attributeChangedCallback(name,old,value,namespace);this.attributeChanged(name,old,value)}}attributeChanged(){}_initializeProperties(){let proto=Object.getPrototypeOf(this);if(!proto.hasOwnProperty("__hasRegisterFinished")){proto.__hasRegisterFinished=!0;this._registered()}super._initializeProperties();this.root=this;this.created()}_registered(){}ready(){this._ensureAttributes();super.ready()}_ensureAttributes(){}_applyListeners(){}serialize(value){return this._serializeValue(value)}deserialize(value,type){return this._deserializeValue(value,type)}reflectPropertyToAttribute(property,attribute,value){this._propertyToAttribute(property,attribute,value)}serializeValueToAttribute(value,attribute,node){this._valueToNodeAttribute(node||this,value,attribute)}extend(prototype,api){if(!(prototype&&api)){return prototype||api}let n$=Object.getOwnPropertyNames(api);for(let i=0,n,pd;i<n$.length&&(n=n$[i]);i++){pd=Object.getOwnPropertyDescriptor(api,n);if(pd){Object.defineProperty(prototype,n,pd)}}return prototype}mixin(target,source){for(let i in source){target[i]=source[i]}return target}chainObject(object,prototype){if(object&&prototype&&object!==prototype){object.__proto__=prototype}return object}instanceTemplate(template){let content=this.constructor._contentForTemplate(template),dom$$1=document.importNode(content,!0);return dom$$1}fire(type,detail,options){options=options||{};detail=null===detail||detail===void 0?{}:detail;let event=new Event(type,{bubbles:options.bubbles===void 0?!0:options.bubbles,cancelable:!!options.cancelable,composed:options.composed===void 0?!0:options.composed});event.detail=detail;let node=options.node||this;node.dispatchEvent(event);return event}listen(node,eventName,methodName){node=node||this;let hbl=this.__boundListeners||(this.__boundListeners=new WeakMap),bl=hbl.get(node);if(!bl){bl={};hbl.set(node,bl)}let key=eventName+methodName;if(!bl[key]){bl[key]=this._addMethodEventListenerToNode(node,eventName,methodName,this)}}unlisten(node,eventName,methodName){node=node||this;let bl=this.__boundListeners&&this.__boundListeners.get(node),key=eventName+methodName,handler=bl&&bl[key];if(handler){this._removeEventListenerFromNode(node,eventName,handler);bl[key]=null}}setScrollDirection(direction,node){setTouchAction(node||this,DIRECTION_MAP[direction]||"auto")}$$(slctr){return this.root.querySelector(slctr)}get domHost(){let root$$1=this.getRootNode();return root$$1 instanceof DocumentFragment?root$$1.host:root$$1}distributeContent(){if(window.ShadyDOM&&this.shadowRoot){ShadyDOM.flush()}}getEffectiveChildNodes(){const thisEl=this,domApi=dom$1(thisEl);return domApi.getEffectiveChildNodes()}queryDistributedElements(selector){const thisEl=this,domApi=dom$1(thisEl);return domApi.queryDistributedElements(selector)}getEffectiveChildren(){let list=this.getEffectiveChildNodes();return list.filter(function(n){return n.nodeType===Node.ELEMENT_NODE})}getEffectiveTextContent(){let cn=this.getEffectiveChildNodes(),tc=[];for(let i=0,c;c=cn[i];i++){if(c.nodeType!==Node.COMMENT_NODE){tc.push(c.textContent)}}return tc.join("")}queryEffectiveChildren(selector){let e$=this.queryDistributedElements(selector);return e$&&e$[0]}queryAllEffectiveChildren(selector){return this.queryDistributedElements(selector)}getContentChildNodes(slctr){let content=this.root.querySelector(slctr||"slot");return content?dom$1(content).getDistributedNodes():[]}getContentChildren(slctr){let children=this.getContentChildNodes(slctr).filter(function(n){return n.nodeType===Node.ELEMENT_NODE});return children}isLightDescendant(node){const thisNode=this;return thisNode!==node&&thisNode.contains(node)&&thisNode.getRootNode()===node.getRootNode()}isLocalDescendant(node){return this.root===node.getRootNode()}scopeSubtree(){}getComputedStyleValue(property){return styleInterface.getComputedStyleValue(this,property)}debounce(jobName,callback,wait){this._debouncers=this._debouncers||{};return this._debouncers[jobName]=Debouncer.debounce(this._debouncers[jobName],0<wait?timeOut.after(wait):microTask,callback.bind(this))}isDebouncerActive(jobName){this._debouncers=this._debouncers||{};let debouncer=this._debouncers[jobName];return!!(debouncer&&debouncer.isActive())}flushDebouncer(jobName){this._debouncers=this._debouncers||{};let debouncer=this._debouncers[jobName];if(debouncer){debouncer.flush()}}cancelDebouncer(jobName){this._debouncers=this._debouncers||{};let debouncer=this._debouncers[jobName];if(debouncer){debouncer.cancel()}}async(callback,waitTime){return 0<waitTime?timeOut.run(callback.bind(this),waitTime):~microTask.run(callback.bind(this))}cancelAsync(handle){0>handle?microTask.cancel(~handle):timeOut.cancel(handle)}create(tag,props){let elt=document.createElement(tag);if(props){if(elt.setProperties){elt.setProperties(props)}else{for(let n in props){elt[n]=props[n]}}}return elt}elementMatches(selector,node){return matchesSelector(node||this,selector)}toggleAttribute(name,bool,node){node=node||this;if(1==arguments.length){bool=!node.hasAttribute(name)}if(bool){node.setAttribute(name,"")}else{node.removeAttribute(name)}}toggleClass(name,bool,node){node=node||this;if(1==arguments.length){bool=!node.classList.contains(name)}if(bool){node.classList.add(name)}else{node.classList.remove(name)}}transform(transformText,node){node=node||this;node.style.webkitTransform=transformText;node.style.transform=transformText}translate3d(x,y,z,node){node=node||this;this.transform("translate3d("+x+","+y+","+z+")",node)}arrayDelete(arrayOrPath,item){let index;if(Array.isArray(arrayOrPath)){index=arrayOrPath.indexOf(item);if(0<=index){return arrayOrPath.splice(index,1)}}else{let arr=get(this,arrayOrPath);index=arr.indexOf(item);if(0<=index){return this.splice(arrayOrPath,index,1)}}return null}_logger(level,args){if(Array.isArray(args)&&1===args.length&&Array.isArray(args[0])){args=args[0]}switch(level){case"log":case"warn":case"error":console[level](...args);}}_log(...args){this._logger("log",args)}_warn(...args){this._logger("warn",args)}_error(...args){this._logger("error",args)}_logf(methodName,...args){return["[%s::%s]",this.is,methodName,...args]}}LegacyElement.prototype.is="";return LegacyElement});_exports.LegacyElementMixin=LegacyElementMixin;_exports.$legacyElementMixin={LegacyElementMixin:LegacyElementMixin};let metaProps={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0};function mixinBehaviors(behaviors,klass){if(!behaviors){klass=klass;return klass}klass=LegacyElementMixin(klass);if(!Array.isArray(behaviors)){behaviors=[behaviors]}let superBehaviors=klass.prototype.behaviors;behaviors=flattenBehaviors(behaviors,null,superBehaviors);klass=_mixinBehaviors(behaviors,klass);if(superBehaviors){behaviors=superBehaviors.concat(behaviors)}klass.prototype.behaviors=behaviors;return klass}function _mixinBehaviors(behaviors,klass){for(let i=0,b;i<behaviors.length;i++){b=behaviors[i];if(b){klass=Array.isArray(b)?_mixinBehaviors(b,klass):GenerateClassFromInfo(b,klass)}}return klass}function flattenBehaviors(behaviors,list,exclude){list=list||[];for(let i=behaviors.length-1,b;0<=i;i--){b=behaviors[i];if(b){if(Array.isArray(b)){flattenBehaviors(b,list)}else{if(0>list.indexOf(b)&&(!exclude||0>exclude.indexOf(b))){list.unshift(b)}}}else{console.warn("behavior is null, check for missing or 404 import")}}return list}function GenerateClassFromInfo(info,Base){class PolymerGenerated extends Base{static get properties(){return info.properties}static get observers(){return info.observers}static get template(){return info._template||DomModule&&DomModule.import(this.is,"template")||Base.template||this.prototype._template||null}created(){super.created();if(info.created){info.created.call(this)}}_registered(){super._registered();if(info.beforeRegister){info.beforeRegister.call(Object.getPrototypeOf(this))}if(info.registered){info.registered.call(Object.getPrototypeOf(this))}}_applyListeners(){super._applyListeners();if(info.listeners){for(let l in info.listeners){this._addMethodEventListenerToNode(this,l,info.listeners[l])}}}_ensureAttributes(){if(info.hostAttributes){for(let a in info.hostAttributes){this._ensureAttribute(a,info.hostAttributes[a])}}super._ensureAttributes()}ready(){super.ready();if(info.ready){info.ready.call(this)}}attached(){super.attached();if(info.attached){info.attached.call(this)}}detached(){super.detached();if(info.detached){info.detached.call(this)}}attributeChanged(name,old,value){super.attributeChanged(name,old,value);if(info.attributeChanged){info.attributeChanged.call(this,name,old,value)}}}PolymerGenerated.generatedFrom=info;for(let p in info){if(!(p in metaProps)){let pd=Object.getOwnPropertyDescriptor(info,p);if(pd){Object.defineProperty(PolymerGenerated.prototype,p,pd)}}}return PolymerGenerated}const Class=function(info){if(!info){console.warn(`Polymer's Class function requires \`info\` argument`)}let klass=GenerateClassFromInfo(info,info.behaviors?mixinBehaviors(info.behaviors,HTMLElement):LegacyElementMixin(HTMLElement));klass.is=info.is;return klass};_exports.Class=Class;_exports.$class={mixinBehaviors:mixinBehaviors,Class:Class};const Polymer=function(info){let klass;if("function"===typeof info){klass=info}else{klass=Polymer.Class(info)}customElements.define(klass.is,klass);return klass};_exports.Polymer$1=_exports.Polymer=Polymer;Polymer.Class=Class;_exports.$polymerFn={Polymer:Polymer};function mutablePropertyChange(inst,property,value,old,mutableData){let isObject;if(mutableData){isObject="object"===typeof value&&null!==value;if(isObject){old=inst.__dataTemp[property]}}let shouldChange=old!==value&&(old===old||value===value);if(isObject&&shouldChange){inst.__dataTemp[property]=value}return shouldChange}const MutableData=dedupingMixin(superClass=>{return class extends superClass{_shouldPropertyChange(property,value,old){return mutablePropertyChange(this,property,value,old,!0)}}});_exports.MutableData=MutableData;const OptionalMutableData=dedupingMixin(superClass=>{class OptionalMutableData extends superClass{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(property,value,old){return mutablePropertyChange(this,property,value,old,this.mutableData)}}return OptionalMutableData});_exports.OptionalMutableData=OptionalMutableData;MutableData._mutablePropertyChange=mutablePropertyChange;_exports.$mutableData={MutableData:MutableData,OptionalMutableData:OptionalMutableData};let newInstance=null;function HTMLTemplateElementExtension(){return newInstance}HTMLTemplateElementExtension.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:HTMLTemplateElementExtension,writable:!0}});const DataTemplate=PropertyEffects(HTMLTemplateElementExtension),MutableDataTemplate=MutableData(DataTemplate);function upgradeTemplate(template,constructor){newInstance=template;Object.setPrototypeOf(template,constructor.prototype);new constructor;newInstance=null}const base=PropertyEffects(class{});class TemplateInstanceBase extends base{constructor(props){super();this._configureProperties(props);this.root=this._stampTemplate(this.__dataHost);let children=this.children=[];for(let n=this.root.firstChild;n;n=n.nextSibling){children.push(n);n.__templatizeInstance=this}if(this.__templatizeOwner&&this.__templatizeOwner.__hideTemplateChildren__){this._showHideChildren(!0)}let options=this.__templatizeOptions;if(props&&options.instanceProps||!options.instanceProps){this._enableProperties()}}_configureProperties(props){let options=this.__templatizeOptions;if(options.forwardHostProp){for(let hprop in this.__hostProps){this._setPendingProperty(hprop,this.__dataHost["_host_"+hprop])}}for(let iprop in props){this._setPendingProperty(iprop,props[iprop])}}forwardHostProp(prop,value){if(this._setPendingPropertyOrPath(prop,value,!1,!0)){this.__dataHost._enqueueClient(this)}}_addEventListenerToNode(node,eventName,handler){if(this._methodHost&&this.__templatizeOptions.parentModel){this._methodHost._addEventListenerToNode(node,eventName,e=>{e.model=this;handler(e)})}else{let templateHost=this.__dataHost.__dataHost;if(templateHost){templateHost._addEventListenerToNode(node,eventName,handler)}}}_showHideChildren(hide){let c=this.children;for(let i=0,n;i<c.length;i++){n=c[i];if(!!hide!=!!n.__hideTemplateChildren__){if(n.nodeType===Node.TEXT_NODE){if(hide){n.__polymerTextContent__=n.textContent;n.textContent=""}else{n.textContent=n.__polymerTextContent__}}else if("slot"===n.localName){if(hide){n.__polymerReplaced__=document.createComment("hidden-slot");n.parentNode.replaceChild(n.__polymerReplaced__,n)}else{const replace=n.__polymerReplaced__;if(replace){replace.parentNode.replaceChild(n,replace)}}}else if(n.style){if(hide){n.__polymerDisplay__=n.style.display;n.style.display="none"}else{n.style.display=n.__polymerDisplay__}}}n.__hideTemplateChildren__=hide;if(n._showHideChildren){n._showHideChildren(hide)}}}_setUnmanagedPropertyToNode(node,prop,value){if(node.__hideTemplateChildren__&&node.nodeType==Node.TEXT_NODE&&"textContent"==prop){node.__polymerTextContent__=value}else{super._setUnmanagedPropertyToNode(node,prop,value)}}get parentModel(){let model=this.__parentModel;if(!model){let options;model=this;do{model=model.__dataHost.__dataHost}while((options=model.__templatizeOptions)&&!options.parentModel);this.__parentModel=model}return model}dispatchEvent(){return!0}}_exports.TemplateInstanceBase=TemplateInstanceBase;TemplateInstanceBase.prototype.__dataHost;TemplateInstanceBase.prototype.__templatizeOptions;TemplateInstanceBase.prototype._methodHost;TemplateInstanceBase.prototype.__templatizeOwner;TemplateInstanceBase.prototype.__hostProps;const MutableTemplateInstanceBase=MutableData(TemplateInstanceBase);function findMethodHost(template){let templateHost=template.__dataHost;return templateHost&&templateHost._methodHost||templateHost}function createTemplatizerClass(template,templateInfo,options){let base=options.mutableData?MutableTemplateInstanceBase:TemplateInstanceBase,klass=class extends base{};klass.prototype.__templatizeOptions=options;klass.prototype._bindTemplate(template);addNotifyEffects(klass,template,templateInfo,options);return klass}function addPropagateEffects(template,templateInfo,options){let userForwardHostProp=options.forwardHostProp;if(userForwardHostProp){let klass=templateInfo.templatizeTemplateClass;if(!klass){let base=options.mutableData?MutableDataTemplate:DataTemplate;klass=templateInfo.templatizeTemplateClass=class extends base{};let hostProps=templateInfo.hostProps;for(let prop in hostProps){klass.prototype._addPropertyEffect("_host_"+prop,klass.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:createForwardHostPropEffect(prop,userForwardHostProp)});klass.prototype._createNotifyingProperty("_host_"+prop)}}upgradeTemplate(template,klass);if(template.__dataProto){Object.assign(template.__data,template.__dataProto)}template.__dataTemp={};template.__dataPending=null;template.__dataOld=null;template._enableProperties()}}function createForwardHostPropEffect(hostProp,userForwardHostProp){return function(template,prop,props){userForwardHostProp.call(template.__templatizeOwner,prop.substring("_host_".length),props[prop])}}function addNotifyEffects(klass,template,templateInfo,options){let hostProps=templateInfo.hostProps||{};for(let iprop in options.instanceProps){delete hostProps[iprop];let userNotifyInstanceProp=options.notifyInstanceProp;if(userNotifyInstanceProp){klass.prototype._addPropertyEffect(iprop,klass.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:createNotifyInstancePropEffect(iprop,userNotifyInstanceProp)})}}if(options.forwardHostProp&&template.__dataHost){for(let hprop in hostProps){klass.prototype._addPropertyEffect(hprop,klass.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:createNotifyHostPropEffect()})}}}function createNotifyInstancePropEffect(instProp,userNotifyInstanceProp){return function(inst,prop,props){userNotifyInstanceProp.call(inst.__templatizeOwner,inst,prop,props[prop])}}function createNotifyHostPropEffect(){return function(inst,prop,props){inst.__dataHost._setPendingPropertyOrPath("_host_"+prop,props[prop],!0,!0)}}function templatize(template,owner,options){options=options||{};if(template.__templatizeOwner){throw new Error("A <template> can only be templatized once")}template.__templatizeOwner=owner;const ctor=owner?owner.constructor:TemplateInstanceBase;let templateInfo=ctor._parseTemplate(template),baseClass=templateInfo.templatizeInstanceClass;if(!baseClass){baseClass=createTemplatizerClass(template,templateInfo,options);templateInfo.templatizeInstanceClass=baseClass}addPropagateEffects(template,templateInfo,options);let klass=class extends baseClass{};klass.prototype._methodHost=findMethodHost(template);klass.prototype.__dataHost=template;klass.prototype.__templatizeOwner=owner;klass.prototype.__hostProps=templateInfo.hostProps;klass=klass;return klass}function modelForElement(template,node){let model;while(node){if(model=node.__templatizeInstance){if(model.__dataHost!=template){node=model.__dataHost}else{return model}}else{node=node.parentNode}}return null}_exports.$templatize={templatize:templatize,modelForElement:modelForElement,TemplateInstanceBase:TemplateInstanceBase};const Templatizer={templatize(template,mutableData){this._templatizerTemplate=template;this.ctor=templatize(template,this,{mutableData:!!mutableData,parentModel:this._parentModel,instanceProps:this._instanceProps,forwardHostProp:this._forwardHostPropV2,notifyInstanceProp:this._notifyInstancePropV2})},stamp(model){return new this.ctor(model)},modelForElement(el){return modelForElement(this._templatizerTemplate,el)}};_exports.Templatizer=Templatizer;_exports.$templatizerBehavior={Templatizer:Templatizer};const domBindBase=GestureEventListeners(OptionalMutableData(PropertyEffects(HTMLElement)));class DomBind extends domBindBase{static get observedAttributes(){return["mutable-data"]}constructor(){super();this.root=null;this.$=null;this.__children=null}attributeChangedCallback(){this.mutableData=!0}connectedCallback(){this.style.display="none";this.render()}disconnectedCallback(){this.__removeChildren()}__insertChildren(){this.parentNode.insertBefore(this.root,this)}__removeChildren(){if(this.__children){for(let i=0;i<this.__children.length;i++){this.root.appendChild(this.__children[i])}}}render(){let template;if(!this.__children){template=template||this.querySelector("template");if(!template){let observer=new MutationObserver(()=>{template=this.querySelector("template");if(template){observer.disconnect();this.render()}else{throw new Error("dom-bind requires a <template> child")}});observer.observe(this,{childList:!0});return}this.root=this._stampTemplate(template);this.$=this.root.$;this.__children=[];for(let n=this.root.firstChild;n;n=n.nextSibling){this.__children[this.__children.length]=n}this._enableProperties()}this.__insertChildren();this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}}_exports.DomBind=DomBind;customElements.define("dom-bind",DomBind);_exports.$domBind={DomBind:DomBind};const domRepeatBase=OptionalMutableData(PolymerElement);class DomRepeat extends domRepeatBase{static get is(){return"dom-repeat"}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!0,readOnly:!0},initialCount:{type:Number,observer:"__initializeChunking"},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"}}}static get observers(){return["__itemsChanged(items.*)"]}constructor(){super();this.__instances=[];this.__limit=1/0;this.__pool=[];this.__renderDebouncer=null;this.__itemsIdxToInstIdx={};this.__chunkCount=null;this.__lastChunkTime=null;this.__sortFn=null;this.__filterFn=null;this.__observePaths=null;this.__ctor=null;this.__isDetached=!0;this.template=null}disconnectedCallback(){super.disconnectedCallback();this.__isDetached=!0;for(let i=0;i<this.__instances.length;i++){this.__detachInstance(i)}}connectedCallback(){super.connectedCallback();this.style.display="none";if(this.__isDetached){this.__isDetached=!1;let parent=this.parentNode;for(let i=0;i<this.__instances.length;i++){this.__attachInstance(i,parent)}}}__ensureTemplatized(){if(!this.__ctor){let template=this.template=this.querySelector("template");if(!template){let observer=new MutationObserver(()=>{if(this.querySelector("template")){observer.disconnect();this.__render()}else{throw new Error("dom-repeat requires a <template> child")}});observer.observe(this,{childList:!0});return!1}let instanceProps={};instanceProps[this.as]=!0;instanceProps[this.indexAs]=!0;instanceProps[this.itemsIndexAs]=!0;this.__ctor=templatize(template,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:instanceProps,forwardHostProp:function(prop,value){let i$=this.__instances;for(let i=0,inst;i<i$.length&&(inst=i$[i]);i++){inst.forwardHostProp(prop,value)}},notifyInstanceProp:function(inst,prop,value){if(matches(this.as,prop)){let idx=inst[this.itemsIndexAs];if(prop==this.as){this.items[idx]=value}let path=translate(this.as,"items."+idx,prop);this.notifyPath(path,value)}}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(functionOrMethodName){if("string"===typeof functionOrMethodName){let obj=this.__getMethodHost();return function(){return obj[functionOrMethodName].apply(obj,arguments)}}return functionOrMethodName}__sortChanged(sort){this.__sortFn=this.__functionFromPropertyValue(sort);if(this.items){this.__debounceRender(this.__render)}}__filterChanged(filter){this.__filterFn=this.__functionFromPropertyValue(filter);if(this.items){this.__debounceRender(this.__render)}}__computeFrameTime(rate){return _Mathceil(1e3/rate)}__initializeChunking(){if(this.initialCount){this.__limit=this.initialCount;this.__chunkCount=this.initialCount;this.__lastChunkTime=performance.now()}}__tryRenderChunk(){if(this.items&&this.__limit<this.items.length){this.__debounceRender(this.__requestRenderChunk)}}__requestRenderChunk(){requestAnimationFrame(()=>this.__renderChunk())}__renderChunk(){let currChunkTime=performance.now(),ratio=this._targetFrameTime/(currChunkTime-this.__lastChunkTime);this.__chunkCount=_Mathround(this.__chunkCount*ratio)||1;this.__limit+=this.__chunkCount;this.__lastChunkTime=currChunkTime;this.__debounceRender(this.__render)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}__itemsChanged(change){if(this.items&&!Array.isArray(this.items)){console.warn("dom-repeat expected array for `items`, found",this.items)}if(!this.__handleItemPath(change.path,change.value)){this.__initializeChunking();this.__debounceRender(this.__render)}}__handleObservedPaths(path){if(this.__sortFn||this.__filterFn){if(!path){this.__debounceRender(this.__render,this.delay)}else if(this.__observePaths){let paths=this.__observePaths;for(let i=0;i<paths.length;i++){if(0===path.indexOf(paths[i])){this.__debounceRender(this.__render,this.delay)}}}}}__debounceRender(fn,delay=0){this.__renderDebouncer=Debouncer.debounce(this.__renderDebouncer,0<delay?timeOut.after(delay):microTask,fn.bind(this));enqueueDebouncer(this.__renderDebouncer)}render(){this.__debounceRender(this.__render);flush$1()}__render(){if(!this.__ensureTemplatized()){return}this.__applyFullRefresh();this.__pool.length=0;this._setRenderedItemCount(this.__instances.length);this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}));this.__tryRenderChunk()}__applyFullRefresh(){let items=this.items||[],isntIdxToItemsIdx=Array(items.length);for(let i=0;i<items.length;i++){isntIdxToItemsIdx[i]=i}if(this.__filterFn){isntIdxToItemsIdx=isntIdxToItemsIdx.filter((i,idx,array)=>this.__filterFn(items[i],idx,array))}if(this.__sortFn){isntIdxToItemsIdx.sort((a,b)=>this.__sortFn(items[a],items[b]))}const itemsIdxToInstIdx=this.__itemsIdxToInstIdx={};let instIdx=0;const limit=_Mathmin(isntIdxToItemsIdx.length,this.__limit);for(;instIdx<limit;instIdx++){let inst=this.__instances[instIdx],itemIdx=isntIdxToItemsIdx[instIdx],item=items[itemIdx];itemsIdxToInstIdx[itemIdx]=instIdx;if(inst){inst._setPendingProperty(this.as,item);inst._setPendingProperty(this.indexAs,instIdx);inst._setPendingProperty(this.itemsIndexAs,itemIdx);inst._flushProperties()}else{this.__insertInstance(item,instIdx,itemIdx)}}for(let i=this.__instances.length-1;i>=instIdx;i--){this.__detachAndRemoveInstance(i)}}__detachInstance(idx){let inst=this.__instances[idx];for(let i=0,el;i<inst.children.length;i++){el=inst.children[i];inst.root.appendChild(el)}return inst}__attachInstance(idx,parent){let inst=this.__instances[idx];parent.insertBefore(inst.root,this)}__detachAndRemoveInstance(idx){let inst=this.__detachInstance(idx);if(inst){this.__pool.push(inst)}this.__instances.splice(idx,1)}__stampInstance(item,instIdx,itemIdx){let model={};model[this.as]=item;model[this.indexAs]=instIdx;model[this.itemsIndexAs]=itemIdx;return new this.__ctor(model)}__insertInstance(item,instIdx,itemIdx){let inst=this.__pool.pop();if(inst){inst._setPendingProperty(this.as,item);inst._setPendingProperty(this.indexAs,instIdx);inst._setPendingProperty(this.itemsIndexAs,itemIdx);inst._flushProperties()}else{inst=this.__stampInstance(item,instIdx,itemIdx)}let beforeRow=this.__instances[instIdx+1],beforeNode=beforeRow?beforeRow.children[0]:this;this.parentNode.insertBefore(inst.root,beforeNode);this.__instances[instIdx]=inst;return inst}_showHideChildren(hidden){for(let i=0;i<this.__instances.length;i++){this.__instances[i]._showHideChildren(hidden)}}__handleItemPath(path,value){let itemsPath=path.slice(6),dot=itemsPath.indexOf("."),itemsIdx=0>dot?itemsPath:itemsPath.substring(0,dot);if(itemsIdx==parseInt(itemsIdx,10)){let itemSubPath=0>dot?"":itemsPath.substring(dot+1);this.__handleObservedPaths(itemSubPath);let instIdx=this.__itemsIdxToInstIdx[itemsIdx],inst=this.__instances[instIdx];if(inst){let itemPath=this.as+(itemSubPath?"."+itemSubPath:"");inst._setPendingPropertyOrPath(itemPath,value,!1,!0);inst._flushProperties()}return!0}}itemForElement(el){let instance=this.modelForElement(el);return instance&&instance[this.as]}indexForElement(el){let instance=this.modelForElement(el);return instance&&instance[this.indexAs]}modelForElement(el){return modelForElement(this.template,el)}}_exports.DomRepeat=DomRepeat;customElements.define(DomRepeat.is,DomRepeat);_exports.$domRepeat={DomRepeat:DomRepeat};class DomIf extends PolymerElement{static get is(){return"dom-if"}static get template(){return null}static get properties(){return{if:{type:Boolean,observer:"__debounceRender"},restamp:{type:Boolean,observer:"__debounceRender"}}}constructor(){super();this.__renderDebouncer=null;this.__invalidProps=null;this.__instance=null;this._lastIf=!1;this.__ctor=null}__debounceRender(){this.__renderDebouncer=Debouncer.debounce(this.__renderDebouncer,microTask,()=>this.__render());enqueueDebouncer(this.__renderDebouncer)}disconnectedCallback(){super.disconnectedCallback();if(!this.parentNode||this.parentNode.nodeType==Node.DOCUMENT_FRAGMENT_NODE&&!this.parentNode.host){this.__teardownInstance()}}connectedCallback(){super.connectedCallback();this.style.display="none";if(this.if){this.__debounceRender()}}render(){flush$1()}__render(){if(this.if){if(!this.__ensureInstance()){return}this._showHideChildren()}else if(this.restamp){this.__teardownInstance()}if(!this.restamp&&this.__instance){this._showHideChildren()}if(this.if!=this._lastIf){this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}));this._lastIf=this.if}}__ensureInstance(){let parentNode=this.parentNode;if(parentNode){if(!this.__ctor){let template=this.querySelector("template");if(!template){let observer=new MutationObserver(()=>{if(this.querySelector("template")){observer.disconnect();this.__render()}else{throw new Error("dom-if requires a <template> child")}});observer.observe(this,{childList:!0});return!1}this.__ctor=templatize(template,this,{mutableData:!0,forwardHostProp:function(prop,value){if(this.__instance){if(this.if){this.__instance.forwardHostProp(prop,value)}else{this.__invalidProps=this.__invalidProps||Object.create(null);this.__invalidProps[root(prop)]=!0}}}})}if(!this.__instance){this.__instance=new this.__ctor;parentNode.insertBefore(this.__instance.root,this)}else{this.__syncHostProperties();let c$=this.__instance.children;if(c$&&c$.length){let lastChild=this.previousSibling;if(lastChild!==c$[c$.length-1]){for(let i=0,n;i<c$.length&&(n=c$[i]);i++){parentNode.insertBefore(n,this)}}}}}return!0}__syncHostProperties(){let props=this.__invalidProps;if(props){for(let prop in props){this.__instance._setPendingProperty(prop,this.__dataHost[prop])}this.__invalidProps=null;this.__instance._flushProperties()}}__teardownInstance(){if(this.__instance){let c$=this.__instance.children;if(c$&&c$.length){let parent=c$[0].parentNode;for(let i=0,n;i<c$.length&&(n=c$[i]);i++){parent.removeChild(n)}}this.__instance=null;this.__invalidProps=null}}_showHideChildren(){let hidden=this.__hideTemplateChildren__||!this.if;if(this.__instance){this.__instance._showHideChildren(hidden)}}}_exports.DomIf=DomIf;customElements.define(DomIf.is,DomIf);_exports.$domIf={DomIf:DomIf};let ArraySelectorMixin=dedupingMixin(superClass=>{let elementBase=ElementMixin(superClass);class ArraySelectorMixin extends elementBase{static get properties(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}static get observers(){return["__updateSelection(multi, items.*)"]}constructor(){super();this.__lastItems=null;this.__lastMulti=null;this.__selectedMap=null}__updateSelection(multi,itemsInfo){let path=itemsInfo.path;if("items"==path){let newItems=itemsInfo.base||[],lastItems=this.__lastItems,lastMulti=this.__lastMulti;if(multi!==lastMulti){this.clearSelection()}if(lastItems){let splices=calculateSplices(newItems,lastItems);this.__applySplices(splices)}this.__lastItems=newItems;this.__lastMulti=multi}else if("items.splices"==itemsInfo.path){this.__applySplices(itemsInfo.value.indexSplices)}else{let part=path.slice("items.".length),idx=parseInt(part,10);if(0>part.indexOf(".")&&part==idx){this.__deselectChangedIdx(idx)}}}__applySplices(splices){let selected=this.__selectedMap;for(let i=0,s;i<splices.length;i++){s=splices[i];selected.forEach((idx,item)=>{if(idx<s.index){}else if(idx>=s.index+s.removed.length){selected.set(item,idx+s.addedCount-s.removed.length)}else{selected.set(item,-1)}});for(let j=0,idx;j<s.addedCount;j++){idx=s.index+j;if(selected.has(this.items[idx])){selected.set(this.items[idx],idx)}}}this.__updateLinks();let sidx=0;selected.forEach((idx,item)=>{if(0>idx){if(this.multi){this.splice("selected",sidx,1)}else{this.selected=this.selectedItem=null}selected.delete(item)}else{sidx++}})}__updateLinks(){this.__dataLinkedPaths={};if(this.multi){let sidx=0;this.__selectedMap.forEach(idx=>{if(0<=idx){this.linkPaths("items."+idx,"selected."+sidx++)}})}else{this.__selectedMap.forEach(idx=>{this.linkPaths("selected","items."+idx);this.linkPaths("selectedItem","items."+idx)})}}clearSelection(){this.__dataLinkedPaths={};this.__selectedMap=new Map;this.selected=this.multi?[]:null;this.selectedItem=null}isSelected(item){return this.__selectedMap.has(item)}isIndexSelected(idx){return this.isSelected(this.items[idx])}__deselectChangedIdx(idx){let sidx=this.__selectedIndexForItemIndex(idx);if(0<=sidx){let i=0;this.__selectedMap.forEach((idx,item)=>{if(sidx==i++){this.deselect(item)}})}}__selectedIndexForItemIndex(idx){let selected=this.__dataLinkedPaths["items."+idx];if(selected){return parseInt(selected.slice("selected.".length),10)}}deselect(item){let idx=this.__selectedMap.get(item);if(0<=idx){this.__selectedMap.delete(item);let sidx;if(this.multi){sidx=this.__selectedIndexForItemIndex(idx)}this.__updateLinks();if(this.multi){this.splice("selected",sidx,1)}else{this.selected=this.selectedItem=null}}}deselectIndex(idx){this.deselect(this.items[idx])}select(item){this.selectIndex(this.items.indexOf(item))}selectIndex(idx){let item=this.items[idx];if(!this.isSelected(item)){if(!this.multi){this.__selectedMap.clear()}this.__selectedMap.set(item,idx);this.__updateLinks();if(this.multi){this.push("selected",item)}else{this.selected=this.selectedItem=item}}else if(this.toggle){this.deselectIndex(idx)}}}return ArraySelectorMixin});_exports.ArraySelectorMixin=ArraySelectorMixin;let baseArraySelector=ArraySelectorMixin(PolymerElement);class ArraySelector extends baseArraySelector{static get is(){return"array-selector"}}_exports.ArraySelector=ArraySelector;customElements.define(ArraySelector.is,ArraySelector);_exports.$arraySelector={ArraySelectorMixin:ArraySelectorMixin,ArraySelector:ArraySelector};const customStyleInterface$1=new CustomStyleInterface;if(!window.ShadyCSS){window.ShadyCSS={prepareTemplate(){},prepareTemplateDom(){},prepareTemplateStyles(){},styleSubtree(element,properties){customStyleInterface$1.processStyles();updateNativeProperties(element,properties)},styleElement(){customStyleInterface$1.processStyles()},styleDocument(properties){customStyleInterface$1.processStyles();updateNativeProperties(document.body,properties)},getComputedStyleValue(element,property){return getComputedStyleValue(element,property)},flushCustomStyles(){},nativeCss:nativeCssVariables,nativeShadow:nativeShadow}}window.ShadyCSS.CustomStyleInterface=customStyleInterface$1;const attr="include",CustomStyleInterface$1=window.ShadyCSS.CustomStyleInterface;class CustomStyle extends HTMLElement{constructor(){super();this._style=null;CustomStyleInterface$1.addCustomStyle(this)}getStyle(){if(this._style){return this._style}const style=this.querySelector("style");if(!style){return null}this._style=style;const include=style.getAttribute(attr);if(include){style.removeAttribute(attr);style.textContent=cssFromModules(include)+style.textContent}if(this.ownerDocument!==window.document){window.document.head.appendChild(this)}return this._style}}_exports.CustomStyle=CustomStyle;window.customElements.define("custom-style",CustomStyle);_exports.$customStyle={CustomStyle:CustomStyle};let mutablePropertyChange$1;(()=>{mutablePropertyChange$1=MutableData._mutablePropertyChange})();const MutableDataBehavior={_shouldPropertyChange(property,value,old){return mutablePropertyChange$1(this,property,value,old,!0)}};_exports.MutableDataBehavior=MutableDataBehavior;const OptionalMutableDataBehavior={properties:{mutableData:Boolean},_shouldPropertyChange(property,value,old){return mutablePropertyChange$1(this,property,value,old,this.mutableData)}};_exports.OptionalMutableDataBehavior=OptionalMutableDataBehavior;_exports.$mutableDataBehavior={MutableDataBehavior:MutableDataBehavior,OptionalMutableDataBehavior:OptionalMutableDataBehavior};const Base=LegacyElementMixin(HTMLElement).prototype;_exports.Base=Base;_exports.$polymerLegacy={Base:Base,Polymer:Polymer,html:html};Polymer({is:"iron-request",hostAttributes:{hidden:!0},properties:{xhr:{type:Object,notify:!0,readOnly:!0,value:function(){return new XMLHttpRequest}},response:{type:Object,notify:!0,readOnly:!0,value:function(){return null}},status:{type:Number,notify:!0,readOnly:!0,value:0},statusText:{type:String,notify:!0,readOnly:!0,value:""},completes:{type:Object,readOnly:!0,notify:!0,value:function(){return new Promise(function(resolve,reject){this.resolveCompletes=resolve;this.rejectCompletes=reject}.bind(this))}},progress:{type:Object,notify:!0,readOnly:!0,value:function(){return{}}},aborted:{type:Boolean,notify:!0,readOnly:!0,value:!1},errored:{type:Boolean,notify:!0,readOnly:!0,value:!1},timedOut:{type:Boolean,notify:!0,readOnly:!0,value:!1}},get succeeded(){if(this.errored||this.aborted||this.timedOut){return!1}var status=this.xhr.status||0;return 0===status||200<=status&&300>status},send:function(options){var xhr=this.xhr;if(0<xhr.readyState){return null}xhr.addEventListener("progress",function(progress){this._setProgress({lengthComputable:progress.lengthComputable,loaded:progress.loaded,total:progress.total});this.fire("iron-request-progress-changed",{value:this.progress})}.bind(this));xhr.addEventListener("error",function(error){this._setErrored(!0);this._updateStatus();var response=options.rejectWithRequest?{error:error,request:this}:error;this.rejectCompletes(response)}.bind(this));xhr.addEventListener("timeout",function(error){this._setTimedOut(!0);this._updateStatus();var response=options.rejectWithRequest?{error:error,request:this}:error;this.rejectCompletes(response)}.bind(this));xhr.addEventListener("abort",function(){this._setAborted(!0);this._updateStatus();var error=new Error("Request aborted."),response=options.rejectWithRequest?{error:error,request:this}:error;this.rejectCompletes(response)}.bind(this));xhr.addEventListener("loadend",function(){this._updateStatus();this._setResponse(this.parseResponse());if(!this.succeeded){var error=new Error("The request failed with status code: "+this.xhr.status),response=options.rejectWithRequest?{error:error,request:this}:error;this.rejectCompletes(response);return}this.resolveCompletes(this)}.bind(this));this.url=options.url;var isXHRAsync=!1!==options.async;xhr.open(options.method||"GET",options.url,isXHRAsync);var acceptType={json:"application/json",text:"text/plain",html:"text/html",xml:"application/xml",arraybuffer:"application/octet-stream"}[options.handleAs],headers=options.headers||Object.create(null),newHeaders=Object.create(null);for(var key in headers){newHeaders[key.toLowerCase()]=headers[key]}headers=newHeaders;if(acceptType&&!headers.accept){headers.accept=acceptType}Object.keys(headers).forEach(function(requestHeader){if(/[A-Z]/.test(requestHeader)){Base._error("Headers must be lower case, got",requestHeader)}xhr.setRequestHeader(requestHeader,headers[requestHeader])},this);if(isXHRAsync){xhr.timeout=options.timeout;var handleAs=options.handleAs;if(!!options.jsonPrefix||!handleAs){handleAs="text"}xhr.responseType=xhr._responseType=handleAs;if(!!options.jsonPrefix){xhr._jsonPrefix=options.jsonPrefix}}xhr.withCredentials=!!options.withCredentials;var body=this._encodeBodyObject(options.body,headers["content-type"]);xhr.send(body);return this.completes},parseResponse:function(){var xhr=this.xhr,responseType=xhr.responseType||xhr._responseType,preferResponseText=!this.xhr.responseType,prefixLen=xhr._jsonPrefix&&xhr._jsonPrefix.length||0;try{switch(responseType){case"json":if(preferResponseText||xhr.response===void 0){try{return JSON.parse(xhr.responseText)}catch(_){console.warn("Failed to parse JSON sent from "+xhr.responseURL);return null}}return xhr.response;case"xml":return xhr.responseXML;case"blob":case"document":case"arraybuffer":return xhr.response;case"text":default:{if(prefixLen){try{return JSON.parse(xhr.responseText.substring(prefixLen))}catch(_){console.warn("Failed to parse JSON sent from "+xhr.responseURL);return null}}return xhr.responseText}}}catch(e){this.rejectCompletes(new Error("Could not parse response. "+e.message))}},abort:function(){this._setAborted(!0);this.xhr.abort()},_encodeBodyObject:function(body,contentType){if("string"==typeof body){return body}var bodyObj=body;switch(contentType){case"application/json":return JSON.stringify(bodyObj);case"application/x-www-form-urlencoded":return this._wwwFormUrlEncode(bodyObj);}return body},_wwwFormUrlEncode:function(object){if(!object){return""}var pieces=[];Object.keys(object).forEach(function(key){pieces.push(this._wwwFormUrlEncodePiece(key)+"="+this._wwwFormUrlEncodePiece(object[key]))},this);return pieces.join("&")},_wwwFormUrlEncodePiece:function(str){if(null===str||str===void 0||!str.toString){return""}return encodeURIComponent(str.toString().replace(/\r?\n/g,"\r\n")).replace(/%20/g,"+")},_updateStatus:function(){this._setStatus(this.xhr.status);this._setStatusText(this.xhr.statusText===void 0?"":this.xhr.statusText)}});Polymer({is:"iron-ajax",hostAttributes:{hidden:!0},properties:{url:{type:String},params:{type:Object,value:function(){return{}}},method:{type:String,value:"GET"},headers:{type:Object,value:function(){return{}}},contentType:{type:String,value:null},body:{type:Object,value:null},sync:{type:Boolean,value:!1},handleAs:{type:String,value:"json"},withCredentials:{type:Boolean,value:!1},timeout:{type:Number,value:0},auto:{type:Boolean,value:!1},verbose:{type:Boolean,value:!1},lastRequest:{type:Object,notify:!0,readOnly:!0},lastProgress:{type:Object,notify:!0,readOnly:!0},loading:{type:Boolean,notify:!0,readOnly:!0},lastResponse:{type:Object,notify:!0,readOnly:!0},lastError:{type:Object,notify:!0,readOnly:!0},activeRequests:{type:Array,notify:!0,readOnly:!0,value:function(){return[]}},debounceDuration:{type:Number,value:0,notify:!0},jsonPrefix:{type:String,value:""},bubbles:{type:Boolean,value:!1},rejectWithRequest:{type:Boolean,value:!1},_boundHandleResponse:{type:Function,value:function(){return this._handleResponse.bind(this)}}},observers:["_requestOptionsChanged(url, method, params.*, headers, contentType, "+"body, sync, handleAs, jsonPrefix, withCredentials, timeout, auto)"],created:function(){this._boundOnProgressChanged=this._onProgressChanged.bind(this)},get queryString(){var queryParts=[],param,value;for(param in this.params){value=this.params[param];param=window.encodeURIComponent(param);if(Array.isArray(value)){for(var i=0;i<value.length;i++){queryParts.push(param+"="+window.encodeURIComponent(value[i]))}}else if(null!==value){queryParts.push(param+"="+window.encodeURIComponent(value))}else{queryParts.push(param)}}return queryParts.join("&")},get requestUrl(){var queryString=this.queryString,url=this.url||"";if(queryString){var bindingChar=0<=url.indexOf("?")?"&":"?";return url+bindingChar+queryString}return url},get requestHeaders(){var headers={},contentType=this.contentType;if(null==contentType&&"string"===typeof this.body){contentType="application/x-www-form-urlencoded"}if(contentType){headers["content-type"]=contentType}if("object"===typeof this.headers){for(var header in this.headers){headers[header]=this.headers[header].toString()}}return headers},_onProgressChanged:function(event){this._setLastProgress(event.detail.value)},toRequestOptions:function(){return{url:this.requestUrl||"",method:this.method,headers:this.requestHeaders,body:this.body,async:!this.sync,handleAs:this.handleAs,jsonPrefix:this.jsonPrefix,withCredentials:this.withCredentials,timeout:this.timeout,rejectWithRequest:this.rejectWithRequest}},generateRequest:function(){var request=document.createElement("iron-request"),requestOptions=this.toRequestOptions();this.push("activeRequests",request);request.completes.then(this._boundHandleResponse).catch(this._handleError.bind(this,request)).then(this._discardRequest.bind(this,request));var evt=this.fire("iron-ajax-presend",{request:request,options:requestOptions},{bubbles:this.bubbles,cancelable:!0});if(evt.defaultPrevented){request.abort();request.rejectCompletes(request);return request}if(this.lastRequest){this.lastRequest.removeEventListener("iron-request-progress-changed",this._boundOnProgressChanged)}request.addEventListener("iron-request-progress-changed",this._boundOnProgressChanged);request.send(requestOptions);this._setLastProgress(null);this._setLastRequest(request);this._setLoading(!0);this.fire("request",{request:request,options:requestOptions},{bubbles:this.bubbles,composed:!0});this.fire("iron-ajax-request",{request:request,options:requestOptions},{bubbles:this.bubbles,composed:!0});return request},_handleResponse:function(request){if(request===this.lastRequest){this._setLastResponse(request.response);this._setLastError(null);this._setLoading(!1)}this.fire("response",request,{bubbles:this.bubbles,composed:!0});this.fire("iron-ajax-response",request,{bubbles:this.bubbles,composed:!0})},_handleError:function(request,error){if(this.verbose){Base._error(error)}if(request===this.lastRequest){this._setLastError({request:request,error:error,status:request.xhr.status,statusText:request.xhr.statusText,response:request.xhr.response});this._setLastResponse(null);this._setLoading(!1)}this.fire("iron-ajax-error",{request:request,error:error},{bubbles:this.bubbles,composed:!0});this.fire("error",{request:request,error:error},{bubbles:this.bubbles,composed:!0})},_discardRequest:function(request){var requestIndex=this.activeRequests.indexOf(request);if(-1<requestIndex){this.splice("activeRequests",requestIndex,1)}},_requestOptionsChanged:function(){this.debounce("generate-request",function(){if(null==this.url){return}if(this.auto){this.generateRequest()}},this.debounceDuration)}});class GraniteYamlRemoteParser extends PolymerElement{static get template(){return html`
    <iron-ajax id="ironAjax" url="[[url]]" params="[[params]]" method="[[method]]" headers="[[headers]]" content-type="[[contentType]]" body="[[body]]" sync="[[sync]]" handle-as="text" with-credentials="[[withCredentials]]" timeout="[[timeout]]" auto="[[auto]]" verbose="[[verbose]]" last-request="{{lastRequest}}" last-response="{{lastResponse}}" last-error="{{lastError}}" bubbles="[[bubbles]]" active-requests="{{activeRequests}}" debounce-duration="[[debounceDuration]]" loading="{{loading}}" on-request="_handleRequest" on-response="_handleResponse" on-error="_handleResponse"></iron-ajax>
        
    <granite-yaml-parser id="granite-yaml-parser" yaml="[[_yaml]]" obj="{{obj}}" multi-document="[[multiDocument]]" unsafe="[[unsafe]]" on-yaml-parsed="_onYamlParsed" debug=""></granite-yaml-parser>
`}static get is(){return"granite-yaml-remote-parser"}static get properties(){return{url:{type:String,value:""},params:{type:Object,value:function(){return{}}},method:{type:String,value:"GET"},headers:{type:Object,value:function(){return{}}},contentType:{type:String,value:null},body:{type:Object,value:null},sync:{type:Boolean,value:!1},withCredentials:{type:Boolean,value:!1},timeout:{type:Number,value:0},auto:{type:Boolean,value:!1},verbose:{type:Boolean,value:!1},lastRequest:{type:Object,notify:!0,readOnly:!0},loading:{type:Boolean,notify:!0,readOnly:!0},lastResponse:{type:Object,notify:!0,readOnly:!0},lastError:{type:Object,notify:!0,readOnly:!0},activeRequests:{type:Array,notify:!0,readOnly:!0,value:function(){return[]}},debounceDuration:{type:Number,value:0,notify:!0},bubbles:{type:Boolean,value:!1},debug:{type:Boolean,value:!1},unsafe:{type:Boolean,value:!1},multiDocument:{type:Boolean,value:!1},_yaml:{type:String,value:""},obj:{type:Object,notify:!0}}}_onYamlParsed(evt){evt.stopPropagation();if(this.debug){console.log("[granite-yaml-remote-parser] _onYamlParsed",evt.detail)}this.dispatchEvent(new CustomEvent("yaml-parsed",{detail:evt.detail}))}_handleResponse(evt,ironRequest){evt.stopPropagation();if(this.debug){console.log("[granite-yaml-remote-parser] _onResponse",ironRequest.response)}this._yaml=ironRequest.response}_handleRequest(evt,ironRequest){evt.stopPropagation();if(this.debug){console.log("[granite-yaml-remote-parser] _onRequest",ironRequest)}}_handleError(evt,error){evt.stopPropagation();if(this.debug){console.log("[granite-yaml-remote-parser] _onError",error)}}generateRequest(){return this.$.ironAjax.generateRequest()}}window.customElements.define(GraniteYamlRemoteParser.is,GraniteYamlRemoteParser);let keycodes={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta",106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},characterFromEvent=evt=>{if("keypress"==evt.type){let character=_StringfromCharCode(evt.which);if(!evt.shiftKey){character=character.toLowerCase()}return character}if(keycodes[evt.which]){return keycodes[evt.which]}return _StringfromCharCode(evt.which).toLowerCase()},shortcuts={eventTracker:{},shortcutExists:{},add:(shortcut,callback,options)=>{let eventType="keydown",element=document.body;if("string"===typeof options){eventType=options}if(options instanceof Element){element=options}if("object"==typeof options&&options.element){element=options.element}if("object"==typeof options&&options.eventType){element=options.eventType}if(!0===shortcuts.shortcutExists[shortcut]&&!0===shortcuts.shortcutExists[shortcut][eventType]){return}let keyTracker=evt=>{let event=evt||window.event,keypress=event.keyCode?event.keyCode:event.which,keyvalue=characterFromEvent(evt),shortcutFragments=shortcut.split("+"),metaPressed={cmd:event.metaKey,ctrl:event.ctrlKey,shift:event.shiftKey,alt:event.altKey},matches=shortcutFragments.filter(fragment=>{if("cmd"==fragment){return metaPressed.cmd}if("ctrl"==fragment){return metaPressed.ctrl}if("shift"==fragment){return metaPressed.shift}if("alt"==fragment){return metaPressed.alt}if(1<fragment.length&&fragment===keycodes[keypress]){return!0}return fragment===keyvalue}).length;if(matches==shortcutFragments.length){callback(evt)}};element.addEventListener(eventType,keyTracker);if(!shortcuts.eventTracker[shortcut]){shortcuts.eventTracker[shortcut]={}}shortcuts.eventTracker[shortcut][eventType]={element:element,callback:keyTracker};if(!shortcuts.shortcutExists[shortcut]){shortcuts.shortcutExists[shortcut]={}}shortcuts.shortcutExists[shortcut][eventType]=!0},remove:(shortcut,eventType)=>{if(!eventType){eventType="keydown"}shortcut=shortcut.toLowerCase();if(shortcuts.eventTracker[shortcut]&&shortcuts.eventTracker[shortcut][eventType]){let element=shortcuts.eventTracker[shortcut][eventType].element,callback=shortcuts.eventTracker[shortcut][eventType].callback;element.removeEventListener(eventType,callback,!1);delete shortcuts.eventTracker[shortcut][eventType];shortcuts.shortcutExists[shortcut][eventType]=!1}}};_exports.$indexDefault=_exports.shortcuts=shortcuts;_exports.$index$1={shortcuts:shortcuts,default:shortcuts};class MDCFoundation{static get cssClasses(){return{}}static get strings(){return{}}static get numbers(){return{}}static get defaultAdapter(){return{}}constructor(adapter={}){this.adapter_=adapter}init(){}destroy(){}}_exports.$foundationDefault=MDCFoundation;_exports.$foundation={default:MDCFoundation};class MDCComponent{static attachTo(root){return new MDCComponent(root,new MDCFoundation())}constructor(root,foundation=void 0,...args){this.root_=root;this.initialize(...args);this.foundation_=foundation===void 0?this.getDefaultFoundation():foundation;this.foundation_.init();this.initialSyncWithDOM()}initialize(){}getDefaultFoundation(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured "+"foundation class")}initialSyncWithDOM(){}destroy(){this.foundation_.destroy()}listen(evtType,handler){this.root_.addEventListener(evtType,handler)}unlisten(evtType,handler){this.root_.removeEventListener(evtType,handler)}emit(evtType,evtData,shouldBubble=!1){let evt;if("function"===typeof CustomEvent){evt=new CustomEvent(evtType,{detail:evtData,bubbles:shouldBubble})}else{evt=document.createEvent("CustomEvent");evt.initCustomEvent(evtType,shouldBubble,!1,evtData)}this.root_.dispatchEvent(evt)}}_exports.$componentDefault=MDCComponent;_exports.$component={default:MDCComponent};class MDCFloatingLabelAdapter{addClass(){}removeClass(){}getWidth(){}registerInteractionHandler(){}deregisterInteractionHandler(){}}_exports.$adapterDefault=MDCFloatingLabelAdapter;_exports.$adapter={default:MDCFloatingLabelAdapter};const cssClasses={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_SHAKE:"mdc-floating-label--shake"};_exports.cssClasses=cssClasses;_exports.$constants={cssClasses:cssClasses};class MDCFoundation$1{static get cssClasses(){return{}}static get strings(){return{}}static get numbers(){return{}}static get defaultAdapter(){return{}}constructor(adapter={}){this.adapter_=adapter}init(){}destroy(){}}_exports.$foundationDefault$2=MDCFoundation$1;_exports.$foundation$2={default:MDCFoundation$1};class MDCFloatingLabelFoundation extends MDCFoundation$1{static get cssClasses(){return cssClasses}static get defaultAdapter(){return{addClass:()=>{},removeClass:()=>{},getWidth:()=>{},registerInteractionHandler:()=>{},deregisterInteractionHandler:()=>{}}}constructor(adapter){super(Object.assign(MDCFloatingLabelFoundation.defaultAdapter,adapter));this.shakeAnimationEndHandler_=()=>this.handleShakeAnimationEnd_()}init(){this.adapter_.registerInteractionHandler("animationend",this.shakeAnimationEndHandler_)}destroy(){this.adapter_.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler_)}getWidth(){return this.adapter_.getWidth()}shake(shouldShake){const{LABEL_SHAKE}=MDCFloatingLabelFoundation.cssClasses;if(shouldShake){this.adapter_.addClass(LABEL_SHAKE)}else{this.adapter_.removeClass(LABEL_SHAKE)}}float(shouldFloat){const{LABEL_FLOAT_ABOVE,LABEL_SHAKE}=MDCFloatingLabelFoundation.cssClasses;if(shouldFloat){this.adapter_.addClass(LABEL_FLOAT_ABOVE)}else{this.adapter_.removeClass(LABEL_FLOAT_ABOVE);this.adapter_.removeClass(LABEL_SHAKE)}}handleShakeAnimationEnd_(){const{LABEL_SHAKE}=MDCFloatingLabelFoundation.cssClasses;this.adapter_.removeClass(LABEL_SHAKE)}}_exports.MDCFloatingLabelFoundation=_exports.$foundationDefault$1=MDCFloatingLabelFoundation;_exports.$foundation$1={default:MDCFloatingLabelFoundation};class MDCComponent$1{static attachTo(root){return new MDCComponent$1(root,new MDCFoundation$1())}constructor(root,foundation=void 0,...args){this.root_=root;this.initialize(...args);this.foundation_=foundation===void 0?this.getDefaultFoundation():foundation;this.foundation_.init();this.initialSyncWithDOM()}initialize(){}getDefaultFoundation(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured "+"foundation class")}initialSyncWithDOM(){}destroy(){this.foundation_.destroy()}listen(evtType,handler){this.root_.addEventListener(evtType,handler)}unlisten(evtType,handler){this.root_.removeEventListener(evtType,handler)}emit(evtType,evtData,shouldBubble=!1){let evt;if("function"===typeof CustomEvent){evt=new CustomEvent(evtType,{detail:evtData,bubbles:shouldBubble})}else{evt=document.createEvent("CustomEvent");evt.initCustomEvent(evtType,shouldBubble,!1,evtData)}this.root_.dispatchEvent(evt)}}_exports.$componentDefault$1=MDCComponent$1;_exports.$component$1={default:MDCComponent$1};class MDCFloatingLabel extends MDCComponent$1{static attachTo(root){return new MDCFloatingLabel(root)}shake(shouldShake){this.foundation_.shake(shouldShake)}float(shouldFloat){this.foundation_.float(shouldFloat)}getWidth(){return this.foundation_.getWidth()}getDefaultFoundation(){return new MDCFloatingLabelFoundation({addClass:className=>this.root_.classList.add(className),removeClass:className=>this.root_.classList.remove(className),getWidth:()=>this.root_.offsetWidth,registerInteractionHandler:(evtType,handler)=>this.root_.addEventListener(evtType,handler),deregisterInteractionHandler:(evtType,handler)=>this.root_.removeEventListener(evtType,handler)})}}_exports.MDCFloatingLabel=MDCFloatingLabel;_exports.$index$2={MDCFloatingLabel:MDCFloatingLabel,MDCFloatingLabelFoundation:MDCFloatingLabelFoundation};class MDCLineRippleAdapter{addClass(){}removeClass(){}hasClass(){}setStyle(){}registerEventHandler(){}deregisterEventHandler(){}}_exports.$adapterDefault$1=MDCLineRippleAdapter;_exports.$adapter$1={default:MDCLineRippleAdapter};const cssClasses$1={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"};_exports.cssClasses$1=cssClasses$1;_exports.$constants$1={cssClasses:cssClasses$1};class MDCFoundation$2{static get cssClasses(){return{}}static get strings(){return{}}static get numbers(){return{}}static get defaultAdapter(){return{}}constructor(adapter={}){this.adapter_=adapter}init(){}destroy(){}}_exports.$foundationDefault$4=MDCFoundation$2;_exports.$foundation$4={default:MDCFoundation$2};class MDCLineRippleFoundation extends MDCFoundation$2{static get cssClasses(){return cssClasses$1}static get defaultAdapter(){return{addClass:()=>{},removeClass:()=>{},hasClass:()=>{},setStyle:()=>{},registerEventHandler:()=>{},deregisterEventHandler:()=>{}}}constructor(adapter){super(Object.assign(MDCLineRippleFoundation.defaultAdapter,adapter));this.transitionEndHandler_=evt=>this.handleTransitionEnd(evt)}init(){this.adapter_.registerEventHandler("transitionend",this.transitionEndHandler_)}destroy(){this.adapter_.deregisterEventHandler("transitionend",this.transitionEndHandler_)}activate(){this.adapter_.removeClass(cssClasses$1.LINE_RIPPLE_DEACTIVATING);this.adapter_.addClass(cssClasses$1.LINE_RIPPLE_ACTIVE)}setRippleCenter(xCoordinate){this.adapter_.setStyle("transform-origin",`${xCoordinate}px center`)}deactivate(){this.adapter_.addClass(cssClasses$1.LINE_RIPPLE_DEACTIVATING)}handleTransitionEnd(evt){const isDeactivating=this.adapter_.hasClass(cssClasses$1.LINE_RIPPLE_DEACTIVATING);if("opacity"===evt.propertyName){if(isDeactivating){this.adapter_.removeClass(cssClasses$1.LINE_RIPPLE_ACTIVE);this.adapter_.removeClass(cssClasses$1.LINE_RIPPLE_DEACTIVATING)}}}}_exports.MDCLineRippleFoundation=_exports.$foundationDefault$3=MDCLineRippleFoundation;_exports.$foundation$3={default:MDCLineRippleFoundation};class MDCComponent$2{static attachTo(root){return new MDCComponent$2(root,new MDCFoundation$2())}constructor(root,foundation=void 0,...args){this.root_=root;this.initialize(...args);this.foundation_=foundation===void 0?this.getDefaultFoundation():foundation;this.foundation_.init();this.initialSyncWithDOM()}initialize(){}getDefaultFoundation(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured "+"foundation class")}initialSyncWithDOM(){}destroy(){this.foundation_.destroy()}listen(evtType,handler){this.root_.addEventListener(evtType,handler)}unlisten(evtType,handler){this.root_.removeEventListener(evtType,handler)}emit(evtType,evtData,shouldBubble=!1){let evt;if("function"===typeof CustomEvent){evt=new CustomEvent(evtType,{detail:evtData,bubbles:shouldBubble})}else{evt=document.createEvent("CustomEvent");evt.initCustomEvent(evtType,shouldBubble,!1,evtData)}this.root_.dispatchEvent(evt)}}_exports.$componentDefault$2=MDCComponent$2;_exports.$component$2={default:MDCComponent$2};class MDCLineRipple extends MDCComponent$2{static attachTo(root){return new MDCLineRipple(root)}activate(){this.foundation_.activate()}deactivate(){this.foundation_.deactivate()}setRippleCenter(xCoordinate){this.foundation_.setRippleCenter(xCoordinate)}getDefaultFoundation(){return new MDCLineRippleFoundation(Object.assign({addClass:className=>this.root_.classList.add(className),removeClass:className=>this.root_.classList.remove(className),hasClass:className=>this.root_.classList.contains(className),setStyle:(propertyName,value)=>this.root_.style[propertyName]=value,registerEventHandler:(evtType,handler)=>this.root_.addEventListener(evtType,handler),deregisterEventHandler:(evtType,handler)=>this.root_.removeEventListener(evtType,handler)}))}}_exports.MDCLineRipple=MDCLineRipple;_exports.$index$3={MDCLineRipple:MDCLineRipple,MDCLineRippleFoundation:MDCLineRippleFoundation};if(window.navigator.userAgent.match("Trident")){DOMTokenList.prototype.toggle=function(token,force){if(force===void 0||force){this.add(token)}else{this.remove(token)}return force===void 0?!0:force}}const classMapCache=new WeakMap,classMapStatics=new WeakMap,classMap=classInfo=>directive(part=>{if(!(part instanceof AttributePart)||part instanceof PropertyPart||"class"!==part.committer.name||1<part.committer.parts.length){throw new Error("The `classMap` directive must be used in the `class` attribute "+"and must be the only part in the attribute.")}if(!classMapStatics.has(part)){part.committer.element.className=part.committer.strings.join(" ");classMapStatics.set(part,!0)}const oldInfo=classMapCache.get(part);for(const name in oldInfo){if(!(name in classInfo)){part.committer.element.classList.remove(name)}}for(const name in classInfo){if(!oldInfo||oldInfo[name]!==classInfo[name]){part.committer.element.classList.toggle(name,!!classInfo[name])}}classMapCache.set(part,classInfo)});_exports.classMap$2=_exports.classMap$1=_exports.classMap=classMap;_exports.$classMap={classMap:classMap};const observer$1=observer=>(proto,propName)=>{if(!proto.constructor._observers){proto.constructor._observers=new Map;const userUpdated=proto.updated;proto.updated=function(changedProperties){userUpdated.call(this,changedProperties);changedProperties.forEach((v,k)=>{const observer=this.constructor._observers.get(k);if(observer!==void 0){observer.call(this,this[k],v)}})}}else if(!proto.constructor.hasOwnProperty("_observers")){const observers=proto.constructor._observers;proto.constructor._observers=new Map;observers.forEach((v,k)=>proto.constructor._observers.set(k,v))}proto.constructor._observers.set(propName,observer)};_exports.observer$2=_exports.observer$1=_exports.observer=observer$1;_exports.$observer={observer:observer$1};class BaseElement extends LitElement{createAdapter(){return{addClass:className=>{this.mdcRoot.classList.add(className)},removeClass:className=>{this.mdcRoot.classList.remove(className)},hasClass:className=>{return this.mdcRoot.classList.contains(className)}}}createFoundation(){if(this.mdcFoundation){this.mdcFoundation.destroy()}this.mdcFoundation=new this.mdcFoundationClass(this.createAdapter());this.mdcFoundation.init()}firstUpdated(){this.createFoundation()}}_exports.BaseElement$1=_exports.BaseElement=BaseElement;_exports.$baseElement={TemplateResult:TemplateResult,BaseElement:BaseElement,notEqual:notEqual,UpdatingElement:UpdatingElement,customElement:customElement,property:property,query:query,queryAll:queryAll,eventOptions:eventOptions,html:html$1,svg:svg,LitElement:LitElement,classMap:classMap,observer:observer$1};const hasCustomEventConstructor="function"===typeof CustomEvent,MDCWebComponentMixin=superClass=>class extends superClass{get host(){return this._host}get activeElement(){return this.host.getRootNode().activeElement}initialize(...args){super.initialize(...args);this._host=this.root_.getRootNode().host}createAdapter(){return null}getDefaultFoundation(){const foundation=super.getDefaultFoundation();Object.assign(foundation.adapter_,this.createAdapter());return foundation}emit(evtType,evtData,shouldBubble=!1){let evt;if(hasCustomEventConstructor){evt=new CustomEvent(evtType,{detail:evtData,bubbles:shouldBubble,composed:!0})}else{evt=document.createEvent("CustomEvent");evt.initCustomEvent(evtType,shouldBubble,!1,evtData)}this.root_.dispatchEvent(evt)}};_exports.MDCWebComponentMixin$1=_exports.MDCWebComponentMixin=MDCWebComponentMixin;_exports.$mdcWebComponent={MDCWebComponentMixin:MDCWebComponentMixin};class ComponentElement extends LitElement{static get ComponentClass(){throw new Error("Must provide component class")}static get componentSelector(){throw new Error("Must provide component selector")}constructor(){super();this._asyncComponent=!1}async firstUpdated(){if(this._asyncComponent){await this.renderComplete}this._makeComponent()}_makeComponent(){this._componentRoot=this.shadowRoot.querySelector(this.constructor.componentSelector);this._component=new this.constructor.ComponentClass(this._componentRoot);if(this._resolveComponentPromise){this._resolveComponentPromise(this._component)}}componentReady(){if(!this._componentPromise){this._componentPromise=new Promise(resolve=>{this._resolveComponentPromise=resolve});if(this._component){this._resolveComponentPromise(this._component)}}return this._componentPromise}}_exports.ComponentElement=ComponentElement;_exports.$componentElement={ComponentElement:ComponentElement,html:html$1,MDCWebComponentMixin:MDCWebComponentMixin};class FormElement extends BaseElement{createRenderRoot(){return this.attachShadow({mode:"open",delegatesFocus:!0})}click(){if(this.formElement){this.formElement.focus();this.formElement.click()}}setAriaLabel(label){if(this.formElement){this.formElement.setAttribute("aria-label",label)}}}_exports.FormElement=FormElement;_exports.$formElement={FormElement:FormElement,TemplateResult:TemplateResult,notEqual:notEqual,UpdatingElement:UpdatingElement,customElement:customElement,property:property,query:query,queryAll:queryAll,eventOptions:eventOptions,html:html$1,svg:svg,LitElement:LitElement,classMap:classMap,observer:observer$1,BaseElement:BaseElement};const style=html$1`<style>@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}.mdc-ripple-surface--test-edge-var-bug{--mdc-ripple-surface-test-edge-var: 1px solid #000;visibility:hidden}.mdc-ripple-surface--test-edge-var-bug::before{border:var(--mdc-ripple-surface-test-edge-var)}.mdc-button{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:2.25rem;font-weight:500;letter-spacing:.0892857143em;text-decoration:none;text-transform:uppercase;--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity;padding:0 8px 0 8px;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;height:36px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:hidden;vertical-align:middle;border-radius:4px}.mdc-button::before,.mdc-button::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-button::before{transition:opacity 15ms linear;z-index:1}.mdc-button.mdc-ripple-upgraded::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-button.mdc-ripple-upgraded::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-button.mdc-ripple-upgraded--unbounded::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-button.mdc-ripple-upgraded--foreground-activation::after{animation:225ms mdc-ripple-fg-radius-in forwards,75ms mdc-ripple-fg-opacity-in forwards}.mdc-button.mdc-ripple-upgraded--foreground-deactivation::after{animation:150ms mdc-ripple-fg-opacity-out;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-button::before,.mdc-button::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-button.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{background-color:transparent;color:rgba(0,0,0,.37);cursor:default;pointer-events:none}.mdc-button.mdc-button--dense{border-radius:4px}.mdc-button:not(:disabled){background-color:transparent}.mdc-button:not(:disabled){color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-button::before,.mdc-button::after{background-color:#6200ee}@supports not (-ms-ime-align: auto){.mdc-button::before,.mdc-button::after{background-color:var(--mdc-theme-primary, #6200ee)}}.mdc-button:hover::before{opacity:.04}.mdc-button:not(.mdc-ripple-upgraded):focus::before,.mdc-button.mdc-ripple-upgraded--background-focused::before{transition-duration:75ms;opacity:.12}.mdc-button:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-button:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:.16}.mdc-button.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.16}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;width:18px;height:18px;font-size:18px;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button svg.mdc-button__icon{fill:currentColor}.mdc-button--raised .mdc-button__icon,.mdc-button--unelevated .mdc-button__icon,.mdc-button--outlined .mdc-button__icon{margin-left:-4px;margin-right:8px}[dir=rtl] .mdc-button--raised .mdc-button__icon,.mdc-button--raised .mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--unelevated .mdc-button__icon,.mdc-button--unelevated .mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--outlined .mdc-button__icon,.mdc-button--outlined .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mdc-button--raised,.mdc-button--unelevated{padding:0 16px 0 16px}.mdc-button--raised:disabled,.mdc-button--unelevated:disabled{background-color:rgba(0,0,0,.12);color:rgba(0,0,0,.37)}.mdc-button--raised:not(:disabled),.mdc-button--unelevated:not(:disabled){background-color:#6200ee}@supports not (-ms-ime-align: auto){.mdc-button--raised:not(:disabled),.mdc-button--unelevated:not(:disabled){background-color:var(--mdc-theme-primary, #6200ee)}}.mdc-button--raised:not(:disabled),.mdc-button--unelevated:not(:disabled){color:#fff;color:var(--mdc-theme-on-primary, #fff)}.mdc-button--raised::before,.mdc-button--raised::after,.mdc-button--unelevated::before,.mdc-button--unelevated::after{background-color:#fff}@supports not (-ms-ime-align: auto){.mdc-button--raised::before,.mdc-button--raised::after,.mdc-button--unelevated::before,.mdc-button--unelevated::after{background-color:var(--mdc-theme-on-primary, #fff)}}.mdc-button--raised:hover::before,.mdc-button--unelevated:hover::before{opacity:.08}.mdc-button--raised:not(.mdc-ripple-upgraded):focus::before,.mdc-button--raised.mdc-ripple-upgraded--background-focused::before,.mdc-button--unelevated:not(.mdc-ripple-upgraded):focus::before,.mdc-button--unelevated.mdc-ripple-upgraded--background-focused::before{transition-duration:75ms;opacity:.24}.mdc-button--raised:not(.mdc-ripple-upgraded)::after,.mdc-button--unelevated:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-button--raised:not(.mdc-ripple-upgraded):active::after,.mdc-button--unelevated:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:.32}.mdc-button--raised.mdc-ripple-upgraded,.mdc-button--unelevated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.32}.mdc-button--raised{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 1px 5px 0px rgba(0,0,0,.12);transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--raised:hover,.mdc-button--raised:focus{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12)}.mdc-button--raised:active{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12)}.mdc-button--raised:disabled{box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2),0px 0px 0px 0px rgba(0, 0, 0, 0.14),0px 0px 0px 0px rgba(0,0,0,.12)}.mdc-button--outlined{border-style:solid;padding:0 14px 0 14px;border-width:2px}.mdc-button--outlined:disabled{border-color:rgba(0,0,0,.37)}.mdc-button--outlined:not(:disabled){border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-button--dense{height:32px;font-size:.8125rem}.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}:host{display:inline-flex;outline:none}.mdc-button{flex:1}</style>`;_exports.style=style;_exports.$mwcButtonCss={style:style};class MDCRippleAdapter{browserSupportsCssVars(){}isUnbounded(){}isSurfaceActive(){}isSurfaceDisabled(){}addClass(){}removeClass(){}containsEventTarget(){}registerInteractionHandler(){}deregisterInteractionHandler(){}registerDocumentInteractionHandler(){}deregisterDocumentInteractionHandler(){}registerResizeHandler(){}deregisterResizeHandler(){}updateCssVariable(){}computeBoundingRect(){}getWindowPageOffset(){}}_exports.$adapterDefault$4=MDCRippleAdapter;_exports.$adapter$4={default:MDCRippleAdapter};const cssClasses$2={ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded",BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation"};_exports.cssClasses$4=cssClasses$2;const strings={VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end"};_exports.strings$2=strings;const numbers={PADDING:10,INITIAL_ORIGIN_SCALE:.6,DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,TAP_DELAY_MS:300};_exports.numbers$1=numbers;_exports.$constants$4={cssClasses:cssClasses$2,strings:strings,numbers:numbers};let supportsCssVariables_,supportsPassive_;function detectEdgePseudoVarBug(windowObj){const document=windowObj.document,node=document.createElement("div");node.className="mdc-ripple-surface--test-edge-var-bug";document.body.appendChild(node);const computedStyle=windowObj.getComputedStyle(node),hasPseudoVarBug=null!==computedStyle&&"solid"===computedStyle.borderTopStyle;node.remove();return hasPseudoVarBug}function supportsCssVariables(windowObj,forceRefresh=!1){let supportsCssVariables=supportsCssVariables_;if("boolean"===typeof supportsCssVariables_&&!forceRefresh){return supportsCssVariables}const supportsFunctionPresent=windowObj.CSS&&"function"===typeof windowObj.CSS.supports;if(!supportsFunctionPresent){return}const explicitlySupportsCssVars=windowObj.CSS.supports("--css-vars","yes"),weAreFeatureDetectingSafari10plus=windowObj.CSS.supports("(--css-vars: yes)")&&windowObj.CSS.supports("color","#00000000");if(explicitlySupportsCssVars||weAreFeatureDetectingSafari10plus){supportsCssVariables=!detectEdgePseudoVarBug(windowObj)}else{supportsCssVariables=!1}if(!forceRefresh){supportsCssVariables_=supportsCssVariables}return supportsCssVariables}function applyPassive(globalObj=window,forceRefresh=!1){if(supportsPassive_===void 0||forceRefresh){let isSupported=!1;try{globalObj.document.addEventListener("test",null,{get passive(){isSupported=!0;return isSupported}})}catch(e){}supportsPassive_=isSupported}return supportsPassive_?{passive:!0}:!1}function getMatchesProperty(HTMLElementPrototype){const matchesMethods=["matches","webkitMatchesSelector","msMatchesSelector"];let method="matches";for(let i=0;i<matchesMethods.length;i++){const matchesMethod=matchesMethods[i];if(matchesMethod in HTMLElementPrototype){method=matchesMethod;break}}return method}function getNormalizedEventCoords(ev,pageOffset,clientRect){const{x,y}=pageOffset,documentX=x+clientRect.left,documentY=y+clientRect.top;let normalizedX,normalizedY;if("touchstart"===ev.type){ev=ev;normalizedX=ev.changedTouches[0].pageX-documentX;normalizedY=ev.changedTouches[0].pageY-documentY}else{ev=ev;normalizedX=ev.pageX-documentX;normalizedY=ev.pageY-documentY}return{x:normalizedX,y:normalizedY}}var util={supportsCssVariables:supportsCssVariables,applyPassive:applyPassive,getMatchesProperty:getMatchesProperty,getNormalizedEventCoords:getNormalizedEventCoords};_exports.util=_exports.$util=util;const ACTIVATION_EVENT_TYPES=["touchstart","pointerdown","mousedown","keydown"],POINTER_DEACTIVATION_EVENT_TYPES=["touchend","pointerup","mouseup"];let activatedTargets=[];class MDCRippleFoundation extends MDCFoundation{static get cssClasses(){return cssClasses$2}static get strings(){return strings}static get numbers(){return numbers}static get defaultAdapter(){return{browserSupportsCssVars:()=>{},isUnbounded:()=>{},isSurfaceActive:()=>{},isSurfaceDisabled:()=>{},addClass:()=>{},removeClass:()=>{},containsEventTarget:()=>{},registerInteractionHandler:()=>{},deregisterInteractionHandler:()=>{},registerDocumentInteractionHandler:()=>{},deregisterDocumentInteractionHandler:()=>{},registerResizeHandler:()=>{},deregisterResizeHandler:()=>{},updateCssVariable:()=>{},computeBoundingRect:()=>{},getWindowPageOffset:()=>{}}}constructor(adapter){super(Object.assign(MDCRippleFoundation.defaultAdapter,adapter));this.layoutFrame_=0;this.frame_={width:0,height:0};this.activationState_=this.defaultActivationState_();this.initialSize_=0;this.maxRadius_=0;this.activateHandler_=e=>this.activate_(e);this.deactivateHandler_=()=>this.deactivate_();this.focusHandler_=()=>this.handleFocus();this.blurHandler_=()=>this.handleBlur();this.resizeHandler_=()=>this.layout();this.unboundedCoords_={left:0,top:0};this.fgScale_=0;this.activationTimer_=0;this.fgDeactivationRemovalTimer_=0;this.activationAnimationHasEnded_=!1;this.activationTimerCallback_=()=>{this.activationAnimationHasEnded_=!0;this.runDeactivationUXLogicIfReady_()};this.previousActivationEvent_}supportsPressRipple_(){return this.adapter_.browserSupportsCssVars()}defaultActivationState_(){return{isActivated:!1,hasDeactivationUXRun:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1,activationEvent:void 0,isProgrammatic:!1}}init(){const supportsPressRipple=this.supportsPressRipple_();this.registerRootHandlers_(supportsPressRipple);if(supportsPressRipple){const{ROOT,UNBOUNDED}=MDCRippleFoundation.cssClasses;requestAnimationFrame(()=>{this.adapter_.addClass(ROOT);if(this.adapter_.isUnbounded()){this.adapter_.addClass(UNBOUNDED);this.layoutInternal_()}})}}destroy(){if(this.supportsPressRipple_()){if(this.activationTimer_){clearTimeout(this.activationTimer_);this.activationTimer_=0;this.adapter_.removeClass(MDCRippleFoundation.cssClasses.FG_ACTIVATION)}if(this.fgDeactivationRemovalTimer_){clearTimeout(this.fgDeactivationRemovalTimer_);this.fgDeactivationRemovalTimer_=0;this.adapter_.removeClass(MDCRippleFoundation.cssClasses.FG_DEACTIVATION)}const{ROOT,UNBOUNDED}=MDCRippleFoundation.cssClasses;requestAnimationFrame(()=>{this.adapter_.removeClass(ROOT);this.adapter_.removeClass(UNBOUNDED);this.removeCssVars_()})}this.deregisterRootHandlers_();this.deregisterDeactivationHandlers_()}registerRootHandlers_(supportsPressRipple){if(supportsPressRipple){ACTIVATION_EVENT_TYPES.forEach(type=>{this.adapter_.registerInteractionHandler(type,this.activateHandler_)});if(this.adapter_.isUnbounded()){this.adapter_.registerResizeHandler(this.resizeHandler_)}}this.adapter_.registerInteractionHandler("focus",this.focusHandler_);this.adapter_.registerInteractionHandler("blur",this.blurHandler_)}registerDeactivationHandlers_(e){if("keydown"===e.type){this.adapter_.registerInteractionHandler("keyup",this.deactivateHandler_)}else{POINTER_DEACTIVATION_EVENT_TYPES.forEach(type=>{this.adapter_.registerDocumentInteractionHandler(type,this.deactivateHandler_)})}}deregisterRootHandlers_(){ACTIVATION_EVENT_TYPES.forEach(type=>{this.adapter_.deregisterInteractionHandler(type,this.activateHandler_)});this.adapter_.deregisterInteractionHandler("focus",this.focusHandler_);this.adapter_.deregisterInteractionHandler("blur",this.blurHandler_);if(this.adapter_.isUnbounded()){this.adapter_.deregisterResizeHandler(this.resizeHandler_)}}deregisterDeactivationHandlers_(){this.adapter_.deregisterInteractionHandler("keyup",this.deactivateHandler_);POINTER_DEACTIVATION_EVENT_TYPES.forEach(type=>{this.adapter_.deregisterDocumentInteractionHandler(type,this.deactivateHandler_)})}removeCssVars_(){const{strings:strings$$1}=MDCRippleFoundation;Object.keys(strings$$1).forEach(k=>{if(0===k.indexOf("VAR_")){this.adapter_.updateCssVariable(strings$$1[k],null)}})}activate_(e){if(this.adapter_.isSurfaceDisabled()){return}const activationState=this.activationState_;if(activationState.isActivated){return}const previousActivationEvent=this.previousActivationEvent_,isSameInteraction=previousActivationEvent&&e!==void 0&&previousActivationEvent.type!==e.type;if(isSameInteraction){return}activationState.isActivated=!0;activationState.isProgrammatic=e===void 0;activationState.activationEvent=e;activationState.wasActivatedByPointer=activationState.isProgrammatic?!1:e!==void 0&&("mousedown"===e.type||"touchstart"===e.type||"pointerdown"===e.type);const hasActivatedChild=e!==void 0&&0<activatedTargets.length&&activatedTargets.some(target=>this.adapter_.containsEventTarget(target));if(hasActivatedChild){this.resetActivationState_();return}if(e!==void 0){activatedTargets.push(e.target);this.registerDeactivationHandlers_(e)}activationState.wasElementMadeActive=this.checkElementMadeActive_(e);if(activationState.wasElementMadeActive){this.animateActivation_()}requestAnimationFrame(()=>{activatedTargets=[];if(!activationState.wasElementMadeActive&&e!==void 0&&(" "===e.key||32===e.keyCode)){activationState.wasElementMadeActive=this.checkElementMadeActive_(e);if(activationState.wasElementMadeActive){this.animateActivation_()}}if(!activationState.wasElementMadeActive){this.activationState_=this.defaultActivationState_()}})}checkElementMadeActive_(e){return e!==void 0&&"keydown"===e.type?this.adapter_.isSurfaceActive():!0}activate(event){this.activate_(event)}animateActivation_(){const{VAR_FG_TRANSLATE_START,VAR_FG_TRANSLATE_END}=MDCRippleFoundation.strings,{FG_DEACTIVATION,FG_ACTIVATION}=MDCRippleFoundation.cssClasses,{DEACTIVATION_TIMEOUT_MS}=MDCRippleFoundation.numbers;this.layoutInternal_();let translateStart="",translateEnd="";if(!this.adapter_.isUnbounded()){const{startPoint,endPoint}=this.getFgTranslationCoordinates_();translateStart=`${startPoint.x}px, ${startPoint.y}px`;translateEnd=`${endPoint.x}px, ${endPoint.y}px`}this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_START,translateStart);this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_END,translateEnd);clearTimeout(this.activationTimer_);clearTimeout(this.fgDeactivationRemovalTimer_);this.rmBoundedActivationClasses_();this.adapter_.removeClass(FG_DEACTIVATION);this.adapter_.computeBoundingRect();this.adapter_.addClass(FG_ACTIVATION);this.activationTimer_=setTimeout(()=>this.activationTimerCallback_(),DEACTIVATION_TIMEOUT_MS)}getFgTranslationCoordinates_(){const{activationEvent,wasActivatedByPointer}=this.activationState_;let startPoint;if(wasActivatedByPointer){startPoint=getNormalizedEventCoords(activationEvent,this.adapter_.getWindowPageOffset(),this.adapter_.computeBoundingRect())}else{startPoint={x:this.frame_.width/2,y:this.frame_.height/2}}startPoint={x:startPoint.x-this.initialSize_/2,y:startPoint.y-this.initialSize_/2};const endPoint={x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2};return{startPoint,endPoint}}runDeactivationUXLogicIfReady_(){const{FG_DEACTIVATION}=MDCRippleFoundation.cssClasses,{hasDeactivationUXRun,isActivated}=this.activationState_;if((hasDeactivationUXRun||!isActivated)&&this.activationAnimationHasEnded_){this.rmBoundedActivationClasses_();this.adapter_.addClass(FG_DEACTIVATION);this.fgDeactivationRemovalTimer_=setTimeout(()=>{this.adapter_.removeClass(FG_DEACTIVATION)},numbers.FG_DEACTIVATION_MS)}}rmBoundedActivationClasses_(){const{FG_ACTIVATION}=MDCRippleFoundation.cssClasses;this.adapter_.removeClass(FG_ACTIVATION);this.activationAnimationHasEnded_=!1;this.adapter_.computeBoundingRect()}resetActivationState_(){this.previousActivationEvent_=this.activationState_.activationEvent;this.activationState_=this.defaultActivationState_();setTimeout(()=>this.previousActivationEvent_=void 0,MDCRippleFoundation.numbers.TAP_DELAY_MS)}deactivate_(){const activationState=this.activationState_;if(!activationState.isActivated){return}const state=Object.assign({},activationState);if(activationState.isProgrammatic){requestAnimationFrame(()=>this.animateDeactivation_(state));this.resetActivationState_()}else{this.deregisterDeactivationHandlers_();requestAnimationFrame(()=>{this.activationState_.hasDeactivationUXRun=!0;this.animateDeactivation_(state);this.resetActivationState_()})}}deactivate(){this.deactivate_()}animateDeactivation_({wasActivatedByPointer,wasElementMadeActive}){if(wasActivatedByPointer||wasElementMadeActive){this.runDeactivationUXLogicIfReady_()}}layout(){if(this.layoutFrame_){cancelAnimationFrame(this.layoutFrame_)}this.layoutFrame_=requestAnimationFrame(()=>{this.layoutInternal_();this.layoutFrame_=0})}layoutInternal_(){this.frame_=this.adapter_.computeBoundingRect();const maxDim=_Mathmax(this.frame_.height,this.frame_.width);this.maxRadius_=this.adapter_.isUnbounded()?maxDim:(()=>{const hypotenuse=_Mathsqrt(_Mathpow(this.frame_.width,2)+_Mathpow(this.frame_.height,2));return hypotenuse+MDCRippleFoundation.numbers.PADDING})();this.initialSize_=_Mathfloor(maxDim*MDCRippleFoundation.numbers.INITIAL_ORIGIN_SCALE);this.fgScale_=this.maxRadius_/this.initialSize_;this.updateLayoutCssVars_()}updateLayoutCssVars_(){const{VAR_FG_SIZE,VAR_LEFT,VAR_TOP,VAR_FG_SCALE}=MDCRippleFoundation.strings;this.adapter_.updateCssVariable(VAR_FG_SIZE,`${this.initialSize_}px`);this.adapter_.updateCssVariable(VAR_FG_SCALE,this.fgScale_);if(this.adapter_.isUnbounded()){this.unboundedCoords_={left:_Mathround(this.frame_.width/2-this.initialSize_/2),top:_Mathround(this.frame_.height/2-this.initialSize_/2)};this.adapter_.updateCssVariable(VAR_LEFT,`${this.unboundedCoords_.left}px`);this.adapter_.updateCssVariable(VAR_TOP,`${this.unboundedCoords_.top}px`)}}setUnbounded(unbounded){const{UNBOUNDED}=MDCRippleFoundation.cssClasses;if(unbounded){this.adapter_.addClass(UNBOUNDED)}else{this.adapter_.removeClass(UNBOUNDED)}}handleFocus(){requestAnimationFrame(()=>this.adapter_.addClass(MDCRippleFoundation.cssClasses.BG_FOCUSED))}handleBlur(){requestAnimationFrame(()=>this.adapter_.removeClass(MDCRippleFoundation.cssClasses.BG_FOCUSED))}}_exports.MDCRippleFoundation=_exports.$foundationDefault$8=MDCRippleFoundation;_exports.$foundation$8={default:MDCRippleFoundation};const style$1=html$1`<style>@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}</style>`;_exports.style$3=style$1;_exports.$mwcRippleGlobalCss={style:style$1};const MATCHES=getMatchesProperty(HTMLElement.prototype),supportsCssVariables$1=supportsCssVariables(window),isSafari=navigator.userAgent.match(/Safari/);let didApplyRippleStyle=!1;const applyRippleStyle=()=>{didApplyRippleStyle=!0;const part=new NodePart({templateFactory});part.appendInto(document.head);part.setValue(style$1);part.commit()},rippleNode=options=>{if(isSafari&&!didApplyRippleStyle){applyRippleStyle()}const surfaceNode=options.surfaceNode,interactionNode=options.interactionNode||surfaceNode;if(interactionNode.getRootNode()!==surfaceNode.getRootNode()){if(""===interactionNode.style.position){interactionNode.style.position="relative"}}const rippleFoundation=new MDCRippleFoundation({browserSupportsCssVars:()=>supportsCssVariables$1,isUnbounded:()=>options.unbounded===void 0?!0:options.unbounded,isSurfaceActive:()=>interactionNode[MATCHES](":active"),isSurfaceDisabled:()=>!!options.disabled,addClass:className=>surfaceNode.classList.add(className),removeClass:className=>surfaceNode.classList.remove(className),containsEventTarget:target=>interactionNode.contains(target),registerInteractionHandler:(type,handler)=>interactionNode.addEventListener(type,handler,applyPassive()),deregisterInteractionHandler:(type,handler)=>interactionNode.removeEventListener(type,handler,applyPassive()),registerDocumentInteractionHandler:(evtType,handler)=>document.documentElement.addEventListener(evtType,handler,applyPassive()),deregisterDocumentInteractionHandler:(evtType,handler)=>document.documentElement.removeEventListener(evtType,handler,applyPassive()),registerResizeHandler:handler=>window.addEventListener("resize",handler),deregisterResizeHandler:handler=>window.removeEventListener("resize",handler),updateCssVariable:(varName,value)=>surfaceNode.style.setProperty(varName,value),computeBoundingRect:()=>interactionNode.getBoundingClientRect(),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset})});rippleFoundation.init();return rippleFoundation};_exports.rippleNode=rippleNode;const rippleInteractionNodes=new WeakMap,ripple=(options={})=>directive(part=>{const surfaceNode=part.committer.element,interactionNode=options.interactionNode||surfaceNode;let rippleFoundation=part.value;const existingInteractionNode=rippleInteractionNodes.get(rippleFoundation);if(existingInteractionNode!==void 0&&existingInteractionNode!==interactionNode){rippleFoundation.destroy();rippleFoundation=noChange}if(rippleFoundation===noChange){rippleFoundation=rippleNode(Object.assign({},options,{surfaceNode}));rippleInteractionNodes.set(rippleFoundation,interactionNode);part.setValue(rippleFoundation)}else{if(options.unbounded!==void 0){rippleFoundation.setUnbounded(options.unbounded)}if(options.disabled!==void 0){rippleFoundation.setUnbounded(options.disabled)}}if(!0===options.active){rippleFoundation.activate()}else if(!1===options.active){rippleFoundation.deactivate()}});_exports.ripple=ripple;_exports.$rippleDirective={rippleNode:rippleNode,ripple:ripple};const fontEl=document.createElement("link");fontEl.rel="stylesheet";fontEl.href="https://fonts.googleapis.com/icon?family=Material+Icons";document.head.appendChild(fontEl);var __decorate=void 0||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)if(d=decorators[i])r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r;return 3<c&&r&&Object.defineProperty(target,key,r),r};let Button=class extends LitElement{constructor(){super(...arguments);this.raised=!1;this.unelevated=!1;this.outlined=!1;this.dense=!1;this.disabled=!1;this.icon="";this.label=""}createRenderRoot(){return this.attachShadow({mode:"open",delegatesFocus:!0})}renderStyle(){return style}render(){const classes={"mdc-button--raised":this.raised,"mdc-button--unelevated":this.unelevated,"mdc-button--outlined":this.outlined,"mdc-button--dense":this.dense};return html$1`
      ${this.renderStyle()}
      <button
          .ripple="${ripple({unbounded:!1})}"
          class="mdc-button ${classMap(classes)}"
          ?disabled="${this.disabled}"
          aria-label="${this.label||this.icon}">
        ${this.icon?html$1`<span class="material-icons mdc-button__icon">${this.icon}</span>`:""}
        ${this.label}
        <slot></slot>
      </button>`}};_exports.Button=Button;__decorate([property({type:Boolean})],Button.prototype,"raised",void 0);__decorate([property({type:Boolean})],Button.prototype,"unelevated",void 0);__decorate([property({type:Boolean})],Button.prototype,"outlined",void 0);__decorate([property({type:Boolean})],Button.prototype,"dense",void 0);__decorate([property({type:Boolean})],Button.prototype,"disabled",void 0);__decorate([property()],Button.prototype,"icon",void 0);__decorate([property()],Button.prototype,"label",void 0);_exports.Button=Button=__decorate([customElement("mwc-button")],Button);var mwcButton={get Button(){return Button}};_exports.$mwcButton=mwcButton;const style$2=html$1`<style>:host{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}</style>`;_exports.style$1=style$2;_exports.$mwcIconHostCss={style:style$2};let Icon=class extends LitElement{renderStyle(){return style$2}render(){return html$1`${this.renderStyle()}<slot></slot>`}};_exports.Icon=Icon;_exports.Icon=Icon=(void 0||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)if(d=decorators[i])r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r;return 3<c&&r&&Object.defineProperty(target,key,r),r})([customElement("mwc-icon")],Icon);var mwcIcon={get Icon(){return Icon}};_exports.$mwcIcon=mwcIcon;const style$3=html$1`<style>@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}.mdc-ripple-surface--test-edge-var-bug{--mdc-ripple-surface-test-edge-var: 1px solid #000;visibility:hidden}.mdc-ripple-surface--test-edge-var-bug::before{border:var(--mdc-ripple-surface-test-edge-var)}.mdc-radio{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity;display:inline-block;position:relative;flex:0 0 auto;box-sizing:border-box;width:40px;height:40px;padding:10px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio .mdc-radio__native-control:enabled:not(:checked) + .mdc-radio__background .mdc-radio__outer-circle{border-color:rgba(0,0,0,.54)}.mdc-radio .mdc-radio__native-control:enabled:checked + .mdc-radio__background .mdc-radio__outer-circle{border-color:#018786;border-color:var(--mdc-theme-secondary, #018786)}.mdc-radio .mdc-radio__native-control:enabled + .mdc-radio__background .mdc-radio__inner-circle{border-color:#018786;border-color:var(--mdc-theme-secondary, #018786)}.mdc-radio .mdc-radio__background::before{background-color:#018786}@supports not (-ms-ime-align: auto){.mdc-radio .mdc-radio__background::before{background-color:var(--mdc-theme-secondary, #018786)}}.mdc-radio::before,.mdc-radio::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-radio::before{transition:opacity 15ms linear;z-index:1}.mdc-radio.mdc-ripple-upgraded::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-radio.mdc-ripple-upgraded::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-radio.mdc-ripple-upgraded--unbounded::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-radio.mdc-ripple-upgraded--foreground-activation::after{animation:225ms mdc-ripple-fg-radius-in forwards,75ms mdc-ripple-fg-opacity-in forwards}.mdc-radio.mdc-ripple-upgraded--foreground-deactivation::after{animation:150ms mdc-ripple-fg-opacity-out;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-radio::before,.mdc-radio::after{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}.mdc-radio.mdc-ripple-upgraded::before,.mdc-radio.mdc-ripple-upgraded::after{top:var(--mdc-ripple-top, calc(50% - 50%));left:var(--mdc-ripple-left, calc(50% - 50%));width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-radio.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-radio::before,.mdc-radio::after{background-color:#018786}@supports not (-ms-ime-align: auto){.mdc-radio::before,.mdc-radio::after{background-color:var(--mdc-theme-secondary, #018786)}}.mdc-radio:hover::before{opacity:.04}.mdc-radio:not(.mdc-ripple-upgraded):focus::before,.mdc-radio.mdc-ripple-upgraded--background-focused::before{transition-duration:75ms;opacity:.12}.mdc-radio:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-radio:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:.16}.mdc-radio.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.16}.mdc-radio__background{display:inline-block;position:absolute;left:10px;box-sizing:border-box;width:50%;height:50%}.mdc-radio__background::before{position:absolute;top:0;left:0;width:100%;height:100%;transform:scale(0, 0);transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1);border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1);border-width:2px;border-style:solid;border-radius:50%}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1);border-width:10px;border-style:solid;border-radius:50%}.mdc-radio__native-control{position:absolute;top:0;left:0;width:100%;height:100%;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__background::before{content:none}.mdc-radio__native-control:checked + .mdc-radio__background,.mdc-radio__native-control:disabled + .mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked + .mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled + .mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked + .mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled + .mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked + .mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled + .mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control + .mdc-radio__background{cursor:default}.mdc-radio__native-control:disabled + .mdc-radio__background .mdc-radio__outer-circle,[aria-disabled=true] .mdc-radio__native-control + .mdc-radio__background .mdc-radio__outer-circle{border-color:rgba(0,0,0,.26)}.mdc-radio__native-control:disabled + .mdc-radio__background .mdc-radio__inner-circle,[aria-disabled=true] .mdc-radio__native-control + .mdc-radio__background .mdc-radio__inner-circle{border-color:rgba(0,0,0,.26)}.mdc-radio__native-control:focus + .mdc-radio__background::before{transform:scale(2, 2);transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:.12}:host{display:inline-block;outline:none}</style>`;_exports.style$2=style$3;_exports.$mwcRadioCss={style:style$3};const selectionController=Symbol("selection controller");class SelectionSet{constructor(){this.selected=null;this.ordered=null;this.set=new Set}}class SelectionController{constructor(element){this.sets={};this.focusedSet=null;this.mouseIsDown=!1;this.updating=!1;element.addEventListener("keydown",e=>this.keyDownHandler(e));element.addEventListener("mousedown",()=>this.mousedownHandler());element.addEventListener("mouseup",()=>this.mouseupHandler())}static getController(element){const root=element.getRootNode();if(!root[selectionController]){root[selectionController]=new SelectionController(root)}return root[selectionController]}keyDownHandler(e){if(!(e.target instanceof Radio)){return}const element=e.target;if(!this.has(element)){return}if("ArrowRight"==e.key||"ArrowDown"==e.key){this.next(element)}else if("ArrowLeft"==e.key||"ArrowUp"==e.key){this.previous(element)}}mousedownHandler(){this.mouseIsDown=!0}mouseupHandler(){this.mouseIsDown=!1}has(element){const set=this.getSet(element.name);return set.set.has(element)}previous(element){const order=this.getOrdered(element),i=order.indexOf(element);this.select(order[i-1]||order[order.length-1])}next(element){const order=this.getOrdered(element),i=order.indexOf(element);this.select(order[i+1]||order[0])}select(element){element.click()}focus(element){if(this.mouseIsDown){return}const set=this.getSet(element.name),currentFocusedSet=this.focusedSet;this.focusedSet=set;if(currentFocusedSet!=set&&set.selected&&set.selected!=element){set.selected.focusNative()}}getOrdered(element){const set=this.getSet(element.name);if(!set.ordered){set.ordered=Array.from(set.set);set.ordered.sort((a,b)=>a.compareDocumentPosition(b)==Node.DOCUMENT_POSITION_PRECEDING?1:0)}return set.ordered}getSet(name){if(!this.sets[name]){this.sets[name]=new SelectionSet}return this.sets[name]}register(element){const set=this.getSet(element.name);set.set.add(element);set.ordered=null}unregister(element){const set=this.getSet(element.name);set.set.delete(element);set.ordered=null;if(set.selected==element){set.selected=null}}update(element){if(this.updating){return}this.updating=!0;if(element.checked){const set=this.getSet(element.name);for(const e of set.set){e.checked=e==element}set.selected=element}this.updating=!1}}_exports.SelectionController=SelectionController;_exports.$selectionController={SelectionController:SelectionController};class MDCRipple extends MDCComponent{constructor(...args){super(...args);this.disabled=!1;this.unbounded_}static attachTo(root,{isUnbounded=void 0}={}){const ripple=new MDCRipple(root);if(isUnbounded!==void 0){ripple.unbounded=isUnbounded}return ripple}static createAdapter(instance){const MATCHES=getMatchesProperty(HTMLElement.prototype);return{browserSupportsCssVars:()=>supportsCssVariables(window),isUnbounded:()=>instance.unbounded,isSurfaceActive:()=>instance.root_[MATCHES](":active"),isSurfaceDisabled:()=>instance.disabled,addClass:className=>instance.root_.classList.add(className),removeClass:className=>instance.root_.classList.remove(className),containsEventTarget:target=>instance.root_.contains(target),registerInteractionHandler:(evtType,handler)=>instance.root_.addEventListener(evtType,handler,applyPassive()),deregisterInteractionHandler:(evtType,handler)=>instance.root_.removeEventListener(evtType,handler,applyPassive()),registerDocumentInteractionHandler:(evtType,handler)=>document.documentElement.addEventListener(evtType,handler,applyPassive()),deregisterDocumentInteractionHandler:(evtType,handler)=>document.documentElement.removeEventListener(evtType,handler,applyPassive()),registerResizeHandler:handler=>window.addEventListener("resize",handler),deregisterResizeHandler:handler=>window.removeEventListener("resize",handler),updateCssVariable:(varName,value)=>instance.root_.style.setProperty(varName,value),computeBoundingRect:()=>instance.root_.getBoundingClientRect(),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset})}}get unbounded(){return this.unbounded_}set unbounded(unbounded){this.unbounded_=!!unbounded;this.setUnbounded_()}setUnbounded_(){this.foundation_.setUnbounded(this.unbounded_)}activate(){this.foundation_.activate()}deactivate(){this.foundation_.deactivate()}layout(){this.foundation_.layout()}getDefaultFoundation(){return new MDCRippleFoundation(MDCRipple.createAdapter(this))}initialSyncWithDOM(){this.unbounded="mdcRippleIsUnbounded"in this.root_.dataset}}_exports.MDCRipple=MDCRipple;class RippleCapableSurface{}_exports.RippleCapableSurface=RippleCapableSurface;RippleCapableSurface.prototype.root_;RippleCapableSurface.prototype.unbounded;RippleCapableSurface.prototype.disabled;_exports.$index$5={MDCRipple:MDCRipple,MDCRippleFoundation:MDCRippleFoundation,RippleCapableSurface:RippleCapableSurface,util:util};let MDCSelectionControlState;_exports.MDCSelectionControlState=MDCSelectionControlState;class MDCSelectionControl{get ripple(){}}_exports.MDCSelectionControl=MDCSelectionControl;_exports.$index$6={MDCSelectionControlState:MDCSelectionControlState,MDCSelectionControl:MDCSelectionControl};class MDCRadioAdapter{addClass(){}removeClass(){}getNativeControl(){}}_exports.$adapterDefault$3=MDCRadioAdapter;_exports.$adapter$3={default:MDCRadioAdapter};const strings$1={NATIVE_CONTROL_SELECTOR:".mdc-radio__native-control"};_exports.strings$1=strings$1;const cssClasses$3={ROOT:"mdc-radio",DISABLED:"mdc-radio--disabled"};_exports.cssClasses$3=cssClasses$3;_exports.$constants$3={strings:strings$1,cssClasses:cssClasses$3};class MDCRadioFoundation extends MDCFoundation{static get cssClasses(){return cssClasses$3}static get strings(){return strings$1}static get defaultAdapter(){return{addClass:()=>{},removeClass:()=>{},getNativeControl:()=>{}}}isChecked(){return this.getNativeControl_().checked}setChecked(checked){this.getNativeControl_().checked=checked}isDisabled(){return this.getNativeControl_().disabled}setDisabled(disabled){const{DISABLED}=MDCRadioFoundation.cssClasses;this.getNativeControl_().disabled=disabled;if(disabled){this.adapter_.addClass(DISABLED)}else{this.adapter_.removeClass(DISABLED)}}getValue(){return this.getNativeControl_().value}setValue(value){this.getNativeControl_().value=value}getNativeControl_(){return this.adapter_.getNativeControl()||{checked:!1,disabled:!1,value:null}}}_exports.$foundationDefault$7=MDCRadioFoundation;_exports.$foundation$7={default:MDCRadioFoundation};var __decorate$2=void 0||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)if(d=decorators[i])r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r;return 3<c&&r&&Object.defineProperty(target,key,r),r};let Radio=class extends FormElement{constructor(){super();this.checked=!1;this.disabled=!1;this.value="";this.name="";this.mdcFoundationClass=MDCRadioFoundation;this._selectionController=null;this._changeHandler=()=>{this.checked=this.formElement.checked;if(this._selectionController){this._selectionController.update(this)}};this._focusHandler=()=>{if(this._selectionController){this._selectionController.focus(this)}};this._clickHandler=()=>{this.formElement.focus()};if(!window.ShadyDOM||!window.ShadyDOM.inUse){this._selectionController=SelectionController.getController(this)}}connectedCallback(){super.connectedCallback();if(this._selectionController){this._selectionController.register(this)}}disconnectedCallback(){if(this._selectionController){this._selectionController.unregister(this)}}focusNative(){this.formElement.focus()}renderStyle(){return style$3}get ripple(){return this.mdcRoot.ripple}createAdapter(){return Object.assign({},super.createAdapter(),{getNativeControl:()=>{return this.formElement}})}render(){return html$1`
      ${this.renderStyle()}
      <div class="mdc-radio" .ripple="${ripple()}">
        <input class="mdc-radio__native-control" type="radio" name="${this.name}" .checked="${this.checked}" .value="${this.value}"
        @change="${this._changeHandler}"
        @focus="${this._focusHandler}"
        @click="${this._clickHandler}">
        <div class="mdc-radio__background">
          <div class="mdc-radio__outer-circle"></div>
          <div class="mdc-radio__inner-circle"></div>
        </div>
      </div>`}firstUpdated(){super.firstUpdated();if(this._selectionController){this._selectionController.update(this)}}};_exports.Radio=Radio;__decorate$2([query(".mdc-radio")],Radio.prototype,"mdcRoot",void 0);__decorate$2([query("input")],Radio.prototype,"formElement",void 0);__decorate$2([property({type:Boolean}),observer$1(function(checked){this.mdcFoundation.setChecked(checked)})],Radio.prototype,"checked",void 0);__decorate$2([property({type:Boolean}),observer$1(function(disabled){this.mdcFoundation.setDisabled(disabled)})],Radio.prototype,"disabled",void 0);__decorate$2([property({type:String}),observer$1(function(value){this.mdcFoundation.setValue(value)})],Radio.prototype,"value",void 0);__decorate$2([property({type:String})],Radio.prototype,"name",void 0);_exports.Radio=Radio=__decorate$2([customElement("mwc-radio")],Radio);var mwcRadio={get Radio(){return Radio}};_exports.$mwcRadio=mwcRadio;const style$4=html$1`<style>@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}.mdc-ripple-surface--test-edge-var-bug{--mdc-ripple-surface-test-edge-var: 1px solid #000;visibility:hidden}.mdc-ripple-surface--test-edge-var-bug::before{border:var(--mdc-ripple-surface-test-edge-var)}.mdc-switch{display:inline-block;position:relative;outline:none;user-select:none}.mdc-switch.mdc-switch--checked .mdc-switch__track{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786);border-color:#018786;border-color:var(--mdc-theme-secondary, #018786)}.mdc-switch.mdc-switch--checked .mdc-switch__thumb{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786);border-color:#018786;border-color:var(--mdc-theme-secondary, #018786)}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__track{background-color:#000;border-color:#000}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__thumb{background-color:#fff;border-color:#fff}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__thumb-underlay::before,.mdc-switch:not(.mdc-switch--checked) .mdc-switch__thumb-underlay::after{background-color:#9e9e9e}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__thumb-underlay:hover::before{opacity:.08}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__thumb-underlay:not(.mdc-ripple-upgraded):focus::before,.mdc-switch:not(.mdc-switch--checked) .mdc-switch__thumb-underlay.mdc-ripple-upgraded--background-focused::before{transition-duration:75ms;opacity:.24}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__thumb-underlay:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__thumb-underlay:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:.32}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__thumb-underlay.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.32}.mdc-switch__native-control{left:0;right:initial;position:absolute;top:0;width:68px;height:48px;margin:0;opacity:0;cursor:pointer;pointer-events:auto}[dir=rtl] .mdc-switch__native-control,.mdc-switch__native-control[dir=rtl]{left:initial;right:0}.mdc-switch__track{box-sizing:border-box;width:32px;height:14px;transition:opacity 90ms cubic-bezier(0.4, 0, 0.2, 1),background-color 90ms cubic-bezier(0.4, 0, 0.2, 1),border-color 90ms cubic-bezier(0.4, 0, 0.2, 1);border:1px solid;border-radius:7px;opacity:.38}.mdc-switch__thumb-underlay{left:-18px;right:initial;--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity;display:flex;position:absolute;top:-17px;align-items:center;justify-content:center;width:48px;height:48px;transform:translateX(0);transition:transform 90ms cubic-bezier(0.4, 0, 0.2, 1),background-color 90ms cubic-bezier(0.4, 0, 0.2, 1),border-color 90ms cubic-bezier(0.4, 0, 0.2, 1)}[dir=rtl] .mdc-switch__thumb-underlay,.mdc-switch__thumb-underlay[dir=rtl]{left:initial;right:-18px}.mdc-switch__thumb-underlay::before,.mdc-switch__thumb-underlay::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-switch__thumb-underlay::before{transition:opacity 15ms linear;z-index:1}.mdc-switch__thumb-underlay.mdc-ripple-upgraded::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-switch__thumb-underlay.mdc-ripple-upgraded::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-switch__thumb-underlay.mdc-ripple-upgraded--unbounded::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-switch__thumb-underlay.mdc-ripple-upgraded--foreground-activation::after{animation:225ms mdc-ripple-fg-radius-in forwards,75ms mdc-ripple-fg-opacity-in forwards}.mdc-switch__thumb-underlay.mdc-ripple-upgraded--foreground-deactivation::after{animation:150ms mdc-ripple-fg-opacity-out;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-switch__thumb-underlay::before,.mdc-switch__thumb-underlay::after{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}.mdc-switch__thumb-underlay.mdc-ripple-upgraded::before,.mdc-switch__thumb-underlay.mdc-ripple-upgraded::after{top:var(--mdc-ripple-top, calc(50% - 50%));left:var(--mdc-ripple-left, calc(50% - 50%));width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-switch__thumb-underlay.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-switch__thumb-underlay::before,.mdc-switch__thumb-underlay::after{background-color:#018786}@supports not (-ms-ime-align: auto){.mdc-switch__thumb-underlay::before,.mdc-switch__thumb-underlay::after{background-color:var(--mdc-theme-secondary, #018786)}}.mdc-switch__thumb-underlay:hover::before{opacity:.04}.mdc-switch__thumb-underlay:not(.mdc-ripple-upgraded):focus::before,.mdc-switch__thumb-underlay.mdc-ripple-upgraded--background-focused::before{transition-duration:75ms;opacity:.12}.mdc-switch__thumb-underlay:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-switch__thumb-underlay:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:.16}.mdc-switch__thumb-underlay.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.16}.mdc-switch__thumb{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 1px 5px 0px rgba(0,0,0,.12);box-sizing:border-box;width:20px;height:20px;border:10px solid;border-radius:50%;pointer-events:none;z-index:1}.mdc-switch--checked .mdc-switch__track{opacity:.54}.mdc-switch--checked .mdc-switch__thumb-underlay{transform:translateX(20px)}[dir=rtl] .mdc-switch--checked .mdc-switch__thumb-underlay,.mdc-switch--checked .mdc-switch__thumb-underlay[dir=rtl]{transform:translateX(-20px)}.mdc-switch--checked .mdc-switch__native-control{transform:translateX(-20px)}[dir=rtl] .mdc-switch--checked .mdc-switch__native-control,.mdc-switch--checked .mdc-switch__native-control[dir=rtl]{transform:translateX(20px)}.mdc-switch--disabled{opacity:.38;pointer-events:none}.mdc-switch--disabled .mdc-switch__thumb{border-width:1px}.mdc-switch--disabled .mdc-switch__native-control{cursor:default;pointer-events:none}:host{outline:none}</style>`;_exports.style$4=style$4;_exports.$mwcSwitchCss={style:style$4};class MDCNotchedOutlineAdapter{getWidth(){}getHeight(){}addClass(){}removeClass(){}setOutlinePathAttr(){}getIdleOutlineStyleValue(){}}_exports.$adapterDefault$2=MDCNotchedOutlineAdapter;_exports.$adapter$2={default:MDCNotchedOutlineAdapter};const strings$2={PATH_SELECTOR:".mdc-notched-outline__path",IDLE_OUTLINE_SELECTOR:".mdc-notched-outline__idle"};_exports.strings=strings$2;const cssClasses$4={OUTLINE_NOTCHED:"mdc-notched-outline--notched"};_exports.cssClasses$2=cssClasses$4;const numbers$1={NOTCH_GUTTER_SIZE:4,MIN_LEADING_STROKE_EDGE_POSITION:12};_exports.numbers=numbers$1;_exports.$constants$2={cssClasses:cssClasses$4,strings:strings$2,numbers:numbers$1};class MDCFoundation$3{static get cssClasses(){return{}}static get strings(){return{}}static get numbers(){return{}}static get defaultAdapter(){return{}}constructor(adapter={}){this.adapter_=adapter}init(){}destroy(){}}_exports.$foundationDefault$6=MDCFoundation$3;_exports.$foundation$6={default:MDCFoundation$3};class MDCNotchedOutlineFoundation extends MDCFoundation$3{static get strings(){return strings$2}static get cssClasses(){return cssClasses$4}static get numbers(){return numbers$1}static get defaultAdapter(){return{getWidth:()=>{},getHeight:()=>{},addClass:()=>{},removeClass:()=>{},setOutlinePathAttr:()=>{},getIdleOutlineStyleValue:()=>{}}}constructor(adapter){super(Object.assign(MDCNotchedOutlineFoundation.defaultAdapter,adapter))}notch(notchWidth,isRtl=!1){const{OUTLINE_NOTCHED}=MDCNotchedOutlineFoundation.cssClasses;this.adapter_.addClass(OUTLINE_NOTCHED);this.updateSvgPath_(notchWidth,isRtl)}closeNotch(){const{OUTLINE_NOTCHED}=MDCNotchedOutlineFoundation.cssClasses;this.adapter_.removeClass(OUTLINE_NOTCHED)}updateSvgPath_(notchWidth,isRtl){const radiusStyleValue=this.adapter_.getIdleOutlineStyleValue("border-radius")||this.adapter_.getIdleOutlineStyleValue("border-top-left-radius"),radius=parseFloat(radiusStyleValue),width=this.adapter_.getWidth(),height=this.adapter_.getHeight(),cornerWidth=radius+1.2,leadingStrokeLength=_Mathmax(0,numbers$1.MIN_LEADING_STROKE_EDGE_POSITION-radius-1.2);let paddedNotchWidth=0;if(0<notchWidth){paddedNotchWidth=notchWidth+2*numbers$1.NOTCH_GUTTER_SIZE}const pathMiddle="a"+radius+","+radius+" 0 0 1 "+radius+","+radius+"v"+(height-2*cornerWidth)+"a"+radius+","+radius+" 0 0 1 "+-radius+","+radius+"h"+(-width+2*cornerWidth)+"a"+radius+","+radius+" 0 0 1 "+-radius+","+-radius+"v"+(-height+2*cornerWidth)+"a"+radius+","+radius+" 0 0 1 "+radius+","+-radius;let path;if(!isRtl){path="M"+(cornerWidth+leadingStrokeLength+paddedNotchWidth)+","+1+"h"+(width-2*cornerWidth-paddedNotchWidth-leadingStrokeLength)+pathMiddle+"h"+leadingStrokeLength}else{path="M"+(width-cornerWidth-leadingStrokeLength)+","+1+"h"+leadingStrokeLength+pathMiddle+"h"+(width-2*cornerWidth-paddedNotchWidth-leadingStrokeLength)}this.adapter_.setOutlinePathAttr(path)}}_exports.MDCNotchedOutlineFoundation=_exports.$foundationDefault$5=MDCNotchedOutlineFoundation;_exports.$foundation$5={default:MDCNotchedOutlineFoundation};class MDCComponent$3{static attachTo(root){return new MDCComponent$3(root,new MDCFoundation$3())}constructor(root,foundation=void 0,...args){this.root_=root;this.initialize(...args);this.foundation_=foundation===void 0?this.getDefaultFoundation():foundation;this.foundation_.init();this.initialSyncWithDOM()}initialize(){}getDefaultFoundation(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured "+"foundation class")}initialSyncWithDOM(){}destroy(){this.foundation_.destroy()}listen(evtType,handler){this.root_.addEventListener(evtType,handler)}unlisten(evtType,handler){this.root_.removeEventListener(evtType,handler)}emit(evtType,evtData,shouldBubble=!1){let evt;if("function"===typeof CustomEvent){evt=new CustomEvent(evtType,{detail:evtData,bubbles:shouldBubble})}else{evt=document.createEvent("CustomEvent");evt.initCustomEvent(evtType,shouldBubble,!1,evtData)}this.root_.dispatchEvent(evt)}}_exports.$componentDefault$3=MDCComponent$3;_exports.$component$3={default:MDCComponent$3};class MDCNotchedOutline extends MDCComponent$3{static attachTo(root){return new MDCNotchedOutline(root)}notch(notchWidth,isRtl){this.foundation_.notch(notchWidth,isRtl)}closeNotch(){this.foundation_.closeNotch()}getDefaultFoundation(){return new MDCNotchedOutlineFoundation({getWidth:()=>this.root_.offsetWidth,getHeight:()=>this.root_.offsetHeight,addClass:className=>this.root_.classList.add(className),removeClass:className=>this.root_.classList.remove(className),setOutlinePathAttr:value=>{const path=this.root_.querySelector(strings$2.PATH_SELECTOR);path.setAttribute("d",value)},getIdleOutlineStyleValue:propertyName=>{const idleOutlineElement=this.root_.parentNode.querySelector(strings$2.IDLE_OUTLINE_SELECTOR);return window.getComputedStyle(idleOutlineElement).getPropertyValue(propertyName)}})}}_exports.MDCNotchedOutline=MDCNotchedOutline;_exports.$index$4={MDCNotchedOutline:MDCNotchedOutline,MDCNotchedOutlineFoundation:MDCNotchedOutlineFoundation};class MDCSwitchAdapter{addClass(){}removeClass(){}setNativeControlChecked(){}setNativeControlDisabled(){}}_exports.$adapterDefault$5=MDCSwitchAdapter;_exports.$adapter$5={default:MDCSwitchAdapter};const cssClasses$5={CHECKED:"mdc-switch--checked",DISABLED:"mdc-switch--disabled"};_exports.cssClasses$5=cssClasses$5;const strings$3={NATIVE_CONTROL_SELECTOR:".mdc-switch__native-control",RIPPLE_SURFACE_SELECTOR:".mdc-switch__thumb-underlay"};_exports.strings$3=strings$3;_exports.$constants$5={cssClasses:cssClasses$5,strings:strings$3};class MDCSwitchFoundation extends MDCFoundation{static get strings(){return strings$3}static get cssClasses(){return cssClasses$5}static get defaultAdapter(){return{addClass:()=>{},removeClass:()=>{},setNativeControlChecked:()=>{},setNativeControlDisabled:()=>{}}}constructor(adapter){super(Object.assign(MDCSwitchFoundation.defaultAdapter,adapter))}setChecked(checked){this.adapter_.setNativeControlChecked(checked);this.updateCheckedStyling_(checked)}setDisabled(disabled){this.adapter_.setNativeControlDisabled(disabled);if(disabled){this.adapter_.addClass(cssClasses$5.DISABLED)}else{this.adapter_.removeClass(cssClasses$5.DISABLED)}}handleChange(evt){this.updateCheckedStyling_(evt.target.checked)}updateCheckedStyling_(checked){if(checked){this.adapter_.addClass(cssClasses$5.CHECKED)}else{this.adapter_.removeClass(cssClasses$5.CHECKED)}}}_exports.$foundationDefault$9=MDCSwitchFoundation;_exports.$foundation$9={default:MDCSwitchFoundation};class MDCFoundation$4{static get cssClasses(){return{}}static get strings(){return{}}static get numbers(){return{}}static get defaultAdapter(){return{}}constructor(adapter={}){this.adapter_=adapter}init(){}destroy(){}}_exports.$foundationDefault$13=MDCFoundation$4;_exports.$foundation$13={default:MDCFoundation$4};class MDCTextFieldHelperTextAdapter{addClass(){}removeClass(){}hasClass(){}setAttr(){}removeAttr(){}setContent(){}}_exports.$adapterDefault$6=MDCTextFieldHelperTextAdapter;_exports.$adapter$7={default:MDCTextFieldHelperTextAdapter};const strings$4={ARIA_HIDDEN:"aria-hidden",ROLE:"role"};_exports.strings$5=strings$4;const cssClasses$6={HELPER_TEXT_PERSISTENT:"mdc-text-field-helper-text--persistent",HELPER_TEXT_VALIDATION_MSG:"mdc-text-field-helper-text--validation-msg"};_exports.cssClasses$7=cssClasses$6;_exports.$constants$7={strings:strings$4,cssClasses:cssClasses$6};class MDCTextFieldHelperTextFoundation extends MDCFoundation$4{static get cssClasses(){return cssClasses$6}static get strings(){return strings$4}static get defaultAdapter(){return{addClass:()=>{},removeClass:()=>{},hasClass:()=>{},setAttr:()=>{},removeAttr:()=>{},setContent:()=>{}}}constructor(adapter){super(Object.assign(MDCTextFieldHelperTextFoundation.defaultAdapter,adapter))}setContent(content){this.adapter_.setContent(content)}setPersistent(isPersistent){if(isPersistent){this.adapter_.addClass(cssClasses$6.HELPER_TEXT_PERSISTENT)}else{this.adapter_.removeClass(cssClasses$6.HELPER_TEXT_PERSISTENT)}}setValidation(isValidation){if(isValidation){this.adapter_.addClass(cssClasses$6.HELPER_TEXT_VALIDATION_MSG)}else{this.adapter_.removeClass(cssClasses$6.HELPER_TEXT_VALIDATION_MSG)}}showToScreenReader(){this.adapter_.removeAttr(strings$4.ARIA_HIDDEN)}setValidity(inputIsValid){const helperTextIsPersistent=this.adapter_.hasClass(cssClasses$6.HELPER_TEXT_PERSISTENT),helperTextIsValidationMsg=this.adapter_.hasClass(cssClasses$6.HELPER_TEXT_VALIDATION_MSG),validationMsgNeedsDisplay=helperTextIsValidationMsg&&!inputIsValid;if(validationMsgNeedsDisplay){this.adapter_.setAttr(strings$4.ROLE,"alert")}else{this.adapter_.removeAttr(strings$4.ROLE)}if(!helperTextIsPersistent&&!validationMsgNeedsDisplay){this.hide_()}}hide_(){this.adapter_.setAttr(strings$4.ARIA_HIDDEN,"true")}}_exports.MDCTextFieldHelperTextFoundation$1=_exports.MDCTextFieldHelperTextFoundation=_exports.$foundationDefault$11=MDCTextFieldHelperTextFoundation;_exports.$foundation$11={default:MDCTextFieldHelperTextFoundation};class MDCTextFieldIconAdapter{getAttr(){}setAttr(){}removeAttr(){}setContent(){}registerInteractionHandler(){}deregisterInteractionHandler(){}notifyIconAction(){}}_exports.$adapterDefault$7=MDCTextFieldIconAdapter;_exports.$adapter$8={default:MDCTextFieldIconAdapter};const strings$5={ICON_EVENT:"MDCTextField:icon",ICON_ROLE:"button"};_exports.strings$6=strings$5;_exports.$constants$8={strings:strings$5};class MDCTextFieldIconFoundation extends MDCFoundation$4{static get strings(){return strings$5}static get defaultAdapter(){return{getAttr:()=>{},setAttr:()=>{},removeAttr:()=>{},setContent:()=>{},registerInteractionHandler:()=>{},deregisterInteractionHandler:()=>{},notifyIconAction:()=>{}}}constructor(adapter){super(Object.assign(MDCTextFieldIconFoundation.defaultAdapter,adapter));this.savedTabIndex_=null;this.interactionHandler_=evt=>this.handleInteraction(evt)}init(){this.savedTabIndex_=this.adapter_.getAttr("tabindex");["click","keydown"].forEach(evtType=>{this.adapter_.registerInteractionHandler(evtType,this.interactionHandler_)})}destroy(){["click","keydown"].forEach(evtType=>{this.adapter_.deregisterInteractionHandler(evtType,this.interactionHandler_)})}setDisabled(disabled){if(!this.savedTabIndex_){return}if(disabled){this.adapter_.setAttr("tabindex","-1");this.adapter_.removeAttr("role")}else{this.adapter_.setAttr("tabindex",this.savedTabIndex_);this.adapter_.setAttr("role",strings$5.ICON_ROLE)}}setAriaLabel(label){this.adapter_.setAttr("aria-label",label)}setContent(content){this.adapter_.setContent(content)}handleInteraction(evt){if("click"===evt.type||"Enter"===evt.key||13===evt.keyCode){this.adapter_.notifyIconAction()}}}_exports.MDCTextFieldIconFoundation$1=_exports.MDCTextFieldIconFoundation=_exports.$foundationDefault$12=MDCTextFieldIconFoundation;_exports.$foundation$12={default:MDCTextFieldIconFoundation};let NativeInputType;_exports.NativeInputType=NativeInputType;let FoundationMapType;_exports.FoundationMapType=FoundationMapType;class MDCTextFieldAdapter{addClass(){}removeClass(){}hasClass(){}registerTextFieldInteractionHandler(){}deregisterTextFieldInteractionHandler(){}registerInputInteractionHandler(){}deregisterInputInteractionHandler(){}registerValidationAttributeChangeHandler(){}deregisterValidationAttributeChangeHandler(){}getNativeInput(){}isFocused(){}isRtl(){}activateLineRipple(){}deactivateLineRipple(){}setLineRippleTransformOrigin(){}shakeLabel(){}floatLabel(){}hasLabel(){}getLabelWidth(){}hasOutline(){}notchOutline(){}closeOutline(){}}_exports.MDCTextFieldAdapter=MDCTextFieldAdapter;_exports.$adapter$6={MDCTextFieldAdapter:MDCTextFieldAdapter,NativeInputType:NativeInputType,FoundationMapType:FoundationMapType};const strings$6={ARIA_CONTROLS:"aria-controls",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",ICON_SELECTOR:".mdc-text-field__icon",OUTLINE_SELECTOR:".mdc-notched-outline",LINE_RIPPLE_SELECTOR:".mdc-line-ripple"};_exports.strings$4=strings$6;const cssClasses$7={ROOT:"mdc-text-field",DISABLED:"mdc-text-field--disabled",DENSE:"mdc-text-field--dense",FOCUSED:"mdc-text-field--focused",INVALID:"mdc-text-field--invalid",TEXTAREA:"mdc-text-field--textarea",OUTLINED:"mdc-text-field--outlined",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon"};_exports.cssClasses$6=cssClasses$7;const numbers$2={LABEL_SCALE:.75,DENSE_LABEL_SCALE:.923};_exports.numbers$2=numbers$2;const VALIDATION_ATTR_WHITELIST=["pattern","min","max","required","step","minlength","maxlength"];_exports.VALIDATION_ATTR_WHITELIST=VALIDATION_ATTR_WHITELIST;const ALWAYS_FLOAT_TYPES=["color","date","datetime-local","month","range","time","week"];_exports.ALWAYS_FLOAT_TYPES=ALWAYS_FLOAT_TYPES;_exports.$constants$6={cssClasses:cssClasses$7,strings:strings$6,numbers:numbers$2,VALIDATION_ATTR_WHITELIST:VALIDATION_ATTR_WHITELIST,ALWAYS_FLOAT_TYPES:ALWAYS_FLOAT_TYPES};class MDCTextFieldFoundation extends MDCFoundation$4{static get cssClasses(){return cssClasses$7}static get strings(){return strings$6}static get numbers(){return numbers$2}get shouldShake(){return!this.isValid()&&!this.isFocused_&&!!this.getValue()}get shouldAlwaysFloat_(){const type=this.getNativeInput_().type;return 0<=ALWAYS_FLOAT_TYPES.indexOf(type)}get shouldFloat(){return this.shouldAlwaysFloat_||this.isFocused_||!!this.getValue()||this.isBadInput_()}static get defaultAdapter(){return{addClass:()=>{},removeClass:()=>{},hasClass:()=>{},registerTextFieldInteractionHandler:()=>{},deregisterTextFieldInteractionHandler:()=>{},registerInputInteractionHandler:()=>{},deregisterInputInteractionHandler:()=>{},registerValidationAttributeChangeHandler:()=>{},deregisterValidationAttributeChangeHandler:()=>{},getNativeInput:()=>{},isFocused:()=>{},isRtl:()=>{},activateLineRipple:()=>{},deactivateLineRipple:()=>{},setLineRippleTransformOrigin:()=>{},shakeLabel:()=>{},floatLabel:()=>{},hasLabel:()=>{},getLabelWidth:()=>{},hasOutline:()=>{},notchOutline:()=>{},closeOutline:()=>{}}}constructor(adapter,foundationMap={}){super(Object.assign(MDCTextFieldFoundation.defaultAdapter,adapter));this.helperText_=foundationMap.helperText;this.leadingIcon_=foundationMap.leadingIcon;this.trailingIcon_=foundationMap.trailingIcon;this.isFocused_=!1;this.receivedUserInput_=!1;this.useCustomValidityChecking_=!1;this.isValid_=!0;this.useNativeValidation_=!0;this.inputFocusHandler_=()=>this.activateFocus();this.inputBlurHandler_=()=>this.deactivateFocus();this.inputInputHandler_=()=>this.autoCompleteFocus();this.setPointerXOffset_=evt=>this.setTransformOrigin(evt);this.textFieldInteractionHandler_=()=>this.handleTextFieldInteraction();this.validationAttributeChangeHandler_=attributesList=>this.handleValidationAttributeChange(attributesList);this.validationObserver_}init(){if(this.adapter_.isFocused()){this.inputFocusHandler_()}else if(this.adapter_.hasLabel()&&this.shouldFloat){this.notchOutline(!0);this.adapter_.floatLabel(!0)}this.adapter_.registerInputInteractionHandler("focus",this.inputFocusHandler_);this.adapter_.registerInputInteractionHandler("blur",this.inputBlurHandler_);this.adapter_.registerInputInteractionHandler("input",this.inputInputHandler_);["mousedown","touchstart"].forEach(evtType=>{this.adapter_.registerInputInteractionHandler(evtType,this.setPointerXOffset_)});["click","keydown"].forEach(evtType=>{this.adapter_.registerTextFieldInteractionHandler(evtType,this.textFieldInteractionHandler_)});this.validationObserver_=this.adapter_.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler_)}destroy(){this.adapter_.deregisterInputInteractionHandler("focus",this.inputFocusHandler_);this.adapter_.deregisterInputInteractionHandler("blur",this.inputBlurHandler_);this.adapter_.deregisterInputInteractionHandler("input",this.inputInputHandler_);["mousedown","touchstart"].forEach(evtType=>{this.adapter_.deregisterInputInteractionHandler(evtType,this.setPointerXOffset_)});["click","keydown"].forEach(evtType=>{this.adapter_.deregisterTextFieldInteractionHandler(evtType,this.textFieldInteractionHandler_)});this.adapter_.deregisterValidationAttributeChangeHandler(this.validationObserver_)}handleTextFieldInteraction(){if(this.adapter_.getNativeInput().disabled){return}this.receivedUserInput_=!0}handleValidationAttributeChange(attributesList){attributesList.some(attributeName=>{if(-1<VALIDATION_ATTR_WHITELIST.indexOf(attributeName)){this.styleValidity_(!0);return!0}})}notchOutline(openNotch){if(!this.adapter_.hasOutline()){return}if(openNotch){const isDense=this.adapter_.hasClass(cssClasses$7.DENSE),labelScale=isDense?numbers$2.DENSE_LABEL_SCALE:numbers$2.LABEL_SCALE,labelWidth=this.adapter_.getLabelWidth()*labelScale,isRtl=this.adapter_.isRtl();this.adapter_.notchOutline(labelWidth,isRtl)}else{this.adapter_.closeOutline()}}activateFocus(){this.isFocused_=!0;this.styleFocused_(this.isFocused_);this.adapter_.activateLineRipple();if(this.adapter_.hasLabel()){this.notchOutline(this.shouldFloat);this.adapter_.floatLabel(this.shouldFloat);this.adapter_.shakeLabel(this.shouldShake)}if(this.helperText_){this.helperText_.showToScreenReader()}}setTransformOrigin(evt){const targetClientRect=evt.target.getBoundingClientRect(),evtCoords={x:evt.clientX,y:evt.clientY},normalizedX=evtCoords.x-targetClientRect.left;this.adapter_.setLineRippleTransformOrigin(normalizedX)}autoCompleteFocus(){if(!this.receivedUserInput_){this.activateFocus()}}deactivateFocus(){this.isFocused_=!1;this.adapter_.deactivateLineRipple();const isValid=this.isValid();this.styleValidity_(isValid);this.styleFocused_(this.isFocused_);if(this.adapter_.hasLabel()){this.notchOutline(this.shouldFloat);this.adapter_.floatLabel(this.shouldFloat);this.adapter_.shakeLabel(this.shouldShake)}if(!this.shouldFloat){this.receivedUserInput_=!1}}getValue(){return this.getNativeInput_().value}setValue(value){this.getNativeInput_().value=value;const isValid=this.isValid();this.styleValidity_(isValid);if(this.adapter_.hasLabel()){this.notchOutline(this.shouldFloat);this.adapter_.floatLabel(this.shouldFloat);this.adapter_.shakeLabel(this.shouldShake)}}isValid(){return this.useNativeValidation_?this.isNativeInputValid_():this.isValid_}setValid(isValid){this.isValid_=isValid;this.styleValidity_(isValid);const shouldShake=!isValid&&!this.isFocused_;if(this.adapter_.hasLabel()){this.adapter_.shakeLabel(shouldShake)}}setUseNativeValidation(useNativeValidation){this.useNativeValidation_=useNativeValidation}isDisabled(){return this.getNativeInput_().disabled}setDisabled(disabled){this.getNativeInput_().disabled=disabled;this.styleDisabled_(disabled)}setHelperTextContent(content){if(this.helperText_){this.helperText_.setContent(content)}}setLeadingIconAriaLabel(label){if(this.leadingIcon_){this.leadingIcon_.setAriaLabel(label)}}setLeadingIconContent(content){if(this.leadingIcon_){this.leadingIcon_.setContent(content)}}setTrailingIconAriaLabel(label){if(this.trailingIcon_){this.trailingIcon_.setAriaLabel(label)}}setTrailingIconContent(content){if(this.trailingIcon_){this.trailingIcon_.setContent(content)}}isBadInput_(){return this.getNativeInput_().validity.badInput}isNativeInputValid_(){return this.getNativeInput_().validity.valid}styleValidity_(isValid){const{INVALID}=MDCTextFieldFoundation.cssClasses;if(isValid){this.adapter_.removeClass(INVALID)}else{this.adapter_.addClass(INVALID)}if(this.helperText_){this.helperText_.setValidity(isValid)}}styleFocused_(isFocused){const{FOCUSED}=MDCTextFieldFoundation.cssClasses;if(isFocused){this.adapter_.addClass(FOCUSED)}else{this.adapter_.removeClass(FOCUSED)}}styleDisabled_(isDisabled){const{DISABLED,INVALID}=MDCTextFieldFoundation.cssClasses;if(isDisabled){this.adapter_.addClass(DISABLED);this.adapter_.removeClass(INVALID)}else{this.adapter_.removeClass(DISABLED)}if(this.leadingIcon_){this.leadingIcon_.setDisabled(isDisabled)}if(this.trailingIcon_){this.trailingIcon_.setDisabled(isDisabled)}}getNativeInput_(){return this.adapter_.getNativeInput()||{value:"",disabled:!1,validity:{badInput:!1,valid:!0}}}}_exports.MDCTextFieldFoundation=_exports.$foundationDefault$10=MDCTextFieldFoundation;_exports.$foundation$10={default:MDCTextFieldFoundation};class MDCComponent$4{static attachTo(root){return new MDCComponent$4(root,new MDCFoundation$4())}constructor(root,foundation=void 0,...args){this.root_=root;this.initialize(...args);this.foundation_=foundation===void 0?this.getDefaultFoundation():foundation;this.foundation_.init();this.initialSyncWithDOM()}initialize(){}getDefaultFoundation(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured "+"foundation class")}initialSyncWithDOM(){}destroy(){this.foundation_.destroy()}listen(evtType,handler){this.root_.addEventListener(evtType,handler)}unlisten(evtType,handler){this.root_.removeEventListener(evtType,handler)}emit(evtType,evtData,shouldBubble=!1){let evt;if("function"===typeof CustomEvent){evt=new CustomEvent(evtType,{detail:evtData,bubbles:shouldBubble})}else{evt=document.createEvent("CustomEvent");evt.initCustomEvent(evtType,shouldBubble,!1,evtData)}this.root_.dispatchEvent(evt)}}_exports.$componentDefault$4=MDCComponent$4;_exports.$component$4={default:MDCComponent$4};class MDCTextFieldHelperText extends MDCComponent$4{static attachTo(root){return new MDCTextFieldHelperText(root)}get foundation(){return this.foundation_}getDefaultFoundation(){return new MDCTextFieldHelperTextFoundation(Object.assign({addClass:className=>this.root_.classList.add(className),removeClass:className=>this.root_.classList.remove(className),hasClass:className=>this.root_.classList.contains(className),setAttr:(attr,value)=>this.root_.setAttribute(attr,value),removeAttr:attr=>this.root_.removeAttribute(attr),setContent:content=>{this.root_.textContent=content}}))}}_exports.MDCTextFieldHelperText$1=_exports.MDCTextFieldHelperText=MDCTextFieldHelperText;_exports.$index$7={MDCTextFieldHelperText:MDCTextFieldHelperText,MDCTextFieldHelperTextFoundation:MDCTextFieldHelperTextFoundation};class MDCTextFieldIcon extends MDCComponent$4{static attachTo(root){return new MDCTextFieldIcon(root)}get foundation(){return this.foundation_}getDefaultFoundation(){return new MDCTextFieldIconFoundation(Object.assign({getAttr:attr=>this.root_.getAttribute(attr),setAttr:(attr,value)=>this.root_.setAttribute(attr,value),removeAttr:attr=>this.root_.removeAttribute(attr),setContent:content=>{this.root_.textContent=content},registerInteractionHandler:(evtType,handler)=>this.root_.addEventListener(evtType,handler),deregisterInteractionHandler:(evtType,handler)=>this.root_.removeEventListener(evtType,handler),notifyIconAction:()=>this.emit(MDCTextFieldIconFoundation.strings.ICON_EVENT,{},!0)}))}}_exports.MDCTextFieldIcon$1=_exports.MDCTextFieldIcon=MDCTextFieldIcon;_exports.$index$8={MDCTextFieldIcon:MDCTextFieldIcon,MDCTextFieldIconFoundation:MDCTextFieldIconFoundation};class MDCRippleAdapter$1{browserSupportsCssVars(){}isUnbounded(){}isSurfaceActive(){}isSurfaceDisabled(){}addClass(){}removeClass(){}containsEventTarget(){}registerInteractionHandler(){}deregisterInteractionHandler(){}registerDocumentInteractionHandler(){}deregisterDocumentInteractionHandler(){}registerResizeHandler(){}deregisterResizeHandler(){}updateCssVariable(){}computeBoundingRect(){}getWindowPageOffset(){}}_exports.$adapterDefault$8=MDCRippleAdapter$1;_exports.$adapter$9={default:MDCRippleAdapter$1};const cssClasses$8={ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded",BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation"};_exports.cssClasses$8=cssClasses$8;const strings$7={VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end"};_exports.strings$7=strings$7;const numbers$3={PADDING:10,INITIAL_ORIGIN_SCALE:.6,DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,TAP_DELAY_MS:300};_exports.numbers$3=numbers$3;_exports.$constants$9={cssClasses:cssClasses$8,strings:strings$7,numbers:numbers$3};let supportsCssVariables_$1,supportsPassive_$1;function detectEdgePseudoVarBug$1(windowObj){const document=windowObj.document,node=document.createElement("div");node.className="mdc-ripple-surface--test-edge-var-bug";document.body.appendChild(node);const computedStyle=windowObj.getComputedStyle(node),hasPseudoVarBug=null!==computedStyle&&"solid"===computedStyle.borderTopStyle;node.remove();return hasPseudoVarBug}function supportsCssVariables$2(windowObj,forceRefresh=!1){let supportsCssVariables=supportsCssVariables_$1;if("boolean"===typeof supportsCssVariables_$1&&!forceRefresh){return supportsCssVariables}const supportsFunctionPresent=windowObj.CSS&&"function"===typeof windowObj.CSS.supports;if(!supportsFunctionPresent){return}const explicitlySupportsCssVars=windowObj.CSS.supports("--css-vars","yes"),weAreFeatureDetectingSafari10plus=windowObj.CSS.supports("(--css-vars: yes)")&&windowObj.CSS.supports("color","#00000000");if(explicitlySupportsCssVars||weAreFeatureDetectingSafari10plus){supportsCssVariables=!detectEdgePseudoVarBug$1(windowObj)}else{supportsCssVariables=!1}if(!forceRefresh){supportsCssVariables_$1=supportsCssVariables}return supportsCssVariables}function applyPassive$1(globalObj=window,forceRefresh=!1){if(supportsPassive_$1===void 0||forceRefresh){let isSupported=!1;try{globalObj.document.addEventListener("test",null,{get passive(){isSupported=!0;return isSupported}})}catch(e){}supportsPassive_$1=isSupported}return supportsPassive_$1?{passive:!0}:!1}function getMatchesProperty$1(HTMLElementPrototype){const matchesMethods=["matches","webkitMatchesSelector","msMatchesSelector"];let method="matches";for(let i=0;i<matchesMethods.length;i++){const matchesMethod=matchesMethods[i];if(matchesMethod in HTMLElementPrototype){method=matchesMethod;break}}return method}function getNormalizedEventCoords$1(ev,pageOffset,clientRect){const{x,y}=pageOffset,documentX=x+clientRect.left,documentY=y+clientRect.top;let normalizedX,normalizedY;if("touchstart"===ev.type){ev=ev;normalizedX=ev.changedTouches[0].pageX-documentX;normalizedY=ev.changedTouches[0].pageY-documentY}else{ev=ev;normalizedX=ev.pageX-documentX;normalizedY=ev.pageY-documentY}return{x:normalizedX,y:normalizedY}}var util$1={supportsCssVariables:supportsCssVariables$2,applyPassive:applyPassive$1,getMatchesProperty:getMatchesProperty$1,getNormalizedEventCoords:getNormalizedEventCoords$1};_exports.util$1=_exports.$util$1=util$1;const ACTIVATION_EVENT_TYPES$1=["touchstart","pointerdown","mousedown","keydown"],POINTER_DEACTIVATION_EVENT_TYPES$1=["touchend","pointerup","mouseup","contextmenu"];let activatedTargets$1=[];class MDCRippleFoundation$1 extends MDCFoundation$4{static get cssClasses(){return cssClasses$8}static get strings(){return strings$7}static get numbers(){return numbers$3}static get defaultAdapter(){return{browserSupportsCssVars:()=>{},isUnbounded:()=>{},isSurfaceActive:()=>{},isSurfaceDisabled:()=>{},addClass:()=>{},removeClass:()=>{},containsEventTarget:()=>{},registerInteractionHandler:()=>{},deregisterInteractionHandler:()=>{},registerDocumentInteractionHandler:()=>{},deregisterDocumentInteractionHandler:()=>{},registerResizeHandler:()=>{},deregisterResizeHandler:()=>{},updateCssVariable:()=>{},computeBoundingRect:()=>{},getWindowPageOffset:()=>{}}}constructor(adapter){super(Object.assign(MDCRippleFoundation$1.defaultAdapter,adapter));this.layoutFrame_=0;this.frame_={width:0,height:0};this.activationState_=this.defaultActivationState_();this.initialSize_=0;this.maxRadius_=0;this.activateHandler_=e=>this.activate_(e);this.deactivateHandler_=()=>this.deactivate_();this.focusHandler_=()=>this.handleFocus();this.blurHandler_=()=>this.handleBlur();this.resizeHandler_=()=>this.layout();this.unboundedCoords_={left:0,top:0};this.fgScale_=0;this.activationTimer_=0;this.fgDeactivationRemovalTimer_=0;this.activationAnimationHasEnded_=!1;this.activationTimerCallback_=()=>{this.activationAnimationHasEnded_=!0;this.runDeactivationUXLogicIfReady_()};this.previousActivationEvent_}supportsPressRipple_(){return this.adapter_.browserSupportsCssVars()}defaultActivationState_(){return{isActivated:!1,hasDeactivationUXRun:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1,activationEvent:void 0,isProgrammatic:!1}}init(){const supportsPressRipple=this.supportsPressRipple_();this.registerRootHandlers_(supportsPressRipple);if(supportsPressRipple){const{ROOT,UNBOUNDED}=MDCRippleFoundation$1.cssClasses;requestAnimationFrame(()=>{this.adapter_.addClass(ROOT);if(this.adapter_.isUnbounded()){this.adapter_.addClass(UNBOUNDED);this.layoutInternal_()}})}}destroy(){if(this.supportsPressRipple_()){if(this.activationTimer_){clearTimeout(this.activationTimer_);this.activationTimer_=0;this.adapter_.removeClass(MDCRippleFoundation$1.cssClasses.FG_ACTIVATION)}if(this.fgDeactivationRemovalTimer_){clearTimeout(this.fgDeactivationRemovalTimer_);this.fgDeactivationRemovalTimer_=0;this.adapter_.removeClass(MDCRippleFoundation$1.cssClasses.FG_DEACTIVATION)}const{ROOT,UNBOUNDED}=MDCRippleFoundation$1.cssClasses;requestAnimationFrame(()=>{this.adapter_.removeClass(ROOT);this.adapter_.removeClass(UNBOUNDED);this.removeCssVars_()})}this.deregisterRootHandlers_();this.deregisterDeactivationHandlers_()}registerRootHandlers_(supportsPressRipple){if(supportsPressRipple){ACTIVATION_EVENT_TYPES$1.forEach(type=>{this.adapter_.registerInteractionHandler(type,this.activateHandler_)});if(this.adapter_.isUnbounded()){this.adapter_.registerResizeHandler(this.resizeHandler_)}}this.adapter_.registerInteractionHandler("focus",this.focusHandler_);this.adapter_.registerInteractionHandler("blur",this.blurHandler_)}registerDeactivationHandlers_(e){if("keydown"===e.type){this.adapter_.registerInteractionHandler("keyup",this.deactivateHandler_)}else{POINTER_DEACTIVATION_EVENT_TYPES$1.forEach(type=>{this.adapter_.registerDocumentInteractionHandler(type,this.deactivateHandler_)})}}deregisterRootHandlers_(){ACTIVATION_EVENT_TYPES$1.forEach(type=>{this.adapter_.deregisterInteractionHandler(type,this.activateHandler_)});this.adapter_.deregisterInteractionHandler("focus",this.focusHandler_);this.adapter_.deregisterInteractionHandler("blur",this.blurHandler_);if(this.adapter_.isUnbounded()){this.adapter_.deregisterResizeHandler(this.resizeHandler_)}}deregisterDeactivationHandlers_(){this.adapter_.deregisterInteractionHandler("keyup",this.deactivateHandler_);POINTER_DEACTIVATION_EVENT_TYPES$1.forEach(type=>{this.adapter_.deregisterDocumentInteractionHandler(type,this.deactivateHandler_)})}removeCssVars_(){const{strings}=MDCRippleFoundation$1;Object.keys(strings).forEach(k=>{if(0===k.indexOf("VAR_")){this.adapter_.updateCssVariable(strings[k],null)}})}activate_(e){if(this.adapter_.isSurfaceDisabled()){return}const activationState=this.activationState_;if(activationState.isActivated){return}const previousActivationEvent=this.previousActivationEvent_,isSameInteraction=previousActivationEvent&&e!==void 0&&previousActivationEvent.type!==e.type;if(isSameInteraction){return}activationState.isActivated=!0;activationState.isProgrammatic=e===void 0;activationState.activationEvent=e;activationState.wasActivatedByPointer=activationState.isProgrammatic?!1:e!==void 0&&("mousedown"===e.type||"touchstart"===e.type||"pointerdown"===e.type);const hasActivatedChild=e!==void 0&&0<activatedTargets$1.length&&activatedTargets$1.some(target=>this.adapter_.containsEventTarget(target));if(hasActivatedChild){this.resetActivationState_();return}if(e!==void 0){activatedTargets$1.push(e.target);this.registerDeactivationHandlers_(e)}activationState.wasElementMadeActive=this.checkElementMadeActive_(e);if(activationState.wasElementMadeActive){this.animateActivation_()}requestAnimationFrame(()=>{activatedTargets$1=[];if(!activationState.wasElementMadeActive&&e!==void 0&&(" "===e.key||32===e.keyCode)){activationState.wasElementMadeActive=this.checkElementMadeActive_(e);if(activationState.wasElementMadeActive){this.animateActivation_()}}if(!activationState.wasElementMadeActive){this.activationState_=this.defaultActivationState_()}})}checkElementMadeActive_(e){return e!==void 0&&"keydown"===e.type?this.adapter_.isSurfaceActive():!0}activate(event){this.activate_(event)}animateActivation_(){const{VAR_FG_TRANSLATE_START,VAR_FG_TRANSLATE_END}=MDCRippleFoundation$1.strings,{FG_DEACTIVATION,FG_ACTIVATION}=MDCRippleFoundation$1.cssClasses,{DEACTIVATION_TIMEOUT_MS}=MDCRippleFoundation$1.numbers;this.layoutInternal_();let translateStart="",translateEnd="";if(!this.adapter_.isUnbounded()){const{startPoint,endPoint}=this.getFgTranslationCoordinates_();translateStart=`${startPoint.x}px, ${startPoint.y}px`;translateEnd=`${endPoint.x}px, ${endPoint.y}px`}this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_START,translateStart);this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_END,translateEnd);clearTimeout(this.activationTimer_);clearTimeout(this.fgDeactivationRemovalTimer_);this.rmBoundedActivationClasses_();this.adapter_.removeClass(FG_DEACTIVATION);this.adapter_.computeBoundingRect();this.adapter_.addClass(FG_ACTIVATION);this.activationTimer_=setTimeout(()=>this.activationTimerCallback_(),DEACTIVATION_TIMEOUT_MS)}getFgTranslationCoordinates_(){const{activationEvent,wasActivatedByPointer}=this.activationState_;let startPoint;if(wasActivatedByPointer){startPoint=getNormalizedEventCoords$1(activationEvent,this.adapter_.getWindowPageOffset(),this.adapter_.computeBoundingRect())}else{startPoint={x:this.frame_.width/2,y:this.frame_.height/2}}startPoint={x:startPoint.x-this.initialSize_/2,y:startPoint.y-this.initialSize_/2};const endPoint={x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2};return{startPoint,endPoint}}runDeactivationUXLogicIfReady_(){const{FG_DEACTIVATION}=MDCRippleFoundation$1.cssClasses,{hasDeactivationUXRun,isActivated}=this.activationState_;if((hasDeactivationUXRun||!isActivated)&&this.activationAnimationHasEnded_){this.rmBoundedActivationClasses_();this.adapter_.addClass(FG_DEACTIVATION);this.fgDeactivationRemovalTimer_=setTimeout(()=>{this.adapter_.removeClass(FG_DEACTIVATION)},numbers$3.FG_DEACTIVATION_MS)}}rmBoundedActivationClasses_(){const{FG_ACTIVATION}=MDCRippleFoundation$1.cssClasses;this.adapter_.removeClass(FG_ACTIVATION);this.activationAnimationHasEnded_=!1;this.adapter_.computeBoundingRect()}resetActivationState_(){this.previousActivationEvent_=this.activationState_.activationEvent;this.activationState_=this.defaultActivationState_();setTimeout(()=>this.previousActivationEvent_=void 0,MDCRippleFoundation$1.numbers.TAP_DELAY_MS)}deactivate_(){const activationState=this.activationState_;if(!activationState.isActivated){return}const state=Object.assign({},activationState);if(activationState.isProgrammatic){requestAnimationFrame(()=>this.animateDeactivation_(state));this.resetActivationState_()}else{this.deregisterDeactivationHandlers_();requestAnimationFrame(()=>{this.activationState_.hasDeactivationUXRun=!0;this.animateDeactivation_(state);this.resetActivationState_()})}}deactivate(){this.deactivate_()}animateDeactivation_({wasActivatedByPointer,wasElementMadeActive}){if(wasActivatedByPointer||wasElementMadeActive){this.runDeactivationUXLogicIfReady_()}}layout(){if(this.layoutFrame_){cancelAnimationFrame(this.layoutFrame_)}this.layoutFrame_=requestAnimationFrame(()=>{this.layoutInternal_();this.layoutFrame_=0})}layoutInternal_(){this.frame_=this.adapter_.computeBoundingRect();const maxDim=_Mathmax(this.frame_.height,this.frame_.width);this.maxRadius_=this.adapter_.isUnbounded()?maxDim:(()=>{const hypotenuse=_Mathsqrt(_Mathpow(this.frame_.width,2)+_Mathpow(this.frame_.height,2));return hypotenuse+MDCRippleFoundation$1.numbers.PADDING})();this.initialSize_=_Mathfloor(maxDim*MDCRippleFoundation$1.numbers.INITIAL_ORIGIN_SCALE);this.fgScale_=this.maxRadius_/this.initialSize_;this.updateLayoutCssVars_()}updateLayoutCssVars_(){const{VAR_FG_SIZE,VAR_LEFT,VAR_TOP,VAR_FG_SCALE}=MDCRippleFoundation$1.strings;this.adapter_.updateCssVariable(VAR_FG_SIZE,`${this.initialSize_}px`);this.adapter_.updateCssVariable(VAR_FG_SCALE,this.fgScale_);if(this.adapter_.isUnbounded()){this.unboundedCoords_={left:_Mathround(this.frame_.width/2-this.initialSize_/2),top:_Mathround(this.frame_.height/2-this.initialSize_/2)};this.adapter_.updateCssVariable(VAR_LEFT,`${this.unboundedCoords_.left}px`);this.adapter_.updateCssVariable(VAR_TOP,`${this.unboundedCoords_.top}px`)}}setUnbounded(unbounded){const{UNBOUNDED}=MDCRippleFoundation$1.cssClasses;if(unbounded){this.adapter_.addClass(UNBOUNDED)}else{this.adapter_.removeClass(UNBOUNDED)}}handleFocus(){requestAnimationFrame(()=>this.adapter_.addClass(MDCRippleFoundation$1.cssClasses.BG_FOCUSED))}handleBlur(){requestAnimationFrame(()=>this.adapter_.removeClass(MDCRippleFoundation$1.cssClasses.BG_FOCUSED))}}_exports.MDCRippleFoundation$1=_exports.$foundationDefault$14=MDCRippleFoundation$1;_exports.$foundation$14={default:MDCRippleFoundation$1};class MDCRipple$1 extends MDCComponent$4{constructor(...args){super(...args);this.disabled=!1;this.unbounded_}static attachTo(root,{isUnbounded=void 0}={}){const ripple=new MDCRipple$1(root);if(isUnbounded!==void 0){ripple.unbounded=isUnbounded}return ripple}static createAdapter(instance){const MATCHES=getMatchesProperty$1(HTMLElement.prototype);return{browserSupportsCssVars:()=>supportsCssVariables$2(window),isUnbounded:()=>instance.unbounded,isSurfaceActive:()=>instance.root_[MATCHES](":active"),isSurfaceDisabled:()=>instance.disabled,addClass:className=>instance.root_.classList.add(className),removeClass:className=>instance.root_.classList.remove(className),containsEventTarget:target=>instance.root_.contains(target),registerInteractionHandler:(evtType,handler)=>instance.root_.addEventListener(evtType,handler,applyPassive$1()),deregisterInteractionHandler:(evtType,handler)=>instance.root_.removeEventListener(evtType,handler,applyPassive$1()),registerDocumentInteractionHandler:(evtType,handler)=>document.documentElement.addEventListener(evtType,handler,applyPassive$1()),deregisterDocumentInteractionHandler:(evtType,handler)=>document.documentElement.removeEventListener(evtType,handler,applyPassive$1()),registerResizeHandler:handler=>window.addEventListener("resize",handler),deregisterResizeHandler:handler=>window.removeEventListener("resize",handler),updateCssVariable:(varName,value)=>instance.root_.style.setProperty(varName,value),computeBoundingRect:()=>instance.root_.getBoundingClientRect(),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset})}}get unbounded(){return this.unbounded_}set unbounded(unbounded){this.unbounded_=!!unbounded;this.setUnbounded_()}setUnbounded_(){this.foundation_.setUnbounded(this.unbounded_)}activate(){this.foundation_.activate()}deactivate(){this.foundation_.deactivate()}layout(){this.foundation_.layout()}getDefaultFoundation(){return new MDCRippleFoundation$1(MDCRipple$1.createAdapter(this))}initialSyncWithDOM(){this.unbounded="mdcRippleIsUnbounded"in this.root_.dataset}}_exports.MDCRipple$1=MDCRipple$1;class RippleCapableSurface$1{}_exports.RippleCapableSurface$1=RippleCapableSurface$1;RippleCapableSurface$1.prototype.root_;RippleCapableSurface$1.prototype.unbounded;RippleCapableSurface$1.prototype.disabled;_exports.$index$10={MDCRipple:MDCRipple$1,MDCRippleFoundation:MDCRippleFoundation$1,RippleCapableSurface:RippleCapableSurface$1,util:util$1};class MDCTextField extends MDCComponent$4{constructor(...args){super(...args);this.input_;this.ripple;this.lineRipple_;this.helperText_;this.leadingIcon_;this.trailingIcon_;this.label_;this.outline_}static attachTo(root){return new MDCTextField(root)}initialize(rippleFactory=(el,foundation)=>new MDCRipple$1(el,foundation),lineRippleFactory=el=>new MDCLineRipple(el),helperTextFactory=el=>new MDCTextFieldHelperText(el),iconFactory=el=>new MDCTextFieldIcon(el),labelFactory=el=>new MDCFloatingLabel(el),outlineFactory=el=>new MDCNotchedOutline(el)){this.input_=this.root_.querySelector(strings$6.INPUT_SELECTOR);const labelElement=this.root_.querySelector(strings$6.LABEL_SELECTOR);if(labelElement){this.label_=labelFactory(labelElement)}const lineRippleElement=this.root_.querySelector(strings$6.LINE_RIPPLE_SELECTOR);if(lineRippleElement){this.lineRipple_=lineRippleFactory(lineRippleElement)}const outlineElement=this.root_.querySelector(strings$6.OUTLINE_SELECTOR);if(outlineElement){this.outline_=outlineFactory(outlineElement)}if(this.input_.hasAttribute(strings$6.ARIA_CONTROLS)){const helperTextElement=document.getElementById(this.input_.getAttribute(strings$6.ARIA_CONTROLS));if(helperTextElement){this.helperText_=helperTextFactory(helperTextElement)}}const iconElements=this.root_.querySelectorAll(strings$6.ICON_SELECTOR);if(0<iconElements.length){if(1<iconElements.length){this.leadingIcon_=iconFactory(iconElements[0]);this.trailingIcon_=iconFactory(iconElements[1])}else{if(this.root_.classList.contains(cssClasses$7.WITH_LEADING_ICON)){this.leadingIcon_=iconFactory(iconElements[0])}else{this.trailingIcon_=iconFactory(iconElements[0])}}}this.ripple=null;if(!this.root_.classList.contains(cssClasses$7.TEXTAREA)&&!this.root_.classList.contains(cssClasses$7.OUTLINED)){const MATCHES=getMatchesProperty$1(HTMLElement.prototype),adapter=Object.assign(MDCRipple$1.createAdapter(this),{isSurfaceActive:()=>this.input_[MATCHES](":active"),registerInteractionHandler:(type,handler)=>this.input_.addEventListener(type,handler),deregisterInteractionHandler:(type,handler)=>this.input_.removeEventListener(type,handler)}),foundation=new MDCRippleFoundation$1(adapter);this.ripple=rippleFactory(this.root_,foundation)}}destroy(){if(this.ripple){this.ripple.destroy()}if(this.lineRipple_){this.lineRipple_.destroy()}if(this.helperText_){this.helperText_.destroy()}if(this.leadingIcon_){this.leadingIcon_.destroy()}if(this.trailingIcon_){this.trailingIcon_.destroy()}if(this.label_){this.label_.destroy()}if(this.outline_){this.outline_.destroy()}super.destroy()}initialSyncWithDom(){this.disabled=this.input_.disabled}get value(){return this.foundation_.getValue()}set value(value){this.foundation_.setValue(value)}get disabled(){return this.foundation_.isDisabled()}set disabled(disabled){this.foundation_.setDisabled(disabled)}get valid(){return this.foundation_.isValid()}set valid(valid){this.foundation_.setValid(valid)}get required(){return this.input_.required}set required(required){this.input_.required=required}get pattern(){return this.input_.pattern}set pattern(pattern){this.input_.pattern=pattern}get minLength(){return this.input_.minLength}set minLength(minLength){this.input_.minLength=minLength}get maxLength(){return this.input_.maxLength}set maxLength(maxLength){if(0>maxLength){this.input_.removeAttribute("maxLength")}else{this.input_.maxLength=maxLength}}get min(){return this.input_.min}set min(min){this.input_.min=min}get max(){return this.input_.max}set max(max){this.input_.max=max}get step(){return this.input_.step}set step(step){this.input_.step=step}set helperTextContent(content){this.foundation_.setHelperTextContent(content)}set leadingIconAriaLabel(label){this.foundation_.setLeadingIconAriaLabel(label)}set leadingIconContent(content){this.foundation_.setLeadingIconContent(content)}set trailingIconAriaLabel(label){this.foundation_.setTrailingIconAriaLabel(label)}set trailingIconContent(content){this.foundation_.setTrailingIconContent(content)}set useNativeValidation(useNativeValidation){this.foundation_.setUseNativeValidation(useNativeValidation)}layout(){const openNotch=this.foundation_.shouldFloat;this.foundation_.notchOutline(openNotch)}getDefaultFoundation(){return new MDCTextFieldFoundation(Object.assign({addClass:className=>this.root_.classList.add(className),removeClass:className=>this.root_.classList.remove(className),hasClass:className=>this.root_.classList.contains(className),registerTextFieldInteractionHandler:(evtType,handler)=>this.root_.addEventListener(evtType,handler),deregisterTextFieldInteractionHandler:(evtType,handler)=>this.root_.removeEventListener(evtType,handler),registerValidationAttributeChangeHandler:handler=>{const getAttributesList=mutationsList=>mutationsList.map(mutation=>mutation.attributeName),observer=new MutationObserver(mutationsList=>handler(getAttributesList(mutationsList))),targetNode=this.root_.querySelector(strings$6.INPUT_SELECTOR);observer.observe(targetNode,{attributes:!0});return observer},deregisterValidationAttributeChangeHandler:observer=>observer.disconnect(),isFocused:()=>{return document.activeElement===this.root_.querySelector(strings$6.INPUT_SELECTOR)},isRtl:()=>"rtl"===window.getComputedStyle(this.root_).getPropertyValue("direction")},this.getInputAdapterMethods_(),this.getLabelAdapterMethods_(),this.getLineRippleAdapterMethods_(),this.getOutlineAdapterMethods_()),this.getFoundationMap_())}getLabelAdapterMethods_(){return{shakeLabel:shouldShake=>this.label_.shake(shouldShake),floatLabel:shouldFloat=>this.label_.float(shouldFloat),hasLabel:()=>!!this.label_,getLabelWidth:()=>this.label_.getWidth()}}getLineRippleAdapterMethods_(){return{activateLineRipple:()=>{if(this.lineRipple_){this.lineRipple_.activate()}},deactivateLineRipple:()=>{if(this.lineRipple_){this.lineRipple_.deactivate()}},setLineRippleTransformOrigin:normalizedX=>{if(this.lineRipple_){this.lineRipple_.setRippleCenter(normalizedX)}}}}getOutlineAdapterMethods_(){return{notchOutline:(labelWidth,isRtl)=>this.outline_.notch(labelWidth,isRtl),closeOutline:()=>this.outline_.closeNotch(),hasOutline:()=>!!this.outline_}}getInputAdapterMethods_(){return{registerInputInteractionHandler:(evtType,handler)=>this.input_.addEventListener(evtType,handler),deregisterInputInteractionHandler:(evtType,handler)=>this.input_.removeEventListener(evtType,handler),getNativeInput:()=>this.input_}}getFoundationMap_(){return{helperText:this.helperText_?this.helperText_.foundation:void 0,leadingIcon:this.leadingIcon_?this.leadingIcon_.foundation:void 0,trailingIcon:this.trailingIcon_?this.trailingIcon_.foundation:void 0}}}_exports.MDCTextField=MDCTextField;_exports.$index$9={MDCTextField:MDCTextField,MDCTextFieldFoundation:MDCTextFieldFoundation,MDCTextFieldHelperText:MDCTextFieldHelperText,MDCTextFieldHelperTextFoundation:MDCTextFieldHelperTextFoundation,MDCTextFieldIcon:MDCTextFieldIcon,MDCTextFieldIconFoundation:MDCTextFieldIconFoundation};ace.define("ace/mode/warpscript_keywords",function(require,exports){exports.KeywordMap={"constant.language":"NULL|NaN|E|e|PI|pi|NOW|MAXLONG|MINLONG|TRUE|true|FALSE|false","keyword.control":"ASSERT|BREAK|FAIL|FOR|FOREACH|FORSTEP|IFT|IFTE|RETURN|UNTIL|WHILE","keyword.other":"bucketizer.count|bucketizer.count.exclude-nulls|bucketizer.count.include-nulls|bucketizer.count.nonnull|bucketizer.first|bucketizer.join|bucketizer.join.forbid-nulls|bucketizer.last|bucketizer.max|bucketizer.max.forbid-nulls|bucketizer.mean|bucketizer.mean.exclude-nulls|bucketizer.median|bucketizer.min|bucketizer.min.forbid-nulls|bucketizer.percentile|bucketizer.sum|bucketizer.sum.forbid-nulls|filter.byclass|filter|.bylabels|filter.last.eq|filter.last.ge|filter.last.gt|filter.last.le|filter.last.lt|filter.last.ne|mapper.abs|mapper.add|mapper.ceil|mapper.count|mapper.count.exclude-nulls|mapper.count.include-nulls|mapper.count.nonnull|mapper.day|mapper.delta|mapper.dotproduct|mapper.dotproduct.positive|mapper.dotproduct.sigmoid|mapper.dotproduct.tanh|mapper.eq|mapper.exp|mapper.first|mapper.floor|mapper.ge|mapper.geo.approximate|mapper.geo.clear|mapper.geo.outside|mapper.geo.within|mapper.gt|mapper.hdist|mapper.highest|mapper.hour|mapper.hspeed|mapper.join|mapper.join.forbid-nulls|mapper.kernel.cosine|mapper.kernel.epanechnikov|mapper.kernel.gaussian|mapper.kernel.logistic|mapper.kernel.quartic|mapper.kernel.silverman|mapper.kernel.triangular|mapper.kernel.tricube|mapper.kernel.triweight|mapper.kernel.uniform|mapper.last|mapper.le|mapper.log|mapper.lowest|mapper.lt|mapper.max|mapper.max.forbid-nulls|mapper.max.x|mapper.mean|mapper.mean.exclude-nulls|mapper.median|mapper.min|mapper.min.forbid-nulls|mapper.min.x|mapper.minute|mapper.month|mapper.mul|mapper.ne|mapper.npdf|mapper.percentile|mapper.pow|mapper.product|mapper.rate|mapper.replace|mapper.round|mapper.sd|mapper.sd.forbid-nulls|mapper.second|mapper.sigmoid|mapper.sum|mapper.sum.forbid-nulls|mapper.tanh|mapper.tick|mapper.toboolean|mapper.todouble|mapper.tolong|mapper.tostring|mapper.truecourse|mapper.var|mapper.var.forbid-nulls|mapper.vdist|mapper.vspeed|mapper.weekday|mapper.year|max.tick.sliding.window|max.time.sliding.window|op.add|op.and|op.div|op.eq|op.ge|op.gt|op.le|op.lt|op.mask|op.mul|op.ne|op.or|op.sub|reducer.argmax|reducer.argmin|reducer.count|reducer.count.exclude-nulls|reducer.count.include-nulls|reducer.count.nonnull|reducer.join|reducer.join.forbid-nulls|reducer.join.nonnull|reducer.max|reducer.max.forbid-nulls|reducer.max.nonnull|reducer.mean|reducer.mean.exclude-nulls|reducer.median|reducer.min|reducer.min.forbid-nulls|reducer.min.nonnull|reducer.percentile|reducer.product|reducer.sd|reducer.sd.forbid-nulls|reducer.shannonentropy.0|reducer.shannonentropy.1|reducer.sum|reducer.sum.forbid-nulls|reducer.sum.nonnull|reducer.var|reducer.var.forbid-nulls","support.function":"->B64|->B64URL|->HEX|->JSON|->LIST|->MAP|->Q|->SET|ABS|ACOS|ADDVALUE|AND|APPEND|APPLY|ASIN|ATAN|ATBUCKET|ATINDEX|ATTICK|ATTRIBUTES|AUTHENTICATE|B64->|B64URL->|BUCKETCOUNT|BUCKETIZE|BUCKETSPAN|CBRT|CEIL|CHUNK|CLEAR|CLEARTOMARK|CLONE|CLONEEMPTY|CLONEREVERSE|COMMONTICKS|COMPACT|CONTAINS|CONTAINSKEY|CONTAINSVALUE|CONTINUE|COPYGEO|COPYSIGN|CORRELATE|COS|COSH|COUNTTOMARK|CROP|CSTORE|CUDF|DEBUGOFF|DEBUGON|DEDUP|DEF|DEFINED|DEPTH|DIFFERENCE|DISCORDS|DOC|DOCMODE|DOUBLEEXPONENTIALSMOOTHING|DROP|DROPN|DTW|DUP|DUPN|DURATION|DWTSPLIT|ELAPSED|ELEVATIONS|ESDTEST|EVAL|EVALSECURE|EVERY|EXP|EXPM1|FDWT|FETCH|FFT|FFTAP|FILLNEXT|FILLPREVIOUS|FILLTICKS|FILLVALUE|FILTER|FIND|FINDSETS|FINDSTATS|FIRSTTICK|FLATTEN|FLOOR|FORGET|FROMBITS|FROMHEX|FUSE|GEO.INTERSECTS|GEO.WITHIN|GEO_INTERSECTION|GEO_SUBTRACTION|GEO_UNION|GEO_WKT|GET|GROOVY|GRUBBSTEST|HASH|HAVERSINE|HEX->|HUMANDURATION|HYBRIDTEST|HYBRIDTEST2|HYPOT|IDENT|IDWT|IEEEREMAINDER|IFFT|INTEGRATE|INTERPOLATE|INTERSECTION|ISNULL|ISNaN|ISO8601|ISODURATION|ISONORMALIZE|JOIN|JS|JSON->|JSONLOOSE|JSONSTRICT|KEYLIST|LABELS|LASTBUCKET|LASTSORT|LASTTICK|LBOUNDS|LFLATMAP|LIMIT|LIST->|LMAP|LOAD|LOCATIONOFFSET|LOCATIONS|LOCSTRINGS|LOG|LOG10|LOG1P|LOWESS|LSORT|LUA|MACROBUCKETIZER|MACROFILTER|MACROMAPPER|MACROREDUCER|MAKEGTS|MAP->|MAP|MAPID|MARK|MATCH|MAX|MAXBUCKETS|MAXDEPTH|MAXGTS|MAXOPS|MAXSYMBOLS|MERGE|META|METASORT|MIN|MONOTONIC|MSGFAIL|MSORT|MSTU|MUSIGMA|NAME|NBOUNDS|NDEBUGON|NEWGTS|NEXTAFTER|NEXTUP|NONEMPTY|NOOP|NORMALIZE|NOT|NOTAFTER|NOTBEFORE|NOTIMINGS|NOW|NPDF|NRETURN|NSUMSUMSQ|ONLYBUCKETS|OPS|OR|PAPPLY|PARSESELECTOR|PARTITION|PATTERNDETECTION|PATTERNS|PFILTER|PICK|PROBABILITY|PUT|PYTHON|Q->|QCONJUGATE|QDIVIDE|QMULTIPLY|QROTATE|QROTATION|QUANTIZE|R|R->|RAND|RANGE|RANGECOMPACT|REDUCE|RELABEL|REMOVE|RENAME|RESET|RESETS|REV|REVERSE|RINT|RLOWESS|ROLL|ROLLD|ROT|ROTATIONQ|ROUND|RSORT|RUBY|RUN|RVALUESORT|SECUREKEY|SET|SET->|SETATTRIBUTES|SHRINK|SIGNUM|SIN|SINGLEEXPONENTIALSMOOTHING|SINH|SIZE|SORT|SPLIT|SQRT|STACKATTRIBUTE|STANDARDIZE|STL|STLESDTEST|STOP|STORE|STRICTMAPPER|STRICTPARTITION|STU|SUBLIST|SUBMAP|SUBSTRING|SWAP|SWITCH|TAN|TANH|TEMPLATE|THRESHOLDTEST|TICKINDEX|TICKLIST|TIMECLIP|TIMEMODULO|TIMESCALE|TIMESHIFT|TIMESPLIT|TIMINGS|TOBITS|TODEGREES|TODOUBLE|TOHEX|TOKENINFO|TOLONG|TOLOWER|TORADIANS|TOSELECTOR|TOSTRING|TOTIMESTAMP|TOUPPER|TRIM|TSELEMENTS|TYPEOF|UDF|ULP|UNBUCKETIZE|UNION|UNIQUE|UNSECURE|UNWRAP|UPDATE|URLDECODE|URLENCODE|UUID|VALUEDEDUP|VALUEHISTOGRAM|VALUELIST|VALUES|VALUESORT|VALUESPLIT|WEBCALL|WRAP|ZIP|ZSCORE|ZSCORETEST"}});ace.define("ace/mode/warpscript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules","ace/mode/warpscript_keywords"],function(require,exports){var oop=require("../lib/oop"),TextHighlightRules=require("./text_highlight_rules").TextHighlightRules,keywordMap=require("./warpscript_keywords").KeywordMap,WarpScriptHighlightRules=function(){this.keywordMapper=this.createKeywordMapper(keywordMap,"identifier",!1);this.$rules={start:[{token:"comment",regex:/\/\//,next:"line_comment"},{token:"string.quoted.single",regex:/'[^']*'/},{token:"constant.numeric",regex:/[+-]?\d+(\.\d+)?([eE][+-]?\d+)?\b/},{token:"support.variable",regex:/\@[a-zA-Z0-9_$]*\b/},{token:this.keywordMapper,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b",caseInsensitive:!1},{token:"keyword.operator",regex:/!=|!|%|&|&&|\*|\*\*|\+|\-|\/|<|<=|==|>|>=|\[|\]|\[\]|\^|\{\}|\{|\}|\||\|\||~=/},{token:"paren.lparen",regex:/[\[\{]/},{token:"paren.rparen",regex:/[\]\}]/},{token:"text",regex:/\s+/}],line_comment:[{token:"comment",regex:"$|^",next:"start"},{defaultToken:"comment",caseInsensitive:!0}]}};oop.inherits(WarpScriptHighlightRules,TextHighlightRules);exports.WarpScriptHighlightRules=WarpScriptHighlightRules});ace.define("ace/mode/warpscript_completions",["require","exports","module","ace/token_iterator","ace/mode/warpscript_keywords"],function(require,exports){var keywordMap=require("./warpscript_keywords").KeywordMap,keywordList=[];for(var key in keywordMap){keywordList=keywordList.concat(keywordMap[key].split(/\|/))}keywordList=keywordList.sort();var WarpScriptCompletions=function(){};(function(){this.getCompletions=function(state,session,pos,prefix){console.debug("[mode-warpscript] getCompletions - keywordList",keywordList);var matchingWords=[];for(var word in keywordList){if(-1<keywordList[word].search(prefix)){matchingWords.push(keywordList[word])}}var matchingWordsObjects=matchingWords.map(function(value){return{caption:value,snippet:value,meta:"WARPSCRIPT",score:_NumberMAX_VALUE}});console.debug("[mode-warpscript] getCompletions - matching words",matchingWordsObjects);return matchingWordsObjects}}).call(WarpScriptCompletions.prototype);exports.WarpScriptCompletions=WarpScriptCompletions});ace.define("ace/mode/warpscript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/warpscript_highlight_rules","ace/range","ace/mode/warpscript_completions"],function(require,exports){var oop=require("../lib/oop"),TextMode=require("./text").Mode,WarpScriptHighlightRules=require("./warpscript_highlight_rules").WarpScriptHighlightRules,WarpScriptCompletions=require("./warpscript_completions").WarpScriptCompletions,Range=require("../range").Range,Mode=function(){console.debug("[mode-warpscript] Mode initializing");this.HighlightRules=WarpScriptHighlightRules;this.$completer=new WarpScriptCompletions};oop.inherits(Mode,TextMode);(function(){this.lineCommentStart="*";this.$id="ace/mode/warpscript";this.getCompletions=function(state,session,pos,prefix){var completerResponse=this.$completer.getCompletions(state,session,pos,prefix);console.debug("[mode-warpscript] completer response",completerResponse);return completerResponse}}).call(Mode.prototype);exports.Mode=Mode});const photonSharedStyles=html$1`
<style>
  :host {
    --app-primary-color: #162d50;
    --app-primary-contrast: #ffcc00;
    --app-secondary-color: #162d50;
    --app-secondary-contrast: #ffffff;
    --mdc-theme-primary: #162d50;
    --mdc-theme-on-primary: #ffcc00;
    --app-primary-contrast-2: #ff3675;
    --app-primary-contrast-3: #86eb4e;
    --app-primary-contrast-4: #eeeeee;
    --app-primary-contrast-muted: #dbbe48;
  }
  .row {
    margin-top: 16px;
    margin-bottom: 16px;
    display: flex;
    flex-flow: row nowrap;
  }
  .column {
    display: flex;
    flex-flow: column nowrap;
  }

  .flex {
    display: flex;
    flex-flow: row nowrap;
  }
  .align-items-center {
    align-items: center;
  }
  .wrap {
    flex-wrap: wrap;
  }

  .flex-end {
    justify-content: flex-end;
  }

  .space-around {
    justify-content: space-around;
  }

  .justify-center {
    justify-content: center;
  }

  .flex > .horizontal-flex-item:not(:first-child) {
    padding-left: 16px;
  }
  .flex > .horizontal-flex-item:not(:last-child) {
    padding-right: 16px;
  }

  *[cloak] {
    display: none;
  }
</style>
`;_exports.$photonSharedStylesDefault=photonSharedStyles;_exports.$photonSharedStyles={default:photonSharedStyles};const style$5=html$1`<style>.mdc-floating-label{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1rem;line-height:1.75rem;font-weight:400;letter-spacing:.00937em;text-decoration:inherit;text-transform:inherit;position:absolute;bottom:8px;left:0;transform-origin:left top;transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1);line-height:1.15rem;cursor:text}[dir="rtl"] .mdc-floating-label,.mdc-floating-label[dir="rtl"]{right:0;left:auto;transform-origin:right top}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--float-above{transform:translateY(-100%) scale(.75)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-100%) scale(.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.70173, 0.49582);transform:translateX(calc(4% - 0%)) translateY(-100%) scale(.75)}66%{animation-timing-function:cubic-bezier(0.30244, 0.38135, 0.55, 0.95635);transform:translateX(calc(-4% - 0%)) translateY(-100%) scale(.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-100%) scale(.75)}}.mdc-line-ripple{position:absolute;bottom:0;left:0;width:100%;height:2px;transform:scaleX(0);transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;z-index:2}.mdc-line-ripple--active{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating{opacity:0}.mdc-notched-outline{position:absolute;top:0;left:0;width:calc(100% - 1px);height:calc(100% - 2px);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;overflow:hidden}.mdc-notched-outline svg{position:absolute;width:100%;height:100%}.mdc-notched-outline__idle{position:absolute;top:0;left:0;width:calc(100% - 4px);height:calc(100% - 4px);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1),border-color 150ms cubic-bezier(0.4, 0, 0.2, 1);border:1px solid;opacity:1}.mdc-notched-outline__path{stroke-width:1px;transition:stroke 150ms cubic-bezier(0.4, 0, 0.2, 1),stroke-width 150ms cubic-bezier(0.4, 0, 0.2, 1);fill:transparent}.mdc-notched-outline--notched{opacity:1}.mdc-notched-outline--notched ~ .mdc-notched-outline__idle{opacity:0}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}.mdc-ripple-surface--test-edge-var-bug{--mdc-ripple-surface-test-edge-var: 1px solid #000;visibility:hidden}.mdc-ripple-surface--test-edge-var-bug::before{border:var(--mdc-ripple-surface-test-edge-var)}.mdc-text-field-helper-text{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.75rem;line-height:1.25rem;font-weight:400;letter-spacing:.03333em;text-decoration:inherit;text-transform:inherit;margin:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;font-size:.75rem;will-change:opacity}.mdc-text-field+.mdc-text-field-helper-text{margin-bottom:8px}.mdc-text-field-helper-text--persistent{transition:none;opacity:1;will-change:initial}.mdc-text-field--with-leading-icon .mdc-text-field__icon,.mdc-text-field--with-trailing-icon .mdc-text-field__icon{position:absolute;bottom:16px;cursor:pointer}.mdc-text-field__icon:not([tabindex]),.mdc-text-field__icon[tabindex="-1"]{cursor:default;pointer-events:none}.mdc-text-field{display:inline-block;position:relative;margin-bottom:8px;will-change:opacity, transform, color}.mdc-text-field:not(.mdc-text-field--disabled):not(.mdc-text-field--outlined):not(.mdc-text-field--textarea) .mdc-text-field__input{border-bottom-color:rgba(0,0,0,0.42)}.mdc-text-field:not(.mdc-text-field--disabled):not(.mdc-text-field--outlined):not(.mdc-text-field--textarea) .mdc-text-field__input:hover{border-bottom-color:rgba(0,0,0,0.87)}.mdc-text-field .mdc-line-ripple{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input{color:rgba(0,0,0,0.87)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(0,0,0,0.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:rgba(0,0,0,0.6)}.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-text{color:rgba(0,0,0,0.6)}.mdc-text-field:not(.mdc-text-field--disabled):not(.mdc-text-field--textarea){border-bottom-color:rgba(0,0,0,0.12)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon{color:rgba(0,0,0,0.54)}.mdc-text-field__input{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1rem;line-height:1.75rem;font-weight:400;letter-spacing:.00937em;text-decoration:inherit;text-transform:inherit;width:100%;height:30px;padding:20px 0 1px;transition:opacity 180ms cubic-bezier(0.4, 0, 0.2, 1);border:none;border-bottom:1px solid;border-radius:0;background:none;appearance:none}.mdc-text-field__input::placeholder{transition:color 180ms cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input:-webkit-autofill+.mdc-floating-label{transform:translateY(-100%) scale(0.75);cursor:auto}.mdc-text-field--outlined{height:56px;border:none}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__idle{border-color:rgba(0,0,0,0.24)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__path{stroke:rgba(0,0,0,0.24)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused) .mdc-text-field__input:hover ~ .mdc-notched-outline__idle,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused) .mdc-text-field__icon:hover ~ .mdc-notched-outline__idle{border-color:rgba(0,0,0,0.87)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused) .mdc-text-field__input:hover ~ .mdc-notched-outline .mdc-notched-outline__path,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused) .mdc-text-field__icon:hover ~ .mdc-notched-outline .mdc-notched-outline__path{stroke:rgba(0,0,0,0.87)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__path{stroke:#6200ee;stroke:var(--mdc-theme-primary, #6200ee)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-130%) scale(.75)}.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}.mdc-text-field--outlined .mdc-notched-outline{border-radius:4px}.mdc-text-field--outlined .mdc-notched-outline__idle{border-radius:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;padding:12px;border:none;background-color:transparent;z-index:1}.mdc-text-field--outlined .mdc-floating-label{left:16px;right:initial;position:absolute;bottom:20px}[dir="rtl"] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir="rtl"]{left:initial;right:16px}.mdc-text-field--outlined .mdc-text-field__icon{z-index:2}.mdc-text-field--outlined.mdc-text-field--focused .mdc-notched-outline__path{stroke-width:2px}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:rgba(0,0,0,0.6)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__idle{border-color:rgba(0,0,0,0.06)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__path{stroke:rgba(0,0,0,0.06)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{border-bottom:none}.mdc-text-field--outlined.mdc-text-field--dense{height:48px}.mdc-text-field--outlined.mdc-text-field--dense .mdc-floating-label--float-above{transform:translateY(-110%) scale(.923)}.mdc-text-field--outlined.mdc-text-field--dense .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-dense 250ms 1}.mdc-text-field--outlined.mdc-text-field--dense .mdc-text-field__input{padding:12px 12px 7px}.mdc-text-field--outlined.mdc-text-field--dense .mdc-floating-label{bottom:16px}.mdc-text-field--outlined.mdc-text-field--dense .mdc-text-field__icon{top:12px}.mdc-text-field--box{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:transparent;will-change:transform, opacity;border-radius:4px 4px 0 0;display:inline-flex;position:relative;height:56px;margin-top:16px;overflow:hidden}.mdc-text-field--box::before,.mdc-text-field--box::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-text-field--box::before{transition:opacity 15ms linear;z-index:1}.mdc-text-field--box.mdc-ripple-upgraded::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-text-field--box.mdc-ripple-upgraded::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-text-field--box.mdc-ripple-upgraded--unbounded::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-text-field--box.mdc-ripple-upgraded--foreground-activation::after{animation:225ms mdc-ripple-fg-radius-in forwards,75ms mdc-ripple-fg-opacity-in forwards}.mdc-text-field--box.mdc-ripple-upgraded--foreground-deactivation::after{animation:150ms mdc-ripple-fg-opacity-out;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-text-field--box::before,.mdc-text-field--box::after{background-color:rgba(0,0,0,0.87)}.mdc-text-field--box:hover::before{opacity:.04}.mdc-text-field--box:not(.mdc-ripple-upgraded):focus::before,.mdc-text-field--box:not(.mdc-ripple-upgraded):focus-within::before,.mdc-text-field--box.mdc-ripple-upgraded--background-focused::before{transition-duration:75ms;opacity:.12}.mdc-text-field--box::before,.mdc-text-field--box::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-text-field--box.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-text-field--box:not(.mdc-text-field--disabled){background-color:#f5f5f5}.mdc-text-field--box .mdc-floating-label--float-above{transform:translateY(-50%) scale(.75)}.mdc-text-field--box .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-box 250ms 1}.mdc-text-field--box .mdc-text-field__input{align-self:flex-end;box-sizing:border-box;height:100%;padding:20px 16px 0}.mdc-text-field--box .mdc-floating-label{left:16px;right:initial;position:absolute;bottom:20px;width:calc(100% - 48px);text-overflow:ellipsis;white-space:nowrap;pointer-events:none;overflow:hidden;will-change:transform}[dir="rtl"] .mdc-text-field--box .mdc-floating-label,.mdc-text-field--box .mdc-floating-label[dir="rtl"]{left:initial;right:16px}.mdc-text-field--box.mdc-text-field--disabled{background-color:#fafafa;border-bottom:none}.mdc-text-field--box.mdc-text-field--disabled .mdc-text-field__input{border-bottom-color:rgba(0,0,0,0.06)}.mdc-text-field--box.mdc-text-field--disabled:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(0,0,0,0.37)}.mdc-text-field--box.mdc-text-field--disabled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:rgba(0,0,0,0.37)}.mdc-text-field--box.mdc-text-field--dense .mdc-floating-label--float-above{transform:translateY(-70%) scale(.923)}.mdc-text-field--box.mdc-text-field--dense .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-box-dense 250ms 1}.mdc-text-field--box.mdc-text-field--dense .mdc-text-field__input{padding:12px 12px 0}.mdc-text-field--with-leading-icon .mdc-text-field__icon{left:15px;right:initial}[dir="rtl"] .mdc-text-field--with-leading-icon .mdc-text-field__icon,.mdc-text-field--with-leading-icon .mdc-text-field__icon[dir="rtl"]{left:initial;right:15px}.mdc-text-field--with-leading-icon .mdc-text-field__input{padding-left:48px;padding-right:15px}[dir="rtl"] .mdc-text-field--with-leading-icon .mdc-text-field__input,.mdc-text-field--with-leading-icon .mdc-text-field__input[dir="rtl"]{padding-left:15px;padding-right:48px}.mdc-text-field--with-leading-icon .mdc-floating-label{left:48px;right:initial}[dir="rtl"] .mdc-text-field--with-leading-icon .mdc-floating-label,.mdc-text-field--with-leading-icon .mdc-floating-label[dir="rtl"]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-130%) translateX(-32px) scale(.75)}[dir="rtl"] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir="rtl"]{transform:translateY(-130%) translateX(32px) scale(.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}[dir="rtl"] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir="rtl"] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl 250ms 1}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-text-field--dense .mdc-floating-label--float-above{transform:translateY(-110%) translateX(-21px) scale(.923)}[dir="rtl"] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-text-field--dense .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-text-field--dense .mdc-floating-label--float-above[dir="rtl"]{transform:translateY(-110%) translateX(21px) scale(.923)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-text-field--dense .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-dense 250ms 1}[dir="rtl"] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-text-field--dense .mdc-floating-label--shake,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-text-field--dense[dir="rtl"] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-dense-rtl 250ms 1}.mdc-text-field--with-trailing-icon .mdc-text-field__icon{left:initial;right:15px}[dir="rtl"] .mdc-text-field--with-trailing-icon .mdc-text-field__icon,.mdc-text-field--with-trailing-icon .mdc-text-field__icon[dir="rtl"]{left:15px;right:initial}.mdc-text-field--with-trailing-icon .mdc-text-field__input{padding-left:15px;padding-right:48px}[dir="rtl"] .mdc-text-field--with-trailing-icon .mdc-text-field__input,.mdc-text-field--with-trailing-icon .mdc-text-field__input[dir="rtl"]{padding-left:48px;padding-right:15px}.mdc-text-field--with-leading-icon.mdc-text-field--dense .mdc-text-field__icon,.mdc-text-field--with-trailing-icon.mdc-text-field--dense .mdc-text-field__icon{bottom:16px;transform:scale(0.8)}.mdc-text-field--with-leading-icon.mdc-text-field--dense .mdc-text-field__icon{left:12px;right:initial}[dir="rtl"] .mdc-text-field--with-leading-icon.mdc-text-field--dense .mdc-text-field__icon,.mdc-text-field--with-leading-icon.mdc-text-field--dense .mdc-text-field__icon[dir="rtl"]{left:initial;right:12px}.mdc-text-field--with-leading-icon.mdc-text-field--dense .mdc-text-field__input{padding-left:38px;padding-right:12px}[dir="rtl"] .mdc-text-field--with-leading-icon.mdc-text-field--dense .mdc-text-field__input,.mdc-text-field--with-leading-icon.mdc-text-field--dense .mdc-text-field__input[dir="rtl"]{padding-left:12px;padding-right:38px}.mdc-text-field--with-leading-icon.mdc-text-field--dense .mdc-floating-label{left:38px;right:initial}[dir="rtl"] .mdc-text-field--with-leading-icon.mdc-text-field--dense .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--dense .mdc-floating-label[dir="rtl"]{left:initial;right:38px}.mdc-text-field--with-trailing-icon.mdc-text-field--dense .mdc-text-field__icon{left:initial;right:12px}[dir="rtl"] .mdc-text-field--with-trailing-icon.mdc-text-field--dense .mdc-text-field__icon,.mdc-text-field--with-trailing-icon.mdc-text-field--dense .mdc-text-field__icon[dir="rtl"]{left:12px;right:initial}.mdc-text-field--with-trailing-icon.mdc-text-field--dense .mdc-text-field__input{padding-left:12px;padding-right:38px}[dir="rtl"] .mdc-text-field--with-trailing-icon.mdc-text-field--dense .mdc-text-field__input,.mdc-text-field--with-trailing-icon.mdc-text-field--dense .mdc-text-field__input[dir="rtl"]{padding-left:38px;padding-right:12px}.mdc-text-field--upgraded:not(.mdc-text-field--fullwidth):not(.mdc-text-field--box){display:inline-flex;position:relative;align-items:flex-end;box-sizing:border-box;margin-top:16px}.mdc-text-field--upgraded:not(.mdc-text-field--fullwidth):not(.mdc-text-field--box):not(.mdc-text-field--textarea):not(.mdc-text-field--outlined){height:48px}.mdc-text-field--dense{margin-top:12px;margin-bottom:4px}.mdc-text-field--dense .mdc-floating-label--float-above{transform:translateY(-110%) scale(.923)}.mdc-text-field--dense .mdc-floating-label{font-size:.813rem}.mdc-text-field__input:required+.mdc-floating-label::after{margin-left:1px;content:"*"}.mdc-text-field--textarea{border-radius:4px;display:flex;width:fit-content;height:initial;transition:none;border:1px solid;overflow:hidden}.mdc-text-field--textarea .mdc-floating-label{border-radius:4px 4px 0 0}.mdc-text-field--textarea .mdc-text-field__input{border-radius:2px}.mdc-text-field--textarea:not(.mdc-text-field--disabled){border-color:rgba(0,0,0,0.73)}.mdc-text-field--textarea:not(.mdc-text-field--disabled) .mdc-text-field__input:focus{border-color:rgba(0,0,0,0.73)}.mdc-text-field--textarea .mdc-floating-label--float-above{transform:translateY(-50%) scale(.923)}.mdc-text-field--textarea .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea 250ms 1}.mdc-text-field--textarea .mdc-text-field__input{margin:0;padding:16px;padding-top:32px;border:1px solid transparent}.mdc-text-field--textarea .mdc-floating-label{left:1px;right:initial;background-color:#fff;top:18px;bottom:auto;margin-top:2px;margin-left:8px;padding:8px;line-height:1.15}[dir="rtl"] .mdc-text-field--textarea .mdc-floating-label,.mdc-text-field--textarea .mdc-floating-label[dir="rtl"]{left:initial;right:1px}.mdc-text-field--fullwidth{width:100%}.mdc-text-field--fullwidth .mdc-text-field__input{resize:vertical}.mdc-text-field--fullwidth:not(.mdc-text-field--textarea){display:block;box-sizing:border-box;height:56px;margin:0;border:none;border-bottom:1px solid;outline:none}.mdc-text-field--fullwidth:not(.mdc-text-field--textarea) .mdc-text-field__input{width:100%;height:100%;padding:0;resize:none;border:none !important}.mdc-text-field--fullwidth.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--textarea){border-bottom-color:#c51162}.mdc-text-field--dense+.mdc-text-field-helper-text{margin-bottom:4px}.mdc-text-field--box+.mdc-text-field-helper-text,.mdc-text-field--outlined+.mdc-text-field-helper-text{margin-right:16px;margin-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(98,0,238,0.87)}.mdc-text-field--focused:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:rgba(98,0,238,0.87)}.mdc-text-field--focused .mdc-text-field__input:required+.mdc-floating-label::after{color:#c51162}.mdc-text-field--focused+.mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--textarea.mdc-text-field--focused:not(.mdc-text-field--disabled){border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field--textarea.mdc-text-field--focused:not(.mdc-text-field--disabled) .mdc-text-field__input:focus{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--outlined):not(.mdc-text-field--textarea) .mdc-text-field__input{border-bottom-color:#c51162}.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--outlined):not(.mdc-text-field--textarea) .mdc-text-field__input:hover{border-bottom-color:#c51162}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple{background-color:#c51162}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label{color:#c51162}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:#c51162}.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--invalid+.mdc-text-field-helper-text--validation-msg{color:#c51162}.mdc-text-field--invalid.mdc-text-field--with-trailing-icon:not(.mdc-text-field--disabled) .mdc-text-field__icon{color:#c51162}.mdc-text-field--invalid+.mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--textarea.mdc-text-field--invalid:not(.mdc-text-field--disabled){border-color:#c51162}.mdc-text-field--textarea.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input:focus{border-color:#c51162}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__idle{border-color:#c51162}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__path{stroke:#c51162}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused) .mdc-text-field__input:hover ~ .mdc-notched-outline__idle,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused) .mdc-text-field__icon:hover ~ .mdc-notched-outline__idle{border-color:#c51162}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused) .mdc-text-field__input:hover ~ .mdc-notched-outline .mdc-notched-outline__path,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused) .mdc-text-field__icon:hover ~ .mdc-notched-outline .mdc-notched-outline__path{stroke:#c51162}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__path{stroke:#c51162}.mdc-text-field--disabled{pointer-events:none}.mdc-text-field--disabled .mdc-text-field__input{border-bottom-color:rgba(35,31,32,0.26)}.mdc-text-field--disabled .mdc-text-field__input{color:rgba(0,0,0,0.37)}.mdc-text-field--disabled .mdc-floating-label{color:rgba(0,0,0,0.37)}.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:rgba(0,0,0,0.37)}.mdc-text-field--disabled+.mdc-text-field-helper-text{color:rgba(0,0,0,0.37)}.mdc-text-field--disabled .mdc-text-field__icon{color:rgba(0,0,0,0.3)}.mdc-text-field--disabled:not(.mdc-text-field--textarea){border-bottom-color:rgba(0,0,0,0.12)}.mdc-text-field--disabled .mdc-text-field__input{border-bottom:1px dotted}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--textarea.mdc-text-field--disabled{border-color:rgba(35,31,32,0.26);background-color:#f9f9f9;border-style:solid}.mdc-text-field--textarea.mdc-text-field--disabled .mdc-text-field__input:focus{border-color:rgba(35,31,32,0.26)}.mdc-text-field--textarea.mdc-text-field--disabled .mdc-text-field__input{border:1px solid transparent}.mdc-text-field--textarea.mdc-text-field--disabled .mdc-floating-label{background-color:#f9f9f9}@keyframes mdc-floating-label-shake-float-above-text-field-box{0%{transform:translateX(calc(0 - 0%)) translateY(-50%) scale(.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.70173, 0.49582);transform:translateX(calc(4% - 0%)) translateY(-50%) scale(.75)}66%{animation-timing-function:cubic-bezier(0.30244, 0.38135, 0.55, 0.95635);transform:translateX(calc(-4% - 0%)) translateY(-50%) scale(.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-50%) scale(.75)}}@keyframes mdc-floating-label-shake-float-above-text-field-box-dense{0%{transform:translateX(calc(0 - 0%)) translateY(-70%) scale(.923)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.70173, 0.49582);transform:translateX(calc(4% - 0%)) translateY(-70%) scale(.923)}66%{animation-timing-function:cubic-bezier(0.30244, 0.38135, 0.55, 0.95635);transform:translateX(calc(-4% - 0%)) translateY(-70%) scale(.923)}100%{transform:translateX(calc(0 - 0%)) translateY(-70%) scale(.923)}}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-130%) scale(.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.70173, 0.49582);transform:translateX(calc(4% - 0%)) translateY(-130%) scale(.75)}66%{animation-timing-function:cubic-bezier(0.30244, 0.38135, 0.55, 0.95635);transform:translateX(calc(-4% - 0%)) translateY(-130%) scale(.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-130%) scale(.75)}}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-dense{0%{transform:translateX(calc(0 - 0%)) translateY(-110%) scale(.923)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.70173, 0.49582);transform:translateX(calc(4% - 0%)) translateY(-110%) scale(.923)}66%{animation-timing-function:cubic-bezier(0.30244, 0.38135, 0.55, 0.95635);transform:translateX(calc(-4% - 0%)) translateY(-110%) scale(.923)}100%{transform:translateX(calc(0 - 0%)) translateY(-110%) scale(.923)}}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-130%) scale(.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.70173, 0.49582);transform:translateX(calc(4% - 32px)) translateY(-130%) scale(.75)}66%{animation-timing-function:cubic-bezier(0.30244, 0.38135, 0.55, 0.95635);transform:translateX(calc(-4% - 32px)) translateY(-130%) scale(.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-130%) scale(.75)}}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-dense{0%{transform:translateX(calc(0 - 21px)) translateY(-110%) scale(.923)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.70173, 0.49582);transform:translateX(calc(4% - 21px)) translateY(-110%) scale(.923)}66%{animation-timing-function:cubic-bezier(0.30244, 0.38135, 0.55, 0.95635);transform:translateX(calc(-4% - 21px)) translateY(-110%) scale(.923)}100%{transform:translateX(calc(0 - 21px)) translateY(-110%) scale(.923)}}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-130%) scale(.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.70173, 0.49582);transform:translateX(calc(4% - -32px)) translateY(-130%) scale(.75)}66%{animation-timing-function:cubic-bezier(0.30244, 0.38135, 0.55, 0.95635);transform:translateX(calc(-4% - -32px)) translateY(-130%) scale(.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-130%) scale(.75)}}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-dense-rtl{0%{transform:translateX(calc(0 - -21px)) translateY(-110%) scale(.923)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.70173, 0.49582);transform:translateX(calc(4% - -21px)) translateY(-110%) scale(.923)}66%{animation-timing-function:cubic-bezier(0.30244, 0.38135, 0.55, 0.95635);transform:translateX(calc(-4% - -21px)) translateY(-110%) scale(.923)}100%{transform:translateX(calc(0 - -21px)) translateY(-110%) scale(.923)}}@keyframes mdc-floating-label-shake-float-above-textarea{0%{transform:translateX(calc(0 - 0%)) translateY(-50%) scale(.923)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.70173, 0.49582);transform:translateX(calc(4% - 0%)) translateY(-50%) scale(.923)}66%{animation-timing-function:cubic-bezier(0.30244, 0.38135, 0.55, 0.95635);transform:translateX(calc(-4% - 0%)) translateY(-50%) scale(.923)}100%{transform:translateX(calc(0 - 0%)) translateY(-50%) scale(.923)}}.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:'liga';-webkit-font-smoothing:antialiased}:host(:not([fullwidth])){display:inline-block}#text-field{width:var(--photon-textfield-width)}.mdc-text-field{width:calc(var(--photon-textfield-width) + 20px)}
</style>`;_exports.style$5=style$5;_exports.$photonTextfieldCss={style:style$5};class MDCWCTextField extends MDCWebComponentMixin(MDCTextField){}class Textfield extends ComponentElement{static get ComponentClass(){return MDCWCTextField}static get componentSelector(){return".mdc-text-field"}static get properties(){return{value:{type:String},label:{type:String},icon:{type:String},iconTrailing:{type:Boolean},box:{type:Boolean},outlined:{type:Boolean},disabled:{type:Boolean},fullWidth:{type:Boolean},required:{type:Boolean},helperText:{type:String},placeHolder:{type:String},type:{type:String}}}constructor(){super();this._asyncComponent=!0;this.required=!1;this.value="";this.label="";this.icon="";this.iconTrailing=!1;this.helperText="";this.box=!1;this.outlined=!1;this.disabled=!1;this.fullWidth=!1;this.placeHolder="";this.type=""}renderStyle(){return style$5}render(){const{value,label,box,outlined,disabled,icon,iconTrailing,fullWidth,required,placeHolder,helperText,type}=this;return html$1`
      ${this.renderStyle()}
      <div class="mdc-text-field mdc-text-field--upgraded ${classMap({"mdc-text-field--with-leading-icon":icon&&!iconTrailing,"mdc-text-field--with-trailing-icon":icon&&iconTrailing,"mdc-text-field--box":!fullWidth&&box,"mdc-text-field--outlined":!fullWidth&&outlined,"mdc-text-field--disabled":disabled,"mdc-text-field--fullwidth":fullWidth})}">
        ${!fullWidth&&icon?html$1`<i class="material-icons mdc-text-field__icon" tabindex="0">${icon}</i>`:""}
        ${this._renderInput({value,required,type,placeHolder,label})}
        ${!fullWidth&&label?html$1`<label class="mdc-floating-label ${value?"mdc-floating-label--float-above":""}" for="text-field">${label}</label>`:""}
        ${!fullWidth&&outlined?html$1`<div class="mdc-notched-outline">
            <svg><path class="mdc-notched-outline__path"/></svg>
          </div>
          <div class="mdc-notched-outline__idle"></div>`:html$1`<div class="mdc-line-ripple"></div>`}
      </div>
      ${helperText?html$1`<p class="mdc-text-field-helper-text" aria-hidden="true">${helperText}</p>`:""}`}_renderInput({value,required,type,placeHolder,label}){return html$1`<input type="${type}" placeholder="${placeHolder}" ?required="${required}" class="mdc-text-field__input ${value?"mdc-text-field--upgraded":""}" id="text-field" .value="${value}" aria-label="${label}">`}firstUpdated(){super.firstUpdated();this._input=this.shadowRoot.querySelector("input")}get valid(){return this._component&&this._component.isValid()}set valid(value){this.componentReady().then(component=>{component.setValid(value)})}click(){this._input.click()}focus(){this._input.focus()}}_exports.Textfield=Textfield;customElements.define("photon-textfield",Textfield);_exports.$photonTextfield={Textfield:Textfield};class PhotonBackendPicker extends LitElement{render(){if(this.debug){console.log("[photon-backend-picker] render",this.backend)}if(!this.backend||!this.customBackend){return}return html$1`
      ${photonSharedStyles}
      ${this._renderStyle()}

      ${this._savedBackends&&0<this._savedBackends.length?html$1`
          <h3>Your backends</h3>
          ${this._savedBackends.map((item,index)=>html$1`
            <div class='flex align-items-center'>
              <mwc-radio 
                  id='backend_${item.id}'
                  .value='backend_${item.id}'
                  .name='backendRadioGroup' 
                  ?checked='${this._equalBackends(this.backend,item)}'
                  @click='${()=>this._onBackendChosen(item)}'></mwc-radio>        
              <div class='backendRadioGroupItem'>
                <div class="backend_label">${item.label}</div>
                <div class="backend_url">${item.url}${item.execEndpoint}</div>
              </div>
              <mwc-icon 
                class="deleteBackendBtn"
                @click="${()=>this.deleteBackend(index)}">delete</mwc-icon>
            </div>
          `)}
        `:""}

      ${this.conf&&this.conf.backends&&0<this.conf.backends.length?html$1`
          <h3>Default backends</h3>
          ${this.conf.backends.map(item=>html$1`
            <div class='flex align-items-center'>
              <mwc-radio 
                  id='backend_${item.id}'
                  .value='backend_${item.id}'
                  .name='backendRadioGroup' 
                  ?checked='${this._equalBackends(this.backend,item)}'
                  @click='${()=>this._onBackendChosen(item)}'></mwc-radio>        
              <div class='backendRadioGroupItem'>
                <div class="backend_label">${item.label}</div>
                <div class="backend_url">${item.url}${item.execEndpoint}</div>
              </div>
            </div>
          `)}
        `:""}

      <h3>Custom backend</h3>
      <div class='flex align-items-center'>
        <mwc-radio 
            id='custom_backend'
            .value='custom_backend'
            .name='backendRadioGroup' 
            ?checked='${this._isCustomBackend()}'
            @click='${()=>this._onCustomBackendChosen()}'></mwc-radio>         
        <div class='backendRadioGroupItem'>   
          <div class='flex align-items-center'>
            <photon-textfield 
                class="custom-backend-url" 
                .label="Backend URL" 
                @change="${evt=>{let _backend={...this.customBackend,url:evt.detail,id:""};this.customBackend=_backend;this.backend=_backend;if(this.debug){console.log("[photon-backend-picker] URL changed",this.backend,evt.detail)}}}"
                value="${this.customBackend.url}"></photon-textfield>
            <photon-textfield 
                class="custom-backend-execEndpoint" 
                .label="Exec endpoint" 
                @change="${evt=>{let _backend={...this.customBackend,execEndpoint:evt.detail,id:""};this.customBackend=_backend;this.backend=_backend;if(this.debug){console.log("[photon-backend-picker] Exec endpoint changed",this.backend,evt.detail)}}}"
                .value="${this.customBackend.execEndpoint}"></photon-textfield>
          </div>
          <div class='flex align-items-center'>
            <photon-textfield 
                class="custom-backend-label" 
                .label="Label" 
                @change="${evt=>{let _backend={...this.customBackend,label:evt.detail,id:""};this.customBackend=_backend;this.backend=_backend;if(this.debug){console.log("[photon-backend-picker] Label changed",this.backend,evt.detail)}}}"
                .value="${this.customBackend.label}"></photon-textfield>
          </div>
        </div>
        ${this._customBackendChoosen||this._isCustomBackend()?html$1`
          <mwc-icon 
            class="saveBackendBtn"
            @click="${()=>this.saveBackend()}">save</mwc-icon>`:""}
      </div>
    `}updated(changedProps){if(changedProps.get("backend")!==void 0){if(this.debug){console.log("[photon-backend-picker] updated - backend changed",this.backend)}this._delayedFireEvent(new CustomEvent("backend-change",{detail:this.backend,bubbles:!0,composed:!0}))}}static get properties(){return{backend:{type:Object},conf:{type:Object},debug:{type:Boolean},customBackend:{type:Object},_customBackendChoosen:{type:Boolean},_savedBackends:{type:Array}}}constructor(){super();this.configuredBackends=[];this.customBackend={label:"",url:"",execEndpoint:""};this._savedBackends=this._readBackendsFromLocalStorage();this.addEventListener("backend-change",async()=>{if(this.debug){console.log("[photon-backend-picker] backend-change event listener",this.backend)}if(!this._equalBackends(this.backend,this.customBackend)){this.customBackend={url:this.backend.url,execEndpoint:this.backend.execEndpoint,label:""}}this._saveCurrentBackend();window.dispatchEvent(new StorageEvent("storage",{key:"warp10-backend-conf"}))})}connectedCallback(){super.connectedCallback()}async _delayedFireEvent(evt){await this.updateComplete;this.dispatchEvent(evt)}_isCurrentBackend(aBackend){if(!this.backend){return!1}return aBackend.id==this.backend.id}_hasConfiguredBackends(){return this.conf.backends&&0<this.conf.backends.length}_isCustomBackend(){if(!this.backend){return!1}if(this.conf&&this.conf.backends){for(let index in this.conf.backends){if(this._equalBackends(this.backend,this.conf.backends[index])){if(this.debug){console.log("[photon-backend-picker] _isCustomBackend false - Backend in configuredBackends",this.backend,this.conf.backends[index])}return!1}}}if(this._savedBackends){for(let index in this._savedBackends){if(this._equalBackends(this.backend,this._savedBackends[index])){if(this.debug){console.log("[photon-backend-picker] _isCustomBackend false  - Backend in configuredBackends")}return!1}}}if(this.debug){console.log("[photon-backend-picker] _isCustomBackend - true")}return!0}_equalBackends(a,b){if(a.url!=b.url){return!1}if(a.execEndpoint!=b.execEndpoint){return!1}return!0}_readBackendsFromLocalStorage(){let backendsFromLocalStorage=JSON.parse(localStorage.getItem("configuredBackends")||"[]");if(backendsFromLocalStorage&&0<backendsFromLocalStorage.length){backendsFromLocalStorage.filter(backend=>{return backend.id&&backend.label&&backend.url&&backend.exec})}return backendsFromLocalStorage}_writeBackendsToLocalStorage(backends){localStorage.setItem("configuredBackends",JSON.stringify(backends))}_saveCurrentBackend(){sessionStorage.setItem("warp10-backend-conf",JSON.stringify(this.backend))}_restoreCurrentBackend(){this.backend=JSON.parse(sessionStorage.getItem("warp10-backend-conf"))}_onBackendChosen(backend){this._customBackendChoosen=!1;this.backend=backend;if(this.debug){console.log("[photon-backend-picker] _onBackendChosen",this.backend)}}_onCustomBackendChosen(){this._customBackendChoosen=!0;this.customBackend={...this.backend,label:""};if(this.debug){console.log("[photon-backend-picker] _onCustomBackendChosen",this.customBackend)}}saveBackend(){if(!this._isCustomBackend()){return}if(this.debug){console.log("[photon-backend-picker] saveBackend",this.customBackend)}this._savedBackends=[...this._savedBackends,this.customBackend];this._writeBackendsToLocalStorage(this._savedBackends)}deleteBackend(index){if(this.debug){console.log("[photon-backend-picker] deleteBackend",this._savedBackends[index])}this._savedBackends.splice(index,1);console.log("[photon-backend-picker] deleteBackend",this._savedBackends);this._savedBackends=[...this._savedBackends];this._writeBackendsToLocalStorage(this._savedBackends)}_renderStyle(){return html$1`
      <style>
        .backendRadioGroupItem {
          display: flex;
          flex-flow: column;
        }
        .backend_url {
          font-size: 0.8em;
          font-family: monospace;
        }
        .customBackendEdit {
          display: flex;
          flex-flow: column;
          padding-left: 32px;
        }
        .custom-backend-url {
          --photon-textfield-width: 400px;
        }
        .custom-backend-execEndpoint {
          --photon-textfield-width: 200px;
        }
        mwc-icon {
          color: var(--app-primary-color);
          cursor: pointer;
        }
        .deleteBackendBtn {
          margin-left: 32px;
        }
      </style>
    `}}window.customElements.define("photon-backend-picker",PhotonBackendPicker);let modalStyles=html$1`
  <style>
    /* The Modal (background) */
    .modal {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 10000; /* Sit on top */
        left: 0;
        top: 0;
        right: 0; /* Full width */
        bottom: 0; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgb(0,0,0); /* Fallback color */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }

    .modal.open {
      display: block;
    }
    /* Modal Content/Box */
    .modal-content {
        background-color: #fefefe;
        margin: 15% auto; /* 15% from the top and centered */
        padding: 20px;
        border: 1px solid #888;
        width: 80%; /* Could be more or less, depending on screen size */
        max-width: 800px;
    }
    .modal-close {
        float: right;
        cursor: pointer;
    } 
  </style>
`;class PhotonBackendModal extends LitElement{render(){return html$1`
           ${photonSharedStyles} ${modalStyles}
          <div 
              class="${this.open?"modal open":"modal"}"
              @click="${evt=>this._closeModal(evt)}">
            <div class='modal-content'
              @click="${evt=>{evt.stopPropagation()}}">
              <div 
                  class='modal-close'
                  @click="${evt=>this._closeModal(evt)}">
                <mwc-icon 
                  class="modalCloseIcon">close</mwc-icon>
              </div>
              <photon-backend-picker
                  .backend="${this.backend}"
                  .conf="${this.conf}"
                  ?debug="${this.debug}"></photon-backend-picker>
            </div>
          </div>
        `}static get properties(){return{backend:{type:Object},conf:{type:Object},open:{type:Boolean},debug:{type:Boolean}}}_closeModal(evt){evt.stopPropagation();this.open=!1;this.dispatchEvent(new CustomEvent("close",{bubbles:!0,composed:!0}))}}window.customElements.define("photon-backend-modal",PhotonBackendModal);class PhotonBackendInfo extends LitElement{render(){if(!this.backend){return""}return html$1`
      ${photonSharedStyles}
      <style>
          .editBackendBtn {
            margin-left: 1rem;
            color: var(--app-primary-color);
            cursor: pointer;
          }
          .currentBackendLabel {
            font-size: 1em;
            font-weight: bold;
          }
          .currentBackendValue {
            font-size: 0.8em;
            font-family: monospace;
          }
          mwc-icon {
          background-color: transparent;
          color: var(--app-primary-color);
          padding: inherit;
          border-radius: inherit;
          margin-bottom: inherit;
          cursor: pointer;
          font-weight: inherit;
          --mdc-icon-size: 24px;
          }
      </style>
      <photon-backend-modal  
          .backend='${this.backend}' 
          .conf='${this.conf}'
          ?debug='${this.debug}'
          ?open='${this.showBackendChooser}'
          @close='${()=>this.showBackendChooser=!1}'></photon-backend-modal>
      <div class="flex align-items-center">
        <div class="column">
          <div class="currentBackendLabel">Backend: ${this.backend.label}</div>
          <div class="currentBackendValue">${this.backend.url}${this.backend.execEndpoint}</div>
        </div> 
        <mwc-icon 
            class="editBackendBtn"
            @click="${()=>this.editBackend()}">settings</mwc-icon>
      </div>
    `}static get properties(){return{backend:{type:Object},conf:{type:Object},showBackendChooser:{type:Boolean},debug:{type:Boolean}}}editBackend(){this.showBackendChooser=!0}}window.customElements.define("photon-backend-info",PhotonBackendInfo);const historyKey="history";let history=[];try{let newHistory=JSON.parse(sessionStorage.getItem(historyKey));if(Array.isArray(newHistory)){history=newHistory}}catch(error){console.error("[photon-history-helper] Invalid history in local storage, replacing it by an empty history",sessionStorage.getItem(historyKey))}function flush$3(){sessionStorage.setItem(historyKey,JSON.stringify(history))}function list(){return history}function push(context){history.push(context);flush$3()}function pop(){history.pop();flush$3()}function shift(){history.shift();flush$3()}function get$1(id){return history[id]}function last(){return history[history.length-1]}function clean$1(){return localStorage.removeItem(historyKey)}function replace(newHistory){history=newHistory;flush$3()}const historyHelper={flush:flush$3,list,push,pop,shift,get:get$1,last,clean:clean$1,replace};_exports.$photonHistoryHelperDefault=historyHelper;_exports.$photonHistoryHelper={default:historyHelper,flush:flush$3,list:list,push:push,pop:pop,shift:shift,get:get$1,last:last,clean:clean$1,replace:replace};let modalStyles$1=html$1`
  <style>
    /* The Modal (background) */
    .modal {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 10000; /* Sit on top */
        left: 0;
        top: 0;
        right: 0; /* Full width */
        bottom: 0; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgb(0,0,0); /* Fallback color */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }

    .modal.open {
      display: block;
    }
    /* Modal Content/Box */
    .modal-content {
        background-color: #fefefe;
        margin: 15% auto; /* 15% from the top and centered */
        padding: 20px;
        border: 1px solid #888;
        width: 80%; /* Could be more or less, depending on screen size */
        max-width: 800px;
    }
    .modal-close {
        float: right;
        cursor: pointer;
    } 
    .hotkey-key {
      background-color: #333;
      border: 1px solid #333;
      border-radius: 5px;
      box-shadow: 0 1px 0 #666 inset, 0 1px 0 #bbb;
      color: #fff;
      display: inline-block;
      font-size: 1em;
      margin-right: 5px;
      padding: 5px 9px;
      text-align: center;
    }
  </style>
`;class PhotonHotkeyHelp extends LitElement{render(){return html$1`
      ${photonSharedStyles} ${modalStyles$1}
      <div 
          class="${this.open?"modal open":"modal"}"
          @click="${evt=>this._closeModal(evt)}">
        <div class='modal-content'
          @click="${evt=>{evt.stopPropagation()}}">
          <div 
              class='modal-close'
              @click="${evt=>this._closeModal(evt)}">
            <mwc-icon 
              class="modalCloseIcon">close</mwc-icon>
          </div>
          <h2>Hotkeys outside WarpScript editor</h2>
          <p>            
            <span class="hotkey-key">e</span>,
            <span class="hotkey-key">r</span>
            Execute WarpScript
          </p>
          <p>            
            <span class="hotkey-key">a</span>
            Plot all the timeseries
          </p>
          <p>            
            <span class="hotkey-key">n</span>
            Don't plot any timeseries
          </p>
          <p>            
            <span class="hotkey-key">/</span>
            Use a RegExp to select the timeseries to plot
          </p>
          <p>     
          <p>            
            <span class="hotkey-key">h</span>
            Help
          </p>
          <p>            
            <span class="hotkey-key">Esc</span>
            Close dialog
          </p>
          <hr />
          <h2>Hotkeys in WarpScript editor</h2>
          <p>            
            <span class="hotkey-key">Ctrl+e</span>
            Execute WarpScript
          </p>
          <p>            
            <span class="hotkey-key">Ctrl+Space</span>
            Editor autocompletion
          </p>
        </div>
      </div>
    `}static get properties(){return{open:{type:Boolean}}}_closeModal(evt){evt.stopPropagation();this.open=!1;this.dispatchEvent(new CustomEvent("close",{bubbles:!0,composed:!0}))}}customElements.define("photon-hotkeys-help",PhotonHotkeyHelp);let modalStyles$2=html$1`
  <style>
    /* The Modal (background) */
    .modal {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 10000; /* Sit on top */
        left: 0;
        top: 0;
        right: 0; /* Full width */
        bottom: 0; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgb(0,0,0); /* Fallback color */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }

    .modal.open {
      display: block;
    }
    /* Modal Content/Box */
    .modal-content {
      background-color: #fefefe;
      margin: 15% auto; /* 15% from the top and centered */
      padding: 20px;
      border: 1px solid #888;
      width: 80%; /* Could be more or less, depending on screen size */
      max-width: 450px;
      display: flex;
      flex-flow: column nowrap;
      align-items: center;
    }
    .modal-close {
      float: right;
      cursor: pointer;
      align-self: flex-end;
    }
    .modal-content h2 {
      align-self: flex-start;
    } 

    .regexp-field {
      --photon-textfield-width: 400px;
    }

    .hotkey-key {
      background-color: #333;
      border: 1px solid #333;
      border-radius: 5px;
      box-shadow: 0 1px 0 #666 inset, 0 1px 0 #bbb;
      color: #fff;
      display: inline-block;
      font-size: 1em;
      margin-right: 5px;
      padding: 5px 9px;
      text-align: center;
    }
    mwc-button {
      background-color: var(--app-primary-color);
      color: var(--app-primary-contrast);
      margin: 5px;
    }
  </style>
`;class PhotonHotkeyRegexp extends LitElement{render(){return html$1`
      ${photonSharedStyles} ${modalStyles$2}
      <div 
          class="${this.open?"modal open":"modal"}"
          @click="${evt=>this._closeModal(evt)}">
        <div class='modal-content'
          @click="${evt=>{evt.stopPropagation()}}">
          <div 
              class='modal-close'
              @click="${evt=>this._closeModal(evt)}">
            <mwc-icon 
              class="modalCloseIcon">close</mwc-icon>
          </div>
          <h2>Regex selector</h2>
          <photon-textfield 
              id="regexp"
              class="regexp-field" 
              @change="${evt=>this._regexp=evt.detail}"
              label="RegExp"></photon-textfield>
          <mwc-button 
              icon="send" 
              @click="${evt=>this._select(evt)}"
              raised>Select</mwc-button>
        </div>
      </div>
    `}static get properties(){return{open:{type:Boolean}}}connectedCallback(){super.connectedCallback();this._regexp="";this._setHotkeys();this.renderRoot.querySelector("photon-textfield").focus()}_setHotkeys(){this._pressedHotkeys={};shortcuts.add("enter",evt=>this._select(evt),this)}_closeModal(evt){evt.stopPropagation();this.open=!1;this.dispatchEvent(new CustomEvent("close",{bubbles:!0,composed:!0}))}_select(evt){this.dispatchEvent(new CustomEvent("select-regexp",{detail:this._regexp,bubbles:!0,composed:!0}));this._closeModal(evt)}}customElements.define("photon-hotkeys-regexp",PhotonHotkeyRegexp);class PhotonHotkeys extends LitElement{static get properties(){return{_hotkeysRegexp:{type:Boolean},hotkeysHelp:{type:Boolean}}}connectedCallback(){super.connectedCallback();this._setHotkeys()}_setHotkeys(){this._pressedHotkeys={};shortcuts.add("e",evt=>{this.hotkeyHandlerWrapper(evt,"execute",()=>this.dispatchEvent(new CustomEvent("execute")))});shortcuts.add("r",evt=>{this.hotkeyHandlerWrapper(evt,"execute",()=>this.dispatchEvent(new CustomEvent("execute")))});shortcuts.add("/",evt=>{this.hotkeyHandlerWrapper(evt,"regexp",()=>{this._hotkeysRegexp=!0})});shortcuts.add("a",evt=>{this.hotkeyHandlerWrapper(evt,"select-all",()=>this.dispatchEvent(new CustomEvent("select-all")))});shortcuts.add("n",evt=>{this.hotkeyHandlerWrapper(evt,"select-none",()=>this.dispatchEvent(new CustomEvent("select-none")))});shortcuts.add("h",evt=>{this.hotkeyHandlerWrapper(evt,"help",()=>{this.hotkeysHelp=!0;this.dispatchEvent(new CustomEvent("help"))})});shortcuts.add("esc",evt=>{this.hotkeyHandlerWrapper(evt,"close",()=>{this.hotkeysHelp=!1;this._hotkeysRegexp=!1;this.dispatchEvent(new CustomEvent("close"))},this)})}hotkeyHandlerWrapper(evt,hotkey,callback){evt.preventDefault();if(this._pressedHotkeys[hotkey]){return}this._pressedHotkeys[hotkey]=!0;callback();setTimeout(()=>this._pressedHotkeys[hotkey]=!1,2e3)}render(){if(this.hotkeysHelp){return html$1`
        <photon-hotkeys-help
            id="hotkeyHelp"
            @close='${()=>this.hotkeysHelp=!1}'
            open></photon-hotkeys-help>
      `}if(this._hotkeysRegexp){return html$1`
        <photon-hotkeys-regexp
            id="hotkeyRegexp"
            @keypress="${evt=>evt.stopPropagation()}"
            @keydown="${evt=>evt.stopPropagation()}"
            @keyup="${evt=>evt.stopPropagation()}"
            @regexp='${evt=>console.log("[REGEXP]",evt.detail)}'
            @close='${()=>this._hotkeysRegexp=!1}'></photon-hotkeys-regexp>
      `}return html$1``}}customElements.define("photon-hotkeys",PhotonHotkeys);var MAX_DP=1E6,MAX_POWER=1E6,NAME="[big.js] ",INVALID=NAME+"Invalid ",INVALID_DP=INVALID+"decimal places",INVALID_RM=INVALID+"rounding mode",DIV_BY_ZERO=NAME+"Division by zero",P={},UNDEFINED,NUMERIC=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function _Big_(){function Big(n){var x=this;if(!(x instanceof Big))return n===UNDEFINED?_Big_():new Big(n);if(n instanceof Big){x.s=n.s;x.e=n.e;x.c=n.c.slice()}else{parse$1(x,n)}x.constructor=Big}Big.prototype=P;Big.DP=20;Big.RM=1;Big.NE=-7;Big.PE=21;Big.version="5.2.2";return Big}function parse$1(x,n){var e,i,nl;if(0===n&&0>1/n)n="-0";else if(!NUMERIC.test(n+=""))throw Error(INVALID+"number");x.s="-"==n.charAt(0)?(n=n.slice(1),-1):1;if(-1<(e=n.indexOf(".")))n=n.replace(".","");if(0<(i=n.search(/e/i))){if(0>e)e=i;e+=+n.slice(i+1);n=n.substring(0,i)}else if(0>e){e=n.length}nl=n.length;for(i=0;i<nl&&"0"==n.charAt(i);)++i;if(i==nl){x.c=[x.e=0]}else{for(;0<nl&&"0"==n.charAt(--nl););x.e=e-i-1;x.c=[];for(e=0;i<=nl;)x.c[e++]=+n.charAt(i++)}return x}function round(x,dp,rm,more){var xc=x.c,i=x.e+dp+1;if(i<xc.length){if(1===rm){more=5<=xc[i]}else if(2===rm){more=5<xc[i]||5==xc[i]&&(more||0>i||xc[i+1]!==UNDEFINED||1&xc[i-1])}else if(3===rm){more=more||!!xc[0]}else{more=!1;if(0!==rm)throw Error(INVALID_RM)}if(1>i){xc.length=1;if(more){x.e=-dp;xc[0]=1}else{xc[0]=x.e=0}}else{xc.length=i--;if(more){for(;9<++xc[i];){xc[i]=0;if(!i--){++x.e;xc.unshift(1)}}}for(i=xc.length;!xc[--i];)xc.pop()}}else if(0>rm||3<rm||rm!==~~rm){throw Error(INVALID_RM)}return x}function stringify$1(x,id,n,k){var e,s,Big=x.constructor,z=!x.c[0];if(n!==UNDEFINED){if(n!==~~n||n<(3==id)||n>MAX_DP){throw Error(3==id?INVALID+"precision":INVALID_DP)}x=new Big(x);n=k-x.e;if(x.c.length>++k)round(x,n,Big.RM);if(2==id)k=x.e+n+1;for(;x.c.length<k;)x.c.push(0)}e=x.e;s=x.c.join("");n=s.length;if(2!=id&&(1==id||3==id&&k<=e||e<=Big.NE||e>=Big.PE)){s=s.charAt(0)+(1<n?"."+s.slice(1):"")+(0>e?"e":"e+")+e}else if(0>e){for(;++e;)s="0"+s;s="0."+s}else if(0<e){if(++e>n)for(e-=n;e--;)s+="0";else if(e<n)s=s.slice(0,e)+"."+s.slice(e)}else if(1<n){s=s.charAt(0)+"."+s.slice(1)}return 0>x.s&&(!z||4==id)?"-"+s:s}P.abs=function(){var x=new this.constructor(this);x.s=1;return x};P.cmp=function(y){var isneg,x=this,xc=x.c,yc=(y=new x.constructor(y)).c,i=x.s,j=y.s,k=x.e,l=y.e;if(!xc[0]||!yc[0])return!xc[0]?!yc[0]?0:-j:i;if(i!=j)return i;isneg=0>i;if(k!=l)return k>l^isneg?1:-1;j=(k=xc.length)<(l=yc.length)?k:l;for(i=-1;++i<j;){if(xc[i]!=yc[i])return xc[i]>yc[i]^isneg?1:-1}return k==l?0:k>l^isneg?1:-1};P.div=function(y){var x=this,Big=x.constructor,a=x.c,b=(y=new Big(y)).c,k=x.s==y.s?1:-1,dp=Big.DP;if(dp!==~~dp||0>dp||dp>MAX_DP)throw Error(INVALID_DP);if(!b[0])throw Error(DIV_BY_ZERO);if(!a[0])return new Big(0*k);var bl,bt,n,cmp,ri,bz=b.slice(),ai=bl=b.length,al=a.length,r=a.slice(0,bl),rl=r.length,q=y,qc=q.c=[],qi=0,d=dp+(q.e=x.e-y.e)+1;q.s=k;k=0>d?0:d;bz.unshift(0);for(;rl++<bl;)r.push(0);do{for(n=0;10>n;n++){if(bl!=(rl=r.length)){cmp=bl>rl?1:-1}else{for(ri=-1,cmp=0;++ri<bl;){if(b[ri]!=r[ri]){cmp=b[ri]>r[ri]?1:-1;break}}}if(0>cmp){for(bt=rl==bl?b:bz;rl;){if(r[--rl]<bt[rl]){ri=rl;for(;ri&&!r[--ri];)r[ri]=9;--r[ri];r[rl]+=10}r[rl]-=bt[rl]}for(;!r[0];)r.shift()}else{break}}qc[qi++]=cmp?n:++n;if(r[0]&&cmp)r[rl]=a[ai]||0;else r=[a[ai]]}while((ai++<al||r[0]!==UNDEFINED)&&k--);if(!qc[0]&&1!=qi){qc.shift();q.e--}if(qi>d)round(q,dp,Big.RM,r[0]!==UNDEFINED);return q};P.eq=function(y){return!this.cmp(y)};P.gt=function(y){return 0<this.cmp(y)};P.gte=function(y){return-1<this.cmp(y)};P.lt=function(y){return 0>this.cmp(y)};P.lte=function(y){return 1>this.cmp(y)};P.minus=P.sub=function(y){var i,j,t,xlty,x=this,Big=x.constructor,a=x.s,b=(y=new Big(y)).s;if(a!=b){y.s=-b;return x.plus(y)}var xc=x.c.slice(),xe=x.e,yc=y.c,ye=y.e;if(!xc[0]||!yc[0]){return yc[0]?(y.s=-b,y):new Big(xc[0]?x:0)}if(a=xe-ye){if(xlty=0>a){a=-a;t=xc}else{ye=xe;t=yc}t.reverse();for(b=a;b--;)t.push(0);t.reverse()}else{j=((xlty=xc.length<yc.length)?xc:yc).length;for(a=b=0;b<j;b++){if(xc[b]!=yc[b]){xlty=xc[b]<yc[b];break}}}if(xlty){t=xc;xc=yc;yc=t;y.s=-y.s}if(0<(b=(j=yc.length)-(i=xc.length)))for(;b--;)xc[i++]=0;for(b=i;j>a;){if(xc[--j]<yc[j]){for(i=j;i&&!xc[--i];)xc[i]=9;--xc[i];xc[j]+=10}xc[j]-=yc[j]}for(;0===xc[--b];)xc.pop();for(;0===xc[0];){xc.shift();--ye}if(!xc[0]){y.s=1;xc=[ye=0]}y.c=xc;y.e=ye;return y};P.mod=function(y){var ygtx,x=this,Big=x.constructor,a=x.s,b=(y=new Big(y)).s;if(!y.c[0])throw Error(DIV_BY_ZERO);x.s=y.s=1;ygtx=1==y.cmp(x);x.s=a;y.s=b;if(ygtx)return new Big(x);a=Big.DP;b=Big.RM;Big.DP=Big.RM=0;x=x.div(y);Big.DP=a;Big.RM=b;return this.minus(x.times(y))};P.plus=P.add=function(y){var t,x=this,Big=x.constructor,a=x.s,b=(y=new Big(y)).s;if(a!=b){y.s=-b;return x.minus(y)}var xe=x.e,xc=x.c,ye=y.e,yc=y.c;if(!xc[0]||!yc[0])return yc[0]?y:new Big(xc[0]?x:0*a);xc=xc.slice();if(a=xe-ye){if(0<a){ye=xe;t=yc}else{a=-a;t=xc}t.reverse();for(;a--;)t.push(0);t.reverse()}if(0>xc.length-yc.length){t=yc;yc=xc;xc=t}a=yc.length;for(b=0;a;xc[a]%=10)b=0|(xc[--a]=xc[a]+yc[a]+b)/10;if(b){xc.unshift(b);++ye}for(a=xc.length;0===xc[--a];)xc.pop();y.c=xc;y.e=ye;return y};P.pow=function(n){var x=this,one=new x.constructor(1),y=one,isneg=0>n;if(n!==~~n||n<-MAX_POWER||n>MAX_POWER)throw Error(INVALID+"exponent");if(isneg)n=-n;for(;;){if(1&n)y=y.times(x);n>>=1;if(!n)break;x=x.times(x)}return isneg?one.div(y):y};P.round=function(dp,rm){var Big=this.constructor;if(dp===UNDEFINED)dp=0;else if(dp!==~~dp||dp<-MAX_DP||dp>MAX_DP)throw Error(INVALID_DP);return round(new Big(this),dp,rm===UNDEFINED?Big.RM:rm)};P.sqrt=function(){var r,c,t,x=this,Big=x.constructor,s=x.s,e=x.e,half=new Big(.5);if(!x.c[0])return new Big(x);if(0>s)throw Error(NAME+"No square root");s=_Mathsqrt(x+"");if(0===s||s===1/0){c=x.c.join("");if(!(1&c.length+e))c+="0";s=_Mathsqrt(c);e=(0|(e+1)/2)-(0>e||1&e);r=new Big((s==1/0?"1e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+e)}else{r=new Big(s)}e=r.e+(Big.DP+=4);do{t=r;r=half.times(t.plus(x.div(t)))}while(t.c.slice(0,e).join("")!==r.c.slice(0,e).join(""));return round(r,Big.DP-=4,Big.RM)};P.times=P.mul=function(y){var c,x=this,Big=x.constructor,xc=x.c,yc=(y=new Big(y)).c,a=xc.length,b=yc.length,i=x.e,j=y.e;y.s=x.s==y.s?1:-1;if(!xc[0]||!yc[0])return new Big(0*y.s);y.e=i+j;if(a<b){c=xc;xc=yc;yc=c;j=a;a=b;b=j}for(c=Array(j=a+b);j--;)c[j]=0;for(i=b;i--;){b=0;for(j=a+i;j>i;){b=c[j]+yc[i]*xc[j-i-1]+b;c[j--]=b%10;b=0|b/10}c[j]=(c[j]+b)%10}if(b)++y.e;else c.shift();for(i=c.length;!c[--i];)c.pop();y.c=c;return y};P.toExponential=function(dp){return stringify$1(this,1,dp,dp)};P.toFixed=function(dp){return stringify$1(this,2,dp,this.e+dp)};P.toPrecision=function(sd){return stringify$1(this,3,sd,sd-1)};P.toString=function(){return stringify$1(this)};P.valueOf=P.toJSON=function(){return stringify$1(this,4)};var Big=_Big_();_exports.$bigEsmDefault=_exports.Big=Big;_exports.$bigEsm={Big:Big,default:Big};let _looseJSON={},at,ch,escapee={'"':"\"","\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},text,error=function(m){throw new Error(`Syntax error - ${m} at char ${at} from '${text}'`)},next=function(){return ch=text.charAt(at++)},check=function(c){if(c!==ch){error("Expected '"+c+"' instead of '"+ch+"'")}ch=text.charAt(at++)},number=function(){let string="";if("-"===ch){string="-";check("-")}if("I"===ch){check("I");check("n");check("f");check("i");check("n");check("i");check("t");check("y");return-Infinity}while("0"<=ch&&"9">=ch){string+=ch;next()}if("."===ch){string+=".";while(next()&&"0"<=ch&&"9">=ch){string+=ch}}if("e"===ch||"E"===ch){string+=ch;next();if("-"===ch||"+"===ch){string+=ch;next()}while("0"<=ch&&"9">=ch){string+=ch;next()}}if(+string>Number.MAX_SAFE_INTEGER){console.log("[looseJSON] BigNumber",Big(string));return Big(string)}return+string},string=function(){let hex,i,string="",uffff;if("\""===ch){while(next()){if("\""===ch){next();return string}if("\\"===ch){next();if("u"===ch){uffff=0;for(i=0;4>i;i++){hex=parseInt(next(),16);if(!isFinite(hex)){break}uffff=16*uffff+hex}string+=_StringfromCharCode(uffff)}else if(escapee[ch]){string+=escapee[ch]}else{break}}else{string+=ch}}}error("Bad string")},white=function(){while(ch&&" ">=ch){next()}},word=function(){switch(ch){case"t":check("t");check("r");check("u");check("e");return!0;case"f":check("f");check("a");check("l");check("s");check("e");return!1;case"n":check("n");check("u");check("l");check("l");return null;case"N":check("N");check("a");check("N");return NaN;case"I":check("I");check("n");check("f");check("i");check("n");check("i");check("t");check("y");return 1/0;}error("Unexpected '"+ch+"'")},array=function(){let array=[];if("["===ch){check("[");white();if("]"===ch){check("]");return array}while(ch){array.push(value());white();if("]"===ch){check("]");return array}check(",");white()}}error("Bad array")},object=function(){let key,object={};if("{"===ch){check("{");white();if("}"===ch){check("}");return object}while(ch){key=string();white();check(":");if(Object.hasOwnProperty.call(object,key)){error("Duplicate key \""+key+"\"")}object[key]=value();white();if("}"===ch){check("}");return object}check(",");white()}}error("Bad object")},value=function(){white();switch(ch){case"{":return object();case"[":return array();case"\"":return string();case"-":return number();default:return"0"<=ch&&"9">=ch?number():word();}};_looseJSON.parse=function(source,reviver){let result;text=source;at=0;ch=" ";result=value();white();if(ch){error("Syntax error")}return"function"===typeof reviver?function walk(holder,key){let k,v,value=holder[key];if(value&&"object"===typeof value){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==void 0){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}({"":result},""):result};_looseJSON.stringify=function(object){console.debug("[looseJSON] stringify",object);let json=JSON.stringify(object,function(key,value){if(value!==value){return"__NaN__"}if(value===1/0){return"__Infinity__"}if(value===-1/0){return"__-Infinity__"}if(this[key]instanceof Big){let bigIntValue=this[key].toString();console.debug("[looseJSON] stringify - BigInt - ",bigIntValue);return"__BigInt__"+bigIntValue+"__"}return value}).replace(/"__BigInt__([0-9.-eE]*)__"/g,"$1").replace(/"__NaN__"/g,"NaN").replace(/"__Infinity__"/g,"Infinity").replace(/"__-Infinity__"/g,"-Infinity");return json};const looseJSON=_looseJSON;_exports.$photonLooseJSONDefault=_exports.looseJSON=looseJSON;_exports.$photonLooseJSON={looseJSON:looseJSON,default:looseJSON};const PhotonWarpscriptExec={exec:async(url,warpscript)=>{try{let responseObj=await fetch(url,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"text/plain; charset=UTF-8"},redirect:"follow",referrer:"client",body:warpscript});if(!responseObj.ok){throw responseObj}let response=await PhotonWarpscriptExec.handleResponse(responseObj);return response}catch(error){throw PhotonWarpscriptExec.handleError(error)}},handleResponse:async responseObj=>{let elapsed=PhotonWarpscriptExec._getElapsed(responseObj),fetched=PhotonWarpscriptExec._getFetched(responseObj),operations=PhotonWarpscriptExec._getOperations(responseObj),responseText=await responseObj.text(),stack=looseJSON.parse(responseText),response={stack:stack,options:{elapsed:elapsed,fetched:fetched,operations:operations}};console.log(response);return response},handleError:error=>{if(error.status!==void 0){error.options={fetched:PhotonWarpscriptExec._getFetched(error),elapsed:PhotonWarpscriptExec._getElapsed(error),operations:PhotonWarpscriptExec._getOperations(error)};error.errorLine=PhotonWarpscriptExec._getErrorLine(error);error.errorMsg=PhotonWarpscriptExec._getErrorMsg(error)}return error},_getElapsed:response=>{let elapsedHeader="X-Warp10-Elapsed";for(let header of response.headers){if(header[0].match("-Elapsed")){elapsedHeader=header[0]}}return response.headers.get(elapsedHeader)},_getFetched:response=>{let fetchedHeader="X-Warp10-Fetched";for(let header of response.headers){if(header[0].match("-Fetched")){fetchedHeader=header[0]}}return response.headers.get(fetchedHeader)},_getOperations:response=>{let operationsHeader="X-Warp10-Ops";for(let header of response.headers){if(header[0].match("-Ops")){operationsHeader=header[0]}}return response.headers.get(operationsHeader)},_getErrorLine:response=>{var errorLineHeader="X-Warp10-Error-Line";for(let header of response.headers){if(header[0].match("-Error-Line")){errorLineHeader=header[0]}}return response.headers.get(errorLineHeader)},_getErrorMsg:response=>{var errorMsgHeader="X-Warp10-Error-Message";for(let header of response.headers){if(header[0].match("-Error-Message")){errorMsgHeader=header[0]}}return response.headers.get(errorMsgHeader)}};_exports.$photonWarpscriptExecDefault=PhotonWarpscriptExec;_exports.$photonWarpscriptExec={default:PhotonWarpscriptExec};let _timeseriesTools={isArray:value=>{return value&&"object"===typeof value&&value instanceof Array&&"number"===typeof value.length&&"function"===typeof value.splice&&!value.propertyIsEnumerable("length")}};_timeseriesTools.isTimeseries=timeseries=>{return!(!timeseries||null===timeseries||null===timeseries.c||null===timeseries.l||null===timeseries.a||null===timeseries.v||!_timeseriesTools.isArray(timeseries.v))};_timeseriesTools.jsonToStack=(jsonList,prefixId)=>{let stack=[],id;jsonList.forEach((item,index)=>{if(prefixId!==void 0&&""!==prefixId){id=`${prefixId}-${index}`}else{id=`${index}`}if(_timeseriesTools.isArray(item)){stack.push(..._timeseriesTools.jsonToStack(item,id))}if(_timeseriesTools.isTimeseries(item)){item.id=id;stack.push(item)}});return stack};_timeseriesTools.serializeTimeseriesMetadata=(timeseries,labelLimit)=>{let serializedLabels=[],keys=Object.keys(timeseries.l);for(let i=0,key;i<keys.length;i++){key=keys[i];if(0<labelLimit&&i>=labelLimit){serializedLabels.push("\u2026");break}serializedLabels.push(`${key}=${timeseries.l[key]}`)}return`${timeseries.c}{${serializedLabels.join(",")}}`};_timeseriesTools.sameMetadata=(a,b)=>{if(a.c===void 0||b.c===void 0||a.l===void 0||b.l===void 0||!(a.l instanceof Object)||!(b.l instanceof Object)){console.error("[photon-timeseries-tools] sameMetadata - Error in timeseries, metadata is not well formed");return!1}if(a.c!==b.c){return!1}for(let p in a.l){if(!b.l.hasOwnProperty(p))return!1;if(a.l[p]!==b.l[p])return!1}for(let p in b.l){if(!a.l.hasOwnProperty(p))return!1}return!0};_timeseriesTools.isPlottable=timeseries=>{if(!_timeseriesTools.isTimeseries(timeseries)||0===timeseries.v.length){return!1}for(let i in timeseries.v){if(null!==timeseries.v[i][timeseries.v[i].length-1]){if("number"===typeof timeseries.v[i][timeseries.v[i].length-1]||timeseries.v[i][timeseries.v[i].length-1].constructor.prototype.toFixed!==void 0){return!0}break}}return!1};_timeseriesTools.isAnnotable=timeseries=>{if(!_timeseriesTools.isTimeseries(timeseries)||0===timeseries.v.length){return!1}for(let i in timeseries.v){if(null!==timeseries.v[i][timeseries.v[i].length-1]){if("number"!==typeof timeseries.v[i][timeseries.v[i].length-1]&&timeseries.v[i][timeseries.v[i].length-1].constructor.prototype.toFixed===void 0){return!0}break}}return!1};_timeseriesTools.sort=timeseries=>{if(timeseries.isSorted){return}timeseries.v=timeseries.v.sort(function(a,b){return a[0]-b[0]});timeseries.isSorted=!0};_timeseriesTools.timeRange=timeseries=>{_timeseriesTools.sort(timeseries);if(0===timeseries.v.length){return null}return[timeseries.v[0][0],timeseries.v[gts.v.length-1][0]]};_timeseriesTools.timeseriesToC3=(stack,options,inTimestamp=!1)=>{let data={xs:{},types:{},names:{},colors:{},columns:[]};stack.forEach((item,i)=>{let x=["X"+i],y=["Y"+i];item.v.forEach(val=>{let ts=val[0];if(!inTimestamp){ts=_Mathround(ts/1e3)}let value=val[val.length-1];x.push(ts);y.push(value)});data.xs["Y"+i]="X"+i;if(item.interpolate){data.types["Y"+i]=item.interpolate}if(item.name){data.names["Y"+i]=item.name}else{data.names["Y"+i]=_timeseriesTools.serializeTimeseriesMetadata(item)}if(item.color){data.colors["Y"+i]=item.color}data.columns.push(x);data.columns.push(y)});return data};const timeseriesTools=_timeseriesTools;_exports.$photonTimeseriesToolsDefault=_exports.timeseriesTools=timeseriesTools;_exports.$photonTimeseriesTools={timeseriesTools:timeseriesTools,default:timeseriesTools};class PhotonTimeseriesRenderer extends LitElement{createRenderRoot(){return this}render(){if(!this.ts){return}return html$1`
      <style>
        :host {
          --mdc-icon-size: 11px; 
        }        
        mwc-icon {
          background-color: var(--app-primary-contrast-muted);
          color: var(--app-primary-color);
          padding: 1px;
          border-radius: 3px;
          margin-bottom: 4px;
          cursor: pointer;
          font-weight: bolder;
          --mdc-icon-size: 11px;
        }
      </style>
      <span class="serializedTimeseries">
        ${timeseriesTools.serializeTimeseriesMetadata(this.ts,5)}
        <mwc-icon
            @click='${evt=>this.firePlotTsEvent(evt)}'>timeline</mwc-icon>
      </span>
    `}constructor(){super()}connectedCallback(){super.connectedCallback()}static get properties(){return{ts:{type:Object},path:{type:String}}}firePlotTsEvent(evt){console.log("Fire plot-ts",timeseriesTools.serializeTimeseriesMetadata(this.ts,5),this.path);evt.stopPropagation();this.dispatchEvent(new CustomEvent("plot-ts",{detail:{ts:this.ts,path:this.path},bubbles:!0,composed:!0}))}}window.customElements.define("photon-timeseries-renderer",PhotonTimeseriesRenderer);class PhotonResponseInspectorObjectPreview extends LitElement{createRenderRoot(){return this}render(){console.log("[photon-response-inspector-object-preview] render",this.data,typeof this.data);return html$1`
      ${this.markup(this.data,this.path,this.expanded)}
    `}static get properties(){return{data:{type:Object},path:{type:String},maxProperties:{type:Number},expanded:{type:Boolean}}}constructor(){super();this.maxProperties=3}markup(){if("object"!==typeof this.data||null===this.data||this.data instanceof Date||this.data instanceof RegExp){return html$1`
        <granite-inspector-object-value 
            .data=${this.data}></granite-inspector-object-value>
      `}if(this.data instanceof Array){return html$1`
        <span class='objectValueObject'> 
          <span>(${this.data.length})</span>

          ${this.expanded?"":html$1`
              <span>[</span>]
              ${html$1`${this.data.map((element,i)=>{if(timeseriesTools.isTimeseries(element)){return html$1`                  
                      <photon-timeseries-renderer 
                          .ts=${element} 
                          .path='${this.path}.${i}'></photon-timeseries-renderer>                    
                      ${i<this.data.length-1?html$1`<span>,&nbsp;</span>`:``}`}else{return html$1`
                      <granite-inspector-object-value 
                          .data=${element}></granite-inspector-object-value> 
                      ${i<this.data.length-1?html$1`<span>,&nbsp;</span>`:``}
                    `}})}`}
              <span>]</span>
            `}
        </span>
      `}else if("string"===typeof this.data){return html$1`
        <granite-inspector-object-value 
            .data='${this.data}' ></granite-inspector-object-value>
      `}else if(timeseriesTools.isTimeseries(this.data)){return html$1`
          <photon-timeseries-renderer 
              .ts=${this.data} 
              .path=${this.path}></photon-timeseries-renderer> `}else{let propertyNodes=[];for(let propertyName in this.data){if(Object.prototype.hasOwnProperty.call(this.data,propertyName)){const propertyValue=this.data[propertyName];let ellipsis="";if(propertyNodes.length===this.maxProperties-1&&Object.keys(this.data).length>this.maxProperties){ellipsis=html$1`<span></span>`}if(timeseriesTools.isTimeseries(propertyValue)){propertyNodes.push(html$1`
            <span>
              <granite-inspector-object-name 
                  .name=${propertyName}></granite-inspector-object-name>:&nbsp;
              <photon-timeseries-renderer 
                  .ts=${propertyValue} 
                  .path='${this.path}.${propertyName}'></photon-timeseries-renderer>
              ${ellipsis}
            </span>`)}else{propertyNodes.push(html$1`
            <span>
              <granite-inspector-object-name 
                  .name=${propertyName}></granite-inspector-object-name>
              <span>:&nbsp;</span>
              <granite-inspector-object-value 
                  .data=${propertyValue}></granite-inspector-object-value>
              ${ellipsis}
            </span>`)}if(""!=ellipsis)break}}if(0==propertyNodes.length){return html$1`${this.data.constructor.name} {}`}return html$1`
        <span class='objectValueObject'>
          <span>${this.data.constructor.name} {</span>
          ${propertyNodes.map((element,i)=>html$1`${element}${i<propertyNodes.length-1?html$1`<span>,&nbsp;</span>`:``}`)}
          <span>}</span> 
        </span>
      `}}}window.customElements.define("photon-response-inspector-object-preview",PhotonResponseInspectorObjectPreview);class PhotonResponseInspectorObjectRootLabel extends LitElement{createRenderRoot(){return this}render(){console.log("[photon-response-inspector-object-root-label] render",this.data,typeof this.data);if("string"===typeof this.name&&0<this.length){return html$1`
        <span>
          <granite-inspector-object-name 
              .name=${this.name}></granite-inspector-object-name>
          <span>:&nbsp;</span>
          <photon-response-inspector-object-preview 
              .data=${this.data} 
              .path=${this.path} 
              ?expanded=${this.expanded}></photon-response-inspector-object-preview>
        </span>
      `}else{return html$1`
        <photon-response-inspector-object-preview 
            .data=${this.data} 
            .path=${this.path} 
            ?expanded=${this.expanded}></photon-response-inspector-object-preview>
      `}}static get properties(){return{data:{type:Object},name:{type:String},path:{type:String},expanded:{type:Boolean}}}}window.customElements.define("photon-response-inspector-object-root-label",PhotonResponseInspectorObjectRootLabel);class PhotonResponseInspectorObjectLabel extends LitElement{createRenderRoot(){return this}render(){return html$1`
      <granite-inspector-object-name 
          .name=${this.name} 
          .dimmed=${this.isNonEnumerable}></granite-inspector-object-name>
      <span>:&nbsp;</span>
      ${timeseriesTools.isTimeseries(this.data)?html$1`
          <span class='objectValueObject'><span class="serializedTimeseries">
            <photon-timeseries-renderer 
                .ts=${this.data} 
                .path=$this.path}></photon-timeseries-renderer>
          </span>`:html$1`
          <granite-inspector-object-value 
              .data=${this.data}></granite-inspector-object-value>`}
    `}static get properties(){return{data:{type:Object},name:{type:String},path:{type:String},isNonEnumerable:{type:Boolean}}}}window.customElements.define("photon-response-inspector-object-label",PhotonResponseInspectorObjectLabel);const defaultNodeRenderer=({depth,name,data,isNonEnumerable,path,expanded})=>{return html$1`
      ${0===depth?html$1`
          <photon-response-inspector-object-root-label 
              .name=${name} 
              .data=${data} 
              .expanded=${expanded}
              .path=${path}></photon-response-inspector-object-root-label>`:html$1`
          <photon-response-inspector-object-label 
              .name=${name} 
              .data=${data} 
              .path=${path} 
              .expanded=${expanded}
              .isNonEnumerable=${isNonEnumerable}></photon-response-inspector-object-label>
        `}
    `};_exports.$photonNodeRendererDefault=defaultNodeRenderer;_exports.$photonNodeRenderer={default:defaultNodeRenderer};const createIterator=(sortObjectKeys,showNonEnumerable)=>{return function*(data){if(!("object"===typeof data&&null!==data||"function"===typeof data)){return}if(Array.isArray(data)){let i=0;for(let entry of data){if(Array.isArray(entry)&&2===entry.length){const[k,v]=entry;yield{name:k,data:v}}else{yield{name:i.toString(),data:entry}}i++}}else{let keys=Object.getOwnPropertyNames(data);if(timeseriesTools.isTimeseries(data)){keys=keys.filter(key=>{return"c"==key||"l"==key||"a"==key||"v"==key})}if(!0===sortObjectKeys){keys.sort()}else if("function"===typeof sortObjectKeys){keys.sort(sortObjectKeys)}for(let propertyName of keys){if(data.propertyIsEnumerable(propertyName)){const propertyValue=data[propertyName];yield{name:propertyName||`""`,data:propertyValue}}else if(showNonEnumerable){let propertyValue;try{propertyValue=data[propertyName]}catch(e){}if(propertyValue!==void 0){yield{name:propertyName,data:propertyValue,isNonenumerable:!0}}}}if(showNonEnumerable&&data!==Object.prototype){yield{name:"__proto__",data:Object.getPrototypeOf(data),isNonEnumerable:!0}}}}};_exports.$photonCreateIteratorDefault=createIterator;_exports.$photonCreateIterator={default:createIterator};const photonTheme={BASE_FONT_FAMILY:"monospace",BASE_FONT_SIZE:"14px",BASE_LINE_HEIGHT:"18px",BASE_BACKGROUND_COLOR:"var(--app-primary-color)",BASE_COLOR:"rgb(213, 213, 213)",OBJECT_NAME_COLOR:"var(--app-primary-contrast-2)",OBJECT_VALUE_NULL_COLOR:"rgb(127, 127, 127)",OBJECT_VALUE_UNDEFINED_COLOR:"rgb(127, 127, 127)",OBJECT_VALUE_REGEXP_COLOR:"var(--app-primary-contrast-4)",OBJECT_VALUE_STRING_COLOR:"var(--app-primary-contrast-4)",OBJECT_VALUE_SYMBOL_COLOR:"var(--app-primary-contrast-4)",OBJECT_VALUE_NUMBER_COLOR:"var(--app-primary-contrast-3)",OBJECT_VALUE_BOOLEAN_COLOR:"var(--app-primary-contrast-3)",OBJECT_VALUE_FUNCTION_KEYWORD_COLOR:"rgb(242, 85, 217)",HTML_TAG_COLOR:"rgb(93, 176, 215)",HTML_TAGNAME_COLOR:"rgb(93, 176, 215)",HTML_TAGNAME_TEXT_TRANSFORM:"lowercase",HTML_ATTRIBUTE_NAME_COLOR:"rgb(155, 187, 220)",HTML_ATTRIBUTE_VALUE_COLOR:"rgb(242, 151, 102)",HTML_COMMENT_COLOR:"rgb(137, 137, 137)",HTML_DOCTYPE_COLOR:"rgb(192, 192, 192)",ARROW_COLOR:"rgb(145, 145, 145)",ARROW_MARGIN_RIGHT:"3px",ARROW_FONT_SIZE:"12px",TREENODE_FONT_FAMILY:"monospace",TREENODE_FONT_SIZE:"14px",TREENODE_LINE_HEIGHT:"1.2rem",TREENODE_PADDING_LEFT:"12px",TABLE_BORDER_COLOR:"rgb(85, 85, 85)",TABLE_TH_BACKGROUND_COLOR:"rgb(44, 44, 44)",TABLE_TH_HOVER_COLOR:"rgb(48, 48, 48)",TABLE_SORT_ICON_COLOR:"black",TABLE_DATA_BACKGROUND_IMAGE:"linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 0) 50%, rgba(51, 139, 255, 0.0980392) 50%, rgba(51, 139, 255, 0.0980392))",TABLE_DATA_BACKGROUND_SIZE:"128px 32px"};class PhotonResponseInspector extends LitElement{createRenderRoot(){return this}shouldUpdate(){if(this.debug){console.log("[photon-response-inspector] shouldUpdate",this.stack)}if(this.stack){this.stack.forEach((item,index)=>{if(!this.plottedPaths){this.plottedPaths=[]}if(!this.plottedPaths[index]){this.plottedPaths[index]=[]}})}return!0}render(){if(this.debug){console.log("[photon-response-inspector] render begin",this.stack,this.stack[0])}let iterator=createIterator(!0);return html$1`
      ${photonSharedStyles}
      ${this._renderElementStyles()}
      <style>
        ${this.styles}
      </style>
    <div class="response-panel">
      ${this.stack!==void 0?this.stack.map((line,index)=>{return html$1`
            <div class="line">
              <div class="line-number">${index}:</div>
              <div class="line-content-container">
                <div 
                    class="line-content" 
                    @plot-ts='${evt=>this._onPlotTs(evt.detail,index)}'>
                  <granite-inspector-tree-view
                      name=''
                      .data=${line}
                      .expandLevel=0
                      .expandPath=${!1}
                      .sortObjectKeys=${!0}
                      .nodeRenderer=${this.nodeRenderer}
                      .dataIterator=${iterator}></granite-inspector-tree-view>
                </div>
              </div>
            </div>
          `}):""}      
    </div>
      
    `}constructor(){super();this.styles=baseStyles(photonTheme);this.nodeRenderer=defaultNodeRenderer;this.plottedPaths={}}connectedCallback(){super.connectedCallback()}static get properties(){return{stack:{type:Array},plottedPaths:{type:Array},nodeRenderer:{type:Function},debug:{type:Boolean}}}_onPlotTs(detail,index){if(!this.plottedPaths[index]){this.plottedPaths[index]=[]}if(0>this.plottedPaths[index].indexOf(detail.path)){this.plottedPaths[index].push(detail.path)}else{this.plottedPaths[index].splice(this.plottedPaths[index].indexOf(detail.path),1)}this.dispatchEvent(new CustomEvent("plotted-changed",{detail:this.plottedPaths}));if(this.debug){console.log("[photon-response-inspector] _onPlotTs",this.plottedPaths)}}_renderElementStyles(){return html$1`
      <style>
        .response-panel {
          width: calc(100% - 2rem);
          margin-top: 1.5rem;
          min-height: 1.5rem;
          padding: 1rem;
          margin-bottom: 1.5rem;
          background-color: var(--app-primary-color); 
          border: 1px solid #e3e3e3;
          border-radius: 4px;
          -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);
          box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05)
        }

        .line {
          width: 100%;
          font-size: 14px;
          font-family: monospace;
          display: flex;
          flex-wrap: nowrap;
          justify-content: stretch;
          
        }

        .line-number {
          width: 3rem;
          text-align: right;
          color: white;
        }

        .line-content-container {
          width: calc(100% - 3rem);
        }

        .line-content {
          margin-left: 1rem;
          color: white;
          word-wrap: break-word;
        }

        .serializedTimeseries {
          color: var(--app-primary-contrast);
        }

        photon-response-inspector-object-preview,
        photon-response-inspector-object-root-label,
        photon-response-inspector-object-label {
          font-size: 0px;
        }
        photon-response-inspector-object-preview span,
        photon-response-inspector-object-root-label span,
        photon-response-inspector-object-label span {
          font-size: 14px;
        }

        photon-response-inspector-object-preview .objectValueObject {
          font-size: 0px;
          font-style: italic;
        }

      </style>
    `}}window.customElements.define("photon-response-inspector",PhotonResponseInspector);var __decorate$3=void 0||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)if(d=decorators[i])r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r;return 3<c&&r&&Object.defineProperty(target,key,r),r};let Switch=class extends FormElement{constructor(){super(...arguments);this.checked=!1;this.disabled=!1;this._changeHandler=e=>{this.mdcFoundation.handleChange(e);this.dispatchEvent(new CustomEvent("change",{detail:{checked:this._input.checked},bubbles:!0,composed:!0}));this.checked=this.formElement.checked};this.mdcFoundationClass=MDCSwitchFoundation}renderStyle(){return style$4}createAdapter(){return Object.assign({},super.createAdapter(),{setNativeControlChecked:checked=>{this.formElement.checked=checked},setNativeControlDisabled:disabled=>{this.formElement.disabled=disabled}})}get ripple(){return this.rippleNode.ripple}render(){return html$1`
    ${this.renderStyle()}
    <div class="mdc-switch">
      <div class="mdc-switch__track"></div>
      <div class="mdc-switch__thumb-underlay" .ripple="${ripple()}">
        <div class="mdc-switch__thumb">
          <input type="checkbox" id="basic-switch" class="mdc-switch__native-control" role="switch" @change="${this._changeHandler}">
        </div>
      </div>
    </div>
    <slot></slot>`}};_exports.Switch=Switch;__decorate$3([property({type:Boolean}),observer$1(function(value){this.mdcFoundation.setChecked(value)})],Switch.prototype,"checked",void 0);__decorate$3([property({type:Boolean}),observer$1(function(value){this.mdcFoundation.setDisabled(value)})],Switch.prototype,"disabled",void 0);__decorate$3([query(".mdc-switch")],Switch.prototype,"mdcRoot",void 0);__decorate$3([query("input")],Switch.prototype,"formElement",void 0);__decorate$3([query(".mdc-switch__thumb-underlay")],Switch.prototype,"rippleNode",void 0);_exports.Switch=Switch=__decorate$3([customElement("photon-switch")],Switch);var photonSwitch={get Switch(){return Switch}};_exports.$photonSwitch=photonSwitch;class PhotonResponsePlot extends LitElement{render(){if(!this.stack||!this.plottedPaths){return``}return html$1`
        ${photonSharedStyles} 
        ${this._renderStyles()}
        ${this._renderC3()}        
        <div class="row flex justify-center">
          <div class="horizontal-flex-item">Dates</div> 
          <photon-switch 
              checked="${this.timestamps}" 
              on-change="${evt=>this._onTimestampsChange(evt)}"
              class="horizontal-flex-item"></photon-switch> 
          <div class="horizontal-flex-item">Timestamps</div>           
        </div>
    `}constructor(){super()}connectedCallback(){super.connectedCallback()}static get properties(){return{plottedPaths:{type:Array},stack:{type:Array},timestamps:{type:Boolean},debug:{type:Boolean}}}_renderStyles(){return html$1`
      <style>
        :host {
          display: block;
          width: 100%;
        }
        photon-switch {
          --mdc-theme-secondary: var(--app-primary-color);
        }

      </style>
    `}_onTimestampsChange(evt){if(this.debug){console.log("[photon-response-plot] _onTimestampsChange - timestamps:",evt.detail.checked)}this.timestamps=evt.detail.checked}_dataFromPlottedTs(){let plottedData={};if(this.debug){console.log("[photon-response-plot] _dataFromPlottedTs - plottedPaths:",this.plottedPaths)}Object.entries(this.plottedPaths).forEach(pathsByLevel=>{plottedData[pathsByLevel[0]]=pathsByLevel[1].filter(path=>{return!!this._queryObj(this.stack[pathsByLevel[0]],path)}).map(path=>{let item=this._queryObj(this.stack[pathsByLevel[0]],path);item.id=path;item.level=pathsByLevel[0];item.name=`${pathsByLevel[0]}: ${timeseriesTools.serializeTimeseriesMetadata(item)}`;return item})});if(this.debug){console.log("[photon-response-plot] _dataFromPlottedTs",this.plottedPaths,this.stack,plottedData)}return plottedData}_queryObj(obj,path){let steps=path.split(".");steps.shift();let data=steps.reduce((accumulator,current)=>{if("object"!==typeof accumulator){return!1}return accumulator[current]!==void 0?accumulator[current]:!1},obj);return data}_chartConf(){let conf={size:{height:340},point:{r:2,focus:{expand:{enabled:!0,r:4}}},axis:{x:{show:!0,centered:!0,type:"timeseries",tick:{centered:!0,count:6,outer:!1,culling:{max:4},fit:!0,multiline:!0,format:x=>{try{if(!this.timestamps){return x.toISOString().replace("T"," ").replace(/\.[0-9]+Z/,"")}return x.getTime()}catch(err){return""}}}},y:{show:!0,tick:{centered:!0,outer:!1,fit:!0,format:y=>{let value=y.toFixed(5),splittedValue=value.split("."),formattedIntPart=splittedValue[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),formattedDecimalPart=splittedValue[1].replace(/0+$/g,"");if(0===formattedDecimalPart.length){return formattedIntPart}return formattedIntPart+"."+formattedDecimalPart}}}},grid:{x:{show:!0},y:{show:!0}},legend:{hide:!1},tooltip:{grouped:!0}};if(this.debug){console.log("[photon-response-plot] _chartConf",conf)}return conf}_renderC3(){if(this.debug){console.log("[photon-response-plot] _renderC3 - this._dataFromPlottedTs()",this._dataFromPlottedTs())}let stack=Object.entries(this._dataFromPlottedTs()).map(entry=>entry[1]).reduce((acc,val)=>acc.concat(val),[]);if(this.debug){console.log("[photon-response-plot] _renderC3 - stack",stack)}let c3Data=timeseriesTools.timeseriesToC3(stack,{},this.timestamps);c3Data.unload=!0;if(this.debug){console.log("[photon-response-plot] _renderC3 - c3Data",c3Data,"timestamps",this.timestamps)}if(c3Data.columns&&0<c3Data.columns.length){return html$1`
        <granite-c3 
            .data=${c3Data} 
            .options=${this._chartConf()} 
            .debug=${this.debug}></granite-c3>
      `}}}window.customElements.define("photon-response-plot",PhotonResponsePlot);let fields=["url","execEndpoint","findEndpoint","fetchEndpoint","updateEndpoint","deleteEndpoint","headerName"],defaultBackend={id:"default",label:"Default backend",url:"http://127.0.0.1:8080/api/v0",execEndpoint:"/exec",findEndpoint:"/find",updateEndpoint:"/update",deleteEndpoint:"/delete",headerName:"X-Warp10-Token"},_photonPermalinkTools={};_photonPermalinkTools.encode=(payload,debug=!1)=>{let encoded=encodeURIComponent(btoa(unescape(encodeURIComponent(payload))).replace(/\//g,"_"));if(debug){console.debug("[photonPermalinkTools] encodeWarpscript",{payload,encoded})}return encoded};_photonPermalinkTools.encodeBackend=(backend,debug=!1)=>{if(!backend){return}let backendToEncode={};fields.forEach(field=>{if(backend[field]!==defaultBackend[field]){backendToEncode[field]=backend[field]}});if(debug){console.debug("[photonPermalinkTools] encodeBackend- backendToEncode",backendToEncode)}return _photonPermalinkTools.encode(JSON.stringify(backendToEncode),debug)};_photonPermalinkTools.decode=(permalink,debug=!1)=>{try{let decoded=decodeURIComponent(escape(atob(decodeURIComponent(permalink).replace(/_/g,"/"))));if(debug){console.debug("[photonPermalinkTools] decode",{permalink,decoded})}return decoded}catch(err){console.error("[photonPermalinkTools] decode - error decoding permalink",permalink,err);return!1}};_photonPermalinkTools.decodeBackend=(permalink,debug=!1)=>{let decoded=_photonPermalinkTools.decode(permalink,debug);if(!decoded){return!1}let backend;try{backend=JSON.parse(decoded)}catch(e){backend={url:decoded}}fields.forEach(field=>{if(!backend[field]){backend[field]=defaultBackend[field]}});if(debug){console.debug("[photonPermalinkTools] decodeBackend - decode :",{permalink,backend})}return backend};_photonPermalinkTools.generatePermalink=(warpscript,backend,debug=!1)=>{let encodedWarpscript=_photonPermalinkTools.encode(warpscript,debug),encodedBackend=_photonPermalinkTools.encodeBackend(backend,debug);if(debug){console.debug("[photonPermalinkTools] generatePermalink",`/permalink/${encodedWarpscript}/${encodedBackend}`)}return`/permalink/${encodedWarpscript}/${encodedBackend}`};_photonPermalinkTools.decodePermalink=(permalink,debug=!1)=>{let permalinkFragments=permalink.split("/"),warpscript=2<permalinkFragments.length&&permalinkFragments[2]?_photonPermalinkTools.decode(permalinkFragments[2]):null,backend=3<permalinkFragments.length&&permalinkFragments[3]?_photonPermalinkTools.decodeBackend(permalinkFragments[3]):null;if(debug){console.debug("[photonPermalinkTools] decodePermalink",{warpscript,backend})}return{warpscript,backend}};_photonPermalinkTools.cropPermalink=(permalink,maxDisplayLength,debug=!1)=>{if(debug){console.debug("[photonPermalinkTools cropPermalink",maxDisplayLength)}if(permalink.length>maxDisplayLength){return permalink.slice(0,maxDisplayLength)+"..."}return permalink};const photonPermalinkTools=_photonPermalinkTools;_exports.$photonPermalinkToolsDefault=_exports.photonPermalinkTools=photonPermalinkTools;_exports.$photonPermalinkTools={photonPermalinkTools:photonPermalinkTools,default:photonPermalinkTools};const bundledImportMeta$5={...meta,url:new URL("../node_modules/%40photon-elements/photon-ide-elements/photon-query-editor.js",meta.url).href};class PhotonQueryEditor extends LitElement{render(){console.log("rendering backend",this.backend);return html$1`
      ${photonSharedStyles}
      ${this._renderElementStyles()}

      ${this._executing?html$1`
          <div class='spinner'>
            <granite-spinner active hover></granite-spinner>
          </div>
        `:""}
      
      <div class='row'>
        <ace-widget
            id="editor"
            theme="ace/theme/eclipse"
            mode="ace/mode/warpscript"
            softtabs
            wrap
            placeholder="Type your WarpScript here..."
            @editor-content="${evt=>this.editorChangeAction(evt)}"
            @keypress="${evt=>evt.stopPropagation()}"
            @keydown="${evt=>evt.stopPropagation()}"
            @keyup="${evt=>evt.stopPropagation()}"
            initial-focus
            .value=${this.warpscript}
            .debug=${this.debug}> 
        </ace-widget>   
      </div>
      <div class='row flex-end'>
        <mwc-button id='execButton' 
            icon="send" 
            label="Execute"
            @click="${()=>this.execute()}"
            raised></mwc-button>
      </div>
      ${this.response?this._renderResponse(this.response,this._plottedPaths):""}
    `}static get properties(){return{warpscript:{type:String},backend:{type:Object},elapsed:{type:Number},response:{type:Object},debug:{type:Boolean},_plottedPaths:{type:Array},_executing:{type:Boolean}}}constructor(){super()}firstUpdated(){if(this.debug){console.debug("[photon-query-editor] firstUpdated",this.renderRoot,this.renderRoot.querySelector("div"))}this.warpscript=this.innerHTML||this.warpscript||"";this.$={editor:this.renderRoot.querySelector("#editor"),warpscriptcaller:this.renderRoot.querySelector("#warpscriptcaller")};this.removeAttribute("cloak");this._setHotkeys()}_setHotkeys(){this._pressedHotkeys={};this.$.editor.editor.commands.addCommand({name:"execWarpscript",bindKey:{win:"Ctrl-e",mac:"Ctrl-e"},exec:()=>this.execute()})}hotkeyHandlerWrapper(evt,hotkey,callback){console.log("[photon-query-editor] hotkeyHandlerWrapper",hotkey);evt.preventDefault();if(this._pressedHotkeys[hotkey]){return}this._pressedHotkeys[hotkey]=!0;callback();setTimeout(()=>this._pressedHotkeys[hotkey]=!1,2e3)}editorChangeAction(evt){if(this.warpscript===evt.detail.value){return}this.warpscript=evt.detail.value;if(this.debug){console.debug("[photon-query-editor] editorChangeAction",this.warpscript)}}execute(){if(this.debug){console.debug("[photon-query-editor] Execute",this.warpscript)}this.renderRoot.querySelector("#execButton").blur();this.dispatchEvent(new CustomEvent("exec",{detail:{warpscript:this.warpscript,backend:this.backend},bubbles:!0,composed:!0}));this._executing=!0;PhotonWarpscriptExec.exec(`${this.backend.url}${this.backend.execEndpoint}`,this.warpscript).then(response=>this._handleResponse(response)).catch(error=>this._handleError(error))}_handleResponse(response){if(this.debug){console.log("[photon-query-editor] _handleResponse",response,looseJSON.stringify(response.stack))}this.dispatchEvent(new CustomEvent("response",{detail:{warpscript:this.warpscript,backend:this.backend,response:this.response},bubbles:!0,composed:!0}));this._executing=!1;this.response=response;if(this._plottedPaths){let plottedPaths={};Object.entries(this._plottedPaths).forEach(kv=>plottedPaths[kv[0]]=[]);this._plottedPaths=plottedPaths}if(this.debug){console.log("[photon-query-editor] _handleResponse done")}}_handleError(error){if(this.debug){console.log("[photon-query-editor] _handleError",error)}this.dispatchEvent(new CustomEvent("error",{detail:{warpscript:this.warpscript,backend:this.backend,error:error},bubbles:!0,composed:!0}));this._executing=!1;this.response=error;if(this.debug){console.debug("[photon-query-editor] _handleError",this.response)}}_formatElapsedTime(elapsed){console.log("ELAPSED",elapsed);if(1e3>elapsed){return`${this.elapsed} ns`}if(1e6>elapsed){return`${(elapsed/1e3).toFixed(3)} s`}if(1e9>elapsed){return`${(elapsed/1e6).toFixed(3)} ms`}return`${(elapsed/1e9).toFixed(3)} s`}selectAll(){if(!this.response){return}function flattenWithPath(element,path){if(Array.isArray(element)){return element.reduce((acc,val,index)=>{if(Array.isArray(val)){return acc.concat(flattenWithPath(val,`${path}.${index}`))}if(timeseriesTools.isTimeseries(val)){return acc.concat(`${path}.${index}`)}return acc},[])}if(timeseriesTools.isTimeseries(element)){return[path]}}this._plottedPaths=this.response.stack.map(line=>flattenWithPath(line,"$"));if(this.debug){console.log("[photon-query-editor] selectAll - plotted paths",this._plottedPaths)}}selectNone(){if(!this.response){return}if(this.debug){console.log("[photon-query-editor] selectNone")}this._plottedPaths=[]}selectRegExp(regexp){if(!this.response){return}function flattenWithPath(element,path){if(Array.isArray(element)){return element.reduce((acc,val,index)=>{if(Array.isArray(val)){return acc.concat(flattenWithPath(val,`${path}.${index}`))}if(timeseriesTools.isTimeseries(val)&&timeseriesTools.serializeTimeseriesMetadata(val).match(regexp)){return acc.concat(`${path}.${index}`)}},[])}if(timeseriesTools.isTimeseries(element)&&timeseriesTools.serializeTimeseriesMetadata(element).match(regexp)){return[path]}return[]}this._plottedPaths=this.response.stack.map(line=>flattenWithPath(line,"$"));if(this.debug){console.log(`[photon-query-editor] selectRegExp /${regexp}/`,this._plottedPaths)}}_renderResponse(){if(this.debug){console.log("[photon-query-editor] _renderResponse",this.response,typeof this.response);console.dir(this.response)}return html$1`
      ${this._renderResponsePermalink()}

      ${"object"===typeof this.response&&null!==this.response&&this.response.options?this._renderResponseMetadata():""}
      ${"object"===typeof this.response&&null!==this.response&&this.response.stack&&Array.isArray(this.response.stack)?this._renderResponseData():""}
      ${this._renderError()}
    `}_renderResponsePermalink(){return html$1`
      <div class="row">
        <p>
          Permalink:
          <a href="#${photonPermalinkTools.generatePermalink(this.warpscript,this.backend)}">
            #${photonPermalinkTools.cropPermalink(photonPermalinkTools.generatePermalink(this.warpscript,this.backend),60)}
          </a>
        </p>
      </div>
    `}_renderResponseMetadata(){return html$1`
      <div class="row flex-end">
          Your last script execution took ${this._formatElapsedTime(this.response.options.elapsed)} serverside, 
          fetched ${this.response.options.fetched} datapoints and performed 
          ${this.response.options.operations} WarpScript operations.
      </div>
    `}_renderResponseData(){if(!this.response.errorLine&&!this.response.errorMsg){return html$1`

      <div class="row">
        <photon-response-inspector 
            .stack=${this.response.stack}
            .plottedPaths=${this._plottedPaths}
            @plotted-changed='${evt=>{this._plottedPaths={...evt.detail}}}'
            .debug=${this.debug}></photon-response-inspector>    
      </div>
      <div class="row">
        <photon-response-plot 
            .stack=${this.response.stack}
            .plottedPaths=${this._plottedPaths}
            .debug=${this.debug}></photon-response-plot>
      </div>
      `}}_renderError(){if(this.response.errorLine||this.response.errorMsg){return html$1`
        <granite-alert level="danger">       
          <p>ERROR</p>
          <p> ${this.response.errorLine?`line #${this.response.errorLine}`:""} ${this.response.errorMsg}</p>
        </granite-alert>
      `}if("object"!==typeof this.response||null===this.response||!this.response.stack||!Array.isArray(this.response.stack)){return html$1`
            <granite-alert level="danger">        
              <p>ERROR</p>
              <p>${this.response}</p>
            </granite-alert>
          `}}_renderSlot(){return this.innerHTML||this.warpscript||""}_renderElementStyles(){return html$1`
    <style>
      :host {
        display: block;
        padding: 30px;
        --app-secondary-color: black;
      }
      
      *:hidden {
        visibility: hidden;
      }

      .title {
        text-transform: capitalize;
      }

      .button_bar {
        display: flex;
        justify-content: flex-end;
        align-items: center;
      }

      .clearfix:before,
      .clearfix:after {
        content: " "; /* 1 */
        display: table; /* 2 */
      }

      .clearfix:after {
        clear: both;
      }
      
      .top-10 {
        margin-top: 10px;
      }

      photon-response[hidden] {
        display: none;
      }
      granite-alert[hidden] {
        display: none;
      }
      mwc-button {
        background-color: var(--app-primary-color);
        color: var(--app-primary-contrast);
        margin: 5px;
        --mdc-theme-on-primary: var(--app-primary-contrast);
        --mdc-theme-primary: var(--app-primary-color);
      }
      mwc-button iron-icon {
        padding-right: 10px;
      }

      granite-spinner {
        z-index: 100;
      }

      .currentBackend {
        float: right;
        display: flex;
        flex-flow: row;
        align-items: center;
      }
      .currentBackendInfo{
        display: flex;
        flex-flow: column;
      }
      .currentBackendTitle {
        display: flex;
        flex-flow: row;
        align-items: center;
      }
      .currentBackendLabel {
        font-size: 1em;
        font-weight: bold;
      }
      .currentBackendValue {
        font-size: 0.8em;
        font-family: monospace;
      }
      .currentBackendEdit {
        color: var(--primary-color);
        margin-right: 0.5em;
        cursor: pointer;
      }


      photon-response-inspector {
        width: 100%;
      }
    </style>
    `}pathFromUrl(url){return url.substring(0,url.lastIndexOf("/")+1)}importPath(){return`${this.pathFromUrl(bundledImportMeta$5.url)}`}}window.customElements.define("photon-query-editor",PhotonQueryEditor);const bundledImportMeta$6={...meta,url:new URL("../node_modules/%40photon-elements/photon-ide-elements/photon-query.js",meta.url).href};class PhotonQuery extends LitElement{render(){console.log("rendering backend",this.backend);return html$1`
      ${photonSharedStyles}
      ${this._renderElementStyles()}


      <granite-yaml-remote-parser 
          id="conf-loader" 
          .url=${this.confPath} 
          @yaml-parsed="${evt=>this._confLoaded(evt.detail.obj)}}"
          .debug=${this.debug}
          auto ></granite-yaml-remote-parser>

      <div class="row align-items-center flex-end ">
        <photon-backend-info 
            .backend=${this.backend} 
            .conf=${this.conf} 
            @backend-change="${evt=>{if(this.debug){console.log("[photon-query] on-backend-change",evt.detail)}this.backend=evt.detail}}"
            @keypress="${evt=>evt.stopPropagation()}"
            @keydown="${evt=>evt.stopPropagation()}"
            @keyup="${evt=>evt.stopPropagation()}"
            .debug=${this.debug}></photon-backend-info>
        
        <mwc-icon class="help"
            @click="${()=>this._help()}">help</mwc-icon>
      </div>



      <photon-hotkeys
          @execute="${()=>this.queryEditor.execute()}"
          @select-all="${()=>this.queryEditor.selectAll()}"
          @select-none="${()=>this.queryEditor.selectNone()}"
          @select-regexp="${evt=>this.queryEditor.selectRegExp(evt.detail)}"
          .debug=${this.debug}
          ></photon-hotkeys>

      <photon-query-editor
          id="photon-query-editor"
          .backend=${this.backend}    
          .warpscript=${this.warpscript}
          .debug=${this.debug}
          @exec='${evt=>this._onExec(evt)}'
          cloak></photon-query-editor>
    `}static get properties(){return{warpscript:{type:String},backend:{type:Object},conf:{type:Object},confPath:{type:String},debug:{type:Boolean}}}constructor(){super();this._defaultBackend={id:"default",label:"Default backend",url:"http://127.0.0.1:8080/api/v0",execEndpoint:"/exec",findEndpoint:"/find",updateEndpoint:"/update",deleteEndpoint:"/delete",headerName:"X-Warp10-Token"};this.confPath=`${this.importPath()}photon-conf.yaml`}firstUpdated(){this.initBackend();let decodedPermalink=photonPermalinkTools.decodePermalink(location.hash,this.debug);if(this.debug){console.log("[photon-query] connectedCallback - decodedPermalink",decodedPermalink)}let lastExecWarpsacript=historyHelper.last()&&historyHelper.last().warpscript?historyHelper.last().warpscript:!1;this.backend=historyHelper.last()&&historyHelper.last().backend?historyHelper.last().backend:this.backend;this.backend=decodedPermalink.backend||this.backend;this.warpscript=decodedPermalink.warpscript||lastExecWarpsacript||this.innerHTML||this.warpscript||"";this.queryEditor=this.renderRoot.querySelector("#photon-query-editor");this.removeAttribute("cloak")}initBackend(){if(sessionStorage.getItem("warp10-backend-conf")){this.backend=JSON.parse(sessionStorage.getItem("warp10-backend-conf"));return}this.backend=this._defaultBackend}_confLoaded(conf){if(!conf){return}this.conf=conf;if(this.debug){console.debug("[photon-query] _confLoaded",this.conf)}if(sessionStorage.getItem("warp10-backend-conf")){this.backend=JSON.parse(sessionStorage.getItem("warp10-backend-conf"));return}if(conf.backends&&0<conf.backends.length){let defaultConfBackend=conf.backends.filter(backend=>backend.default);if(0<defaultConfBackend.length){this.backend=defaultConfBackend[0];return}this.backend=conf.backends[0];return}this.backend=this._defaultBackend}_onExec(evt){let backend=evt.detail.backend,warpscript=evt.detail.warpscript;if(this.debug){console.debug("[photon-query] _onExec",{backend,warpscript})}let date=new Date;historyHelper.push({backend,warpscript,date});location.hash=photonPermalinkTools.generatePermalink(warpscript,backend,this.debug)}_help(){if(this.debug){console.debug("[photon-query] _help",this.renderRoot.querySelector("photon-hotkeys"))}this.renderRoot.querySelector("photon-hotkeys").hotkeysHelp=!0}_renderElementStyles(){return html$1`
    <style>
      :host {
        display: block;
        padding: 30px;
        --app-secondary-color: black;
      }
      
      *:hidden {
        visibility: hidden;
      }

      .title {
        text-transform: capitalize;
      }

      .clearfix:before,
      .clearfix:after {
        content: " "; /* 1 */
        display: table; /* 2 */
      }

      .clearfix:after {
        clear: both;
      }
      
      .top-10 {
        margin-top: 10px;
      }

      photon-response[hidden] {
        display: none;
      }
      granite-alert[hidden] {
        display: none;
      }

      granite-spinner {
        z-index: 100;
      }

      .currentBackend {
        float: right;
        display: flex;
        flex-flow: row;
        align-items: center;
      }
      .currentBackendInfo{
        display: flex;
        flex-flow: column;
      }
      .currentBackendTitle {
        display: flex;
        flex-flow: row;
        align-items: center;
      }
      .currentBackendLabel {
        font-size: 1em;
        font-weight: bold;
      }
      .currentBackendValue {
        font-size: 0.8em;
        font-family: monospace;
      }
      .currentBackendEdit {
        color: var(--primary-color);
        margin-right: 0.5em;
        cursor: pointer;
      }


      photon-response-inspector {
        width: 100%;
      }
      mwc-icon.help {
          background-color: transparent;
          color: var(--app-primary-color);
          padding: inherit;
          border-radius: inherit;
          margin-bottom: 0;
          cursor: pointer;
          font-weight: inherit;
          --mdc-icon-size: 24px;
          margin-left: 16px;
          }
    </style>
    `}pathFromUrl(url){return url.substring(0,url.lastIndexOf("/")+1)}importPath(){return`${this.pathFromUrl(bundledImportMeta$6.url)}`}}window.customElements.define("photon-query",PhotonQuery);class PhotonApp extends LitElement{render(){return html$1`
      <photon-query confPath='photon-conf.yaml' ?debug=${this.debug}></photon-query>
    `}static get properties(){return{debug:Boolean}}}window.customElements.define("photon-app",PhotonApp)});